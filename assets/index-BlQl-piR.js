const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Crik6dsm.js","assets/react-vendor-DXJ6-PAN.js","assets/ui-vendor-Bv5liUTD.js","assets/charts-vendor-iy6dvaiD.js","assets/utils-vendor-DlfHXqPH.js"])))=>i.map(i=>d[i]);
import{c as Ab,a as Cb,u as wx,j as n,B as Eb,P as ju,b as Lb,d as Tb,e as Xs,f as Bh,V as Nx,R as Db,g as Ob,h as Mb,i as Rb,k as zb,T as jx,I as Ib,S as Sx,l as kx,m as Fb,C as _x,n as Bb,L as Ax,o as Cx,p as Pb,q as Ub,r as Ex,s as qb,t as Hb}from"./ui-vendor-Bv5liUTD.js";import{d as Vb,e as Gb,r as Me,a as Yb,u as Lx,N as d1,c as Zb,L as Vi,f as uc,h as Xb,i as Kb,g as Tx,j as xh,H as Qb,k as Jb,l as Fa}from"./react-vendor-DXJ6-PAN.js";import{c as Dx}from"./charts-vendor-iy6dvaiD.js";import{X as fu,W as Wb,a as $b,H as Ox,U as Ni,F as Mn,b as Js,M as Kh,P as mu,C as Qh,S as Jh,c as h1,d as f1,e as ic,L as Ph,f as ev,D as tv,E as Mx,g as Uh,h as rv,i as av,j as Wh,k as ac,l as Qs,m as wd,T as wu,n as ji,o as Nd,p as Gi,q as Fm,r as Bm,s as Rn,t as vi,u as $h,v as ef,A as xd,w as Rx,x as nv,y as iv,z as wo,Q as sv,B as sc,G as lv,K as ld,I as ov,J as pu,R as Nm,N as cv,O as m1,V as Nu,Y as p1,Z as uv,_ as dv,$ as b0,a0 as hv,a1 as v0,a2 as w0,a3 as fv,a4 as mv,a5 as pv,a6 as gv}from"./utils-vendor-DlfHXqPH.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(c){if(c.ep)return;c.ep=!0;const o=r(c);fetch(c.href,o)}})();var N0={exports:{}},od={},j0={exports:{}},S0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g1;function xv(){return g1||(g1=1,(function(i){function a(W,ie){var ee=W.length;W.push(ie);e:for(;0<ee;){var ue=ee-1>>>1,ve=W[ue];if(0<c(ve,ie))W[ue]=ie,W[ee]=ve,ee=ue;else break e}}function r(W){return W.length===0?null:W[0]}function l(W){if(W.length===0)return null;var ie=W[0],ee=W.pop();if(ee!==ie){W[0]=ee;e:for(var ue=0,ve=W.length,ce=ve>>>1;ue<ce;){var z=2*(ue+1)-1,Q=W[z],ae=z+1,oe=W[ae];if(0>c(Q,ee))ae<ve&&0>c(oe,Q)?(W[ue]=oe,W[ae]=ee,ue=ae):(W[ue]=Q,W[z]=ee,ue=z);else if(ae<ve&&0>c(oe,ee))W[ue]=oe,W[ae]=ee,ue=ae;else break e}}return ie}function c(W,ie){var ee=W.sortIndex-ie.sortIndex;return ee!==0?ee:W.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var f=[],p=[],b=1,N=null,S=3,g=!1,E=!1,w=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(W){for(var ie=r(p);ie!==null;){if(ie.callback===null)l(p);else if(ie.startTime<=W)l(p),ie.sortIndex=ie.expirationTime,a(f,ie);else break;ie=r(p)}}function q(W){if(w=!1,M(W),!E)if(r(f)!==null)E=!0,P||(P=!0,A());else{var ie=r(p);ie!==null&&$(q,ie.startTime-W)}}var P=!1,B=-1,V=5,F=-1;function re(){return C?!0:!(i.unstable_now()-F<V)}function U(){if(C=!1,P){var W=i.unstable_now();F=W;var ie=!0;try{e:{E=!1,w&&(w=!1,D(B),B=-1),g=!0;var ee=S;try{t:{for(M(W),N=r(f);N!==null&&!(N.expirationTime>W&&re());){var ue=N.callback;if(typeof ue=="function"){N.callback=null,S=N.priorityLevel;var ve=ue(N.expirationTime<=W);if(W=i.unstable_now(),typeof ve=="function"){N.callback=ve,M(W),ie=!0;break t}N===r(f)&&l(f),M(W)}else l(f);N=r(f)}if(N!==null)ie=!0;else{var ce=r(p);ce!==null&&$(q,ce.startTime-W),ie=!1}}break e}finally{N=null,S=ee,g=!1}ie=void 0}}finally{ie?A():P=!1}}}var A;if(typeof T=="function")A=function(){T(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,j=H.port2;H.port1.onmessage=U,A=function(){j.postMessage(null)}}else A=function(){k(U,0)};function $(W,ie){B=k(function(){W(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var ee=S;S=ie;try{return W()}finally{S=ee}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ee=S;S=W;try{return ie()}finally{S=ee}},i.unstable_scheduleCallback=function(W,ie,ee){var ue=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,W){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ee+ve,W={id:b++,callback:ie,priorityLevel:W,startTime:ee,expirationTime:ve,sortIndex:-1},ee>ue?(W.sortIndex=ee,a(p,W),r(f)===null&&W===r(p)&&(w?(D(B),B=-1):w=!0,$(q,ee-ue))):(W.sortIndex=ve,a(f,W),E||g||(E=!0,P||(P=!0,A()))),W},i.unstable_shouldYield=re,i.unstable_wrapCallback=function(W){var ie=S;return function(){var ee=S;S=ie;try{return W.apply(this,arguments)}finally{S=ee}}}})(S0)),S0}var x1;function yv(){return x1||(x1=1,j0.exports=xv()),j0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function bv(){if(y1)return od;y1=1;var i=yv(),a=Vb(),r=Gb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(o(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(l(188));return t!==e?null:e}for(var s=e,u=t;;){var x=s.return;if(x===null)break;var v=x.alternate;if(v===null){if(u=x.return,u!==null){s=u;continue}break}if(x.child===v.child){for(v=x.child;v;){if(v===s)return f(x),e;if(v===u)return f(x),t;v=v.sibling}throw Error(l(188))}if(s.return!==u.return)s=x,u=v;else{for(var I=!1,J=x.child;J;){if(J===s){I=!0,s=x,u=v;break}if(J===u){I=!0,u=x,s=v;break}J=J.sibling}if(!I){for(J=v.child;J;){if(J===s){I=!0,s=v,u=x;break}if(J===u){I=!0,u=v,s=x;break}J=J.sibling}if(!I)throw Error(l(189))}}if(s.alternate!==u)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,S=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=U&&e[U]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function j(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case q:return"Suspense";case P:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case T:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:j(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return j(e(t))}catch{}}return null}var $=Array.isArray,W=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],ve=-1;function ce(e){return{current:e}}function z(e){0>ve||(e.current=ue[ve],ue[ve]=null,ve--)}function Q(e,t){ve++,ue[ve]=e.current,e.current=t}var ae=ce(null),oe=ce(null),ye=ce(null),Se=ce(null);function _e(e,t){switch(Q(ye,t),Q(oe,e),Q(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Mg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Mg(t),e=Rg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ae),Q(ae,e)}function Ae(){z(ae),z(oe),z(ye)}function Be(e){e.memoizedState!==null&&Q(Se,e);var t=ae.current,s=Rg(t,e.type);t!==s&&(Q(oe,e),Q(ae,s))}function Ke(e){oe.current===e&&(z(ae),z(oe)),Se.current===e&&(z(Se),ad._currentValue=ee)}var pe,Ue;function O(e){if(pe===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",Ue=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+Ue}var Z=!1;function ke(e,t){if(!e||Z)return"";Z=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(t){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(qe){var Fe=qe}Reflect.construct(e,[],We)}else{try{We.call()}catch(qe){Fe=qe}e.call(We.prototype)}}else{try{throw Error()}catch(qe){Fe=qe}(We=e())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(qe){if(qe&&Fe&&typeof qe.stack=="string")return[qe.stack,Fe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),I=v[0],J=v[1];if(I&&J){var ge=I.split(`
`),Ie=J.split(`
`);for(x=u=0;u<ge.length&&!ge[u].includes("DetermineComponentFrameRoot");)u++;for(;x<Ie.length&&!Ie[x].includes("DetermineComponentFrameRoot");)x++;if(u===ge.length||x===Ie.length)for(u=ge.length-1,x=Ie.length-1;1<=u&&0<=x&&ge[u]!==Ie[x];)x--;for(;1<=u&&0<=x;u--,x--)if(ge[u]!==Ie[x]){if(u!==1||x!==1)do if(u--,x--,0>x||ge[u]!==Ie[x]){var Ze=`
`+ge[u].replace(" at new "," at ");return e.displayName&&Ze.includes("<anonymous>")&&(Ze=Ze.replace("<anonymous>",e.displayName)),Ze}while(1<=u&&0<=x);break}}}finally{Z=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?O(s):""}function se(e,t){switch(e.tag){case 26:case 27:case 5:return O(e.type);case 16:return O("Lazy");case 13:return e.child!==t&&t!==null?O("Suspense Fallback"):O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return ke(e.type,!1);case 11:return ke(e.type.render,!1);case 1:return ke(e.type,!0);case 31:return O("Activity");default:return""}}function te(e){try{var t="",s=null;do t+=se(e,s),s=e,e=e.return;while(e);return t}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var he=Object.prototype.hasOwnProperty,Oe=i.unstable_scheduleCallback,Le=i.unstable_cancelCallback,Ne=i.unstable_shouldYield,Pe=i.unstable_requestPaint,et=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,it=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,ut=i.unstable_NormalPriority,ht=i.unstable_LowPriority,Ct=i.unstable_IdlePriority,pt=i.log,or=i.unstable_setDisableYieldValue,St=null,dt=null;function Et(e){if(typeof pt=="function"&&or(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(St,e)}catch{}}var It=Math.clz32?Math.clz32:Pt,Dt=Math.log,Jt=Math.LN2;function Pt(e){return e>>>=0,e===0?32:31-(Dt(e)/Jt|0)|0}var Ar=256,Mr=262144,Wt=4194304;function _t(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ir(e,t,s){var u=e.pendingLanes;if(u===0)return 0;var x=0,v=e.suspendedLanes,I=e.pingedLanes;e=e.warmLanes;var J=u&134217727;return J!==0?(u=J&~v,u!==0?x=_t(u):(I&=J,I!==0?x=_t(I):s||(s=J&~e,s!==0&&(x=_t(s))))):(J=u&~v,J!==0?x=_t(J):I!==0?x=_t(I):s||(s=u&~e,s!==0&&(x=_t(s)))),x===0?0:t!==0&&t!==x&&(t&v)===0&&(v=x&-x,s=t&-t,v>=s||v===32&&(s&4194048)!==0)?t:x}function ai(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ua(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Si(){var e=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),e}function zn(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Lt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zi(e,t,s,u,x,v){var I=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var J=e.entanglements,ge=e.expirationTimes,Ie=e.hiddenUpdates;for(s=I&~s;0<s;){var Ze=31-It(s),We=1<<Ze;J[Ze]=0,ge[Ze]=-1;var Fe=Ie[Ze];if(Fe!==null)for(Ie[Ze]=null,Ze=0;Ze<Fe.length;Ze++){var qe=Fe[Ze];qe!==null&&(qe.lane&=-536870913)}s&=~We}u!==0&&ki(e,u,0),v!==0&&x===0&&e.tag!==0&&(e.suspendedLanes|=v&~(I&~t))}function ki(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var u=31-It(t);e.entangledLanes|=t,e.entanglements[u]=e.entanglements[u]|1073741824|s&261930}function wn(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var u=31-It(s),x=1<<u;x&t|e[u]&t&&(e[u]|=t),s&=~x}}function Nn(e,t){var s=t&-t;return s=(s&42)!==0?1:Br(s),(s&(e.suspendedLanes|t))!==0?0:s}function Br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function oa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ja(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:n1(e.type))}function Ss(e,t){var s=ie.p;try{return ie.p=e,t()}finally{ie.p=s}}var Wa=Math.random().toString(36).slice(2),wr="__reactFiber$"+Wa,Pr="__reactProps$"+Wa,qa="__reactContainer$"+Wa,jn="__reactEvents$"+Wa,In="__reactListeners$"+Wa,$s="__reactHandles$"+Wa,ni="__reactResources$"+Wa,ii="__reactMarker$"+Wa;function ks(e){delete e[wr],delete e[Pr],delete e[jn],delete e[In],delete e[$s]}function si(e){var t=e[wr];if(t)return t;for(var s=e.parentNode;s;){if(t=s[qa]||s[wr]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=qg(e);e!==null;){if(s=e[wr])return s;e=qg(e)}return t}e=s,s=e.parentNode}return null}function li(e){if(e=e[wr]||e[qa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function el(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function _i(e){var t=e[ni];return t||(t=e[ni]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ta(e){e[ii]=!0}var jo=new Set,Sn={};function oi(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(Sn[e]=t,e=0;e<t.length;e++)jo.add(t[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},_o={};function pc(e){return he.call(_o,e)?!0:he.call(ko,e)?!1:So.test(e)?_o[e]=!0:(ko[e]=!0,!1)}function Ki(e,t,s){if(pc(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var u=t.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function Ol(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function vr(e,t,s,u){if(u===null)e.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+u)}}function $a(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ao(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qi(e,t,s){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,v=u.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return x.call(this)},set:function(I){s=""+I,v.call(this,I)}}),Object.defineProperty(e,t,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(I){s=""+I},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ji(e){if(!e._valueTracker){var t=Ao(e)?"checked":"value";e._valueTracker=Qi(e,t,""+e[t])}}function Fn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),u="";return e&&(u=Ao(e)?e.checked?"true":"false":e.value),e=u,e!==s?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ra=/[\n"\\]/g;function Ha(e){return e.replace(ra,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Co(e,t,s,u,x,v,I,J){e.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?e.type=I:e.removeAttribute("type"),t!=null?I==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$a(t)):e.value!==""+$a(t)&&(e.value=""+$a(t)):I!=="submit"&&I!=="reset"||e.removeAttribute("value"),t!=null?Eo(e,I,$a(t)):s!=null?Eo(e,I,$a(s)):u!=null&&e.removeAttribute("value"),x==null&&v!=null&&(e.defaultChecked=!!v),x!=null&&(e.checked=x&&typeof x!="function"&&typeof x!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?e.name=""+$a(J):e.removeAttribute("name")}function gc(e,t,s,u,x,v,I,J){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.type=v),t!=null||s!=null){if(!(v!=="submit"&&v!=="reset"||t!=null)){Ji(e);return}s=s!=null?""+$a(s):"",t=t!=null?""+$a(t):s,J||t===e.value||(e.value=t),e.defaultValue=t}u=u??x,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=J?e.checked:!!u,e.defaultChecked=!!u,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(e.name=I),Ji(e)}function Eo(e,t,s){t==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function en(e,t,s,u){if(e=e.options,t){t={};for(var x=0;x<s.length;x++)t["$"+s[x]]=!0;for(s=0;s<e.length;s++)x=t.hasOwnProperty("$"+e[s].value),e[s].selected!==x&&(e[s].selected=x),x&&u&&(e[s].defaultSelected=!0)}else{for(s=""+$a(s),t=null,x=0;x<e.length;x++){if(e[x].value===s){e[x].selected=!0,u&&(e[x].defaultSelected=!0);return}t!==null||e[x].disabled||(t=e[x])}t!==null&&(t.selected=!0)}}function Lo(e,t,s){if(t!=null&&(t=""+$a(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+$a(s):""}function To(e,t,s,u){if(t==null){if(u!=null){if(s!=null)throw Error(l(92));if($(u)){if(1<u.length)throw Error(l(93));u=u[0]}s=u}s==null&&(s=""),t=s}s=$a(t),e.defaultValue=s,u=e.textContent,u===s&&u!==""&&u!==null&&(e.value=u),Ji(e)}function kn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Do=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(e,t,s){var u=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":u?e.setProperty(t,s):typeof s!="number"||s===0||Do.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function yc(e,t,s){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||t!=null&&t.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var x in t)u=t[x],t.hasOwnProperty(x)&&s[x]!==u&&xc(e,x,u)}else for(var v in t)t.hasOwnProperty(v)&&xc(e,v,t[v])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(e){return tl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ui(){}var Wi=null;function rl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rt=null,_s=null;function bc(e){var t=li(e);if(t&&(e=t.stateNode)){var s=e[Pr]||null;e:switch(e=t.stateNode,t.type){case"input":if(Co(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ha(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var u=s[t];if(u!==e&&u.form===e.form){var x=u[Pr]||null;if(!x)throw Error(l(90));Co(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(t=0;t<s.length;t++)u=s[t],u.form===e.form&&Fn(u)}break e;case"textarea":Lo(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&en(e,!!s.multiple,t,!1)}}}var Ro=!1;function vc(e,t,s){if(Ro)return e(t,s);Ro=!0;try{var u=e(t);return u}finally{if(Ro=!1,(Rt!==null||_s!==null)&&(Kd(),Rt&&(t=Rt,e=_s,_s=Rt=null,bc(t),e)))for(t=0;t<e.length;t++)bc(e[t])}}function _n(e,t){var s=e.stateNode;if(s===null)return null;var u=s[Pr]||null;if(u===null)return null;s=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,t,typeof s));return s}var Ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=!1;if(Ca)try{var al={};Object.defineProperty(al,"passive",{get:function(){zo=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{zo=!1}var An=null,nl=null,Ci=null;function il(){if(Ci)return Ci;var e,t=nl,s=t.length,u,x="value"in An?An.value:An.textContent,v=x.length;for(e=0;e<s&&t[e]===x[e];e++);var I=s-e;for(u=1;u<=I&&t[s-u]===x[v-u];u++);return Ci=x.slice(e,1<u?1-u:void 0)}function $i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function Rl(){return!1}function Sa(e){function t(s,u,x,v,I){this._reactName=s,this._targetInst=x,this.type=u,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var J in e)e.hasOwnProperty(J)&&(s=e[J],this[J]=s?s(v):v[J]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ml:Rl,this.isPropagationStopped=Rl,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),t}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=Sa(Cn),es=N({},Cn,{view:0,detail:0}),zl=Sa(es),sl,ts,As,ll=N({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bt,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==As&&(As&&e.type==="mousemove"?(sl=e.screenX-As.screenX,ts=e.screenY-As.screenY):ts=sl=0,As=e),sl)},movementY:function(e){return"movementY"in e?e.movementY:ts}}),Li=Sa(ll),rs=N({},ll,{dataTransfer:0}),wc=Sa(rs),Nc=N({},es,{relatedTarget:0}),as=Sa(Nc),jc=N({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),_=Sa(jc),G=N({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),me=Sa(G),xe=N({},Cn,{data:0}),Ce=Sa(xe),Xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yt[e])?!!t[e]:!1}function Bt(){return Nt}var Ht=N({},es,{key:function(e){if(e.key){var t=Xe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bt,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hr=Sa(Ht),Ur=N({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aa=Sa(Ur),Cr=N({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bt}),xa=Sa(Cr),ca=N({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=Sa(ca),Bn=N({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),un=Sa(Bn),Sc=N({},Cn,{newState:0,oldState:0}),Il=Sa(Sc),ol=[9,13,27,32],Ti=Ca&&"CompositionEvent"in window,di=null;Ca&&"documentMode"in document&&(di=document.documentMode);var cl=Ca&&"TextEvent"in window&&!di,Cs=Ca&&(!Ti||di&&8<di&&11>=di),La=" ",Es=!1;function Ls(e,t){switch(e){case"keyup":return ol.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function Kr(e,t){switch(e){case"compositionend":return Fl(t);case"keypress":return t.which!==32?null:(Es=!0,La);case"textInput":return e=t.data,e===La&&Es?null:e;default:return null}}function ns(e,t){if(Di)return e==="compositionend"||!Ti&&Ls(e,t)?(e=il(),Ci=nl=An=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cs&&t.locale!=="ko"?null:t.data;default:return null}}var Bl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bl[e.type]:t==="textarea"}function En(e,t,s,u){Rt?_s?_s.push(u):_s=[u]:Rt=u,t=rh(t,"onChange"),0<t.length&&(s=new Ei("onChange","change",null,s,u),e.push({event:s,listeners:t}))}var hi=null,is=null;function Fo(e){Cg(e,0)}function fi(e){var t=el(e);if(Fn(t))return e}function Ts(e,t){if(e==="change")return t}var dn=!1;if(Ca){var tn;if(Ca){var Oi="oninput"in document;if(!Oi){var Mi=document.createElement("div");Mi.setAttribute("oninput","return;"),Oi=typeof Mi.oninput=="function"}tn=Oi}else tn=!1;dn=tn&&(!document.documentMode||9<document.documentMode)}function ss(){hi&&(hi.detachEvent("onpropertychange",Pl),is=hi=null)}function Pl(e){if(e.propertyName==="value"&&fi(is)){var t=[];En(t,is,e,rl(e)),vc(Fo,t)}}function Ul(e,t,s){e==="focusin"?(ss(),hi=t,is=s,hi.attachEvent("onpropertychange",Pl)):e==="focusout"&&ss()}function na(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fi(is)}function kc(e,t){if(e==="click")return fi(t)}function Ri(e,t){if(e==="input"||e==="change")return fi(t)}function zi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ta=typeof Object.is=="function"?Object.is:zi;function ls(e,t){if(Ta(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),u=Object.keys(t);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var x=s[u];if(!he.call(t,x)||!Ta(e[x],t[x]))return!1}return!0}function ql(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hl(e,t){var s=ql(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=t&&u>=t)return{node:s,offset:t-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ql(s)}}function os(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?os(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cs(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ai(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ai(e.document)}return t}function Ii(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ul=Ca&&"documentMode"in document&&11>=document.documentMode,Ln=null,us=null,Va=null,Pn=!1;function fr(e,t,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Pn||Ln==null||Ln!==Ai(u)||(u=Ln,"selectionStart"in u&&Ii(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Va&&ls(Va,u)||(Va=u,u=rh(us,"onSelect"),0<u.length&&(t=new Ei("onSelect","select",null,t,s),e.push({event:t,listeners:u}),t.target=Ln)))}function sr(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Er={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},ia={},Fi={};Ca&&(Fi=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function mi(e){if(ia[e])return ia[e];if(!Er[e])return e;var t=Er[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in Fi)return ia[e]=t[s];return e}var dl=mi("animationend"),Bo=mi("animationiteration"),_u=mi("animationstart"),kd=mi("transitionrun"),_d=mi("transitionstart"),Ad=mi("transitioncancel"),Au=mi("transitionend"),Cu=new Map,hl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hl.push("scrollEnd");function Un(e,t){Cu.set(e,t),oi(t,[e])}var Po=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Tn=[],fl=0,_c=0;function Uo(){for(var e=fl,t=_c=fl=0;t<e;){var s=Tn[t];Tn[t++]=null;var u=Tn[t];Tn[t++]=null;var x=Tn[t];Tn[t++]=null;var v=Tn[t];if(Tn[t++]=null,u!==null&&x!==null){var I=u.pending;I===null?x.next=x:(x.next=I.next,I.next=x),u.pending=x}v!==0&&Ho(s,x,v)}}function qo(e,t,s,u){Tn[fl++]=e,Tn[fl++]=t,Tn[fl++]=s,Tn[fl++]=u,_c|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Ac(e,t,s,u){return qo(e,t,s,u),Ga(e)}function ds(e,t){return qo(e,null,null,t),Ga(e)}function Ho(e,t,s){e.lanes|=s;var u=e.alternate;u!==null&&(u.lanes|=s);for(var x=!1,v=e.return;v!==null;)v.childLanes|=s,u=v.alternate,u!==null&&(u.childLanes|=s),v.tag===22&&(e=v.stateNode,e===null||e._visibility&1||(x=!0)),e=v,v=v.return;return e.tag===3?(v=e.stateNode,x&&t!==null&&(x=31-It(s),e=v.hiddenUpdates,u=e[x],u===null?e[x]=[t]:u.push(t),t.lane=s|536870912),v):null}function Ga(e){if(50<Qu)throw Qu=0,Hf=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Da={};function Cc(e,t,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(e,t,s,u){return new Cc(e,t,s,u)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qn(e,t){var s=e.alternate;return s===null?(s=Ya(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Vo(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vl(e,t,s,u,x,v){var I=0;if(u=e,typeof e=="function")Ec(e)&&(I=1);else if(typeof e=="string")I=pb(e,s,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Ya(31,s,t,x),e.elementType=F,e.lanes=v,e;case w:return Ds(s.children,x,v,t);case C:I=8,x|=24;break;case k:return e=Ya(12,s,t,x|2),e.elementType=k,e.lanes=v,e;case q:return e=Ya(13,s,t,x),e.elementType=q,e.lanes=v,e;case P:return e=Ya(19,s,t,x),e.elementType=P,e.lanes=v,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:I=10;break e;case D:I=9;break e;case M:I=11;break e;case B:I=14;break e;case V:I=16,u=null;break e}I=29,s=Error(l(130,e===null?"null":typeof e,"")),u=null}return t=Ya(I,s,t,x),t.elementType=e,t.type=u,t.lanes=v,t}function Ds(e,t,s,u){return e=Ya(7,e,u,t),e.lanes=s,e}function Go(e,t,s){return e=Ya(6,e,null,t),e.lanes=s,e}function Lc(e){var t=Ya(18,null,null,0);return t.stateNode=e,t}function Gl(e,t,s){return t=Ya(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Tc=new WeakMap;function Hn(e,t){if(typeof e=="object"&&e!==null){var s=Tc.get(e);return s!==void 0?s:(t={value:e,source:t,stack:te(t)},Tc.set(e,t),t)}return{value:e,source:t,stack:te(t)}}var Yl=[],ml=0,Dc=null,Yo=0,Vn=[],Gn=0,Os=null,Yn=1,Zn="";function Dn(e,t){Yl[ml++]=Yo,Yl[ml++]=Dc,Dc=e,Yo=t}function Cd(e,t,s){Vn[Gn++]=Yn,Vn[Gn++]=Zn,Vn[Gn++]=Os,Os=e;var u=Yn;e=Zn;var x=32-It(u)-1;u&=~(1<<x),s+=1;var v=32-It(t)+x;if(30<v){var I=x-x%5;v=(u&(1<<I)-1).toString(32),u>>=I,x-=I,Yn=1<<32-It(t)+x|s<<x|u,Zn=v+e}else Yn=1<<v|s<<x|u,Zn=e}function Eu(e){e.return!==null&&(Dn(e,1),Cd(e,1,0))}function Oc(e){for(;e===Dc;)Dc=Yl[--ml],Yl[ml]=null,Yo=Yl[--ml],Yl[ml]=null;for(;e===Os;)Os=Vn[--Gn],Vn[Gn]=null,Zn=Vn[--Gn],Vn[Gn]=null,Yn=Vn[--Gn],Vn[Gn]=null}function Ed(e,t){Vn[Gn++]=Yn,Vn[Gn++]=Zn,Vn[Gn++]=Os,Yn=t.id,Zn=t.overflow,Os=e}var Oa=null,Rr=null,er=!1,rn=null,Qr=!1,pi=Error(l(519));function Ms(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(Hn(t,e)),pi}function Lu(e){var t=e.stateNode,s=e.type,u=e.memoizedProps;switch(t[wr]=e,t[Pr]=u,s){case"dialog":rr("cancel",t),rr("close",t);break;case"iframe":case"object":case"embed":rr("load",t);break;case"video":case"audio":for(s=0;s<Wu.length;s++)rr(Wu[s],t);break;case"source":rr("error",t);break;case"img":case"image":case"link":rr("error",t),rr("load",t);break;case"details":rr("toggle",t);break;case"input":rr("invalid",t),gc(t,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":rr("invalid",t);break;case"textarea":rr("invalid",t),To(t,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||u.suppressHydrationWarning===!0||Dg(t.textContent,s)?(u.popover!=null&&(rr("beforetoggle",t),rr("toggle",t)),u.onScroll!=null&&rr("scroll",t),u.onScrollEnd!=null&&rr("scrollend",t),u.onClick!=null&&(t.onclick=ui),t=!0):t=!1,t||Ms(e,!0)}function hs(e){for(Oa=e.return;Oa;)switch(Oa.tag){case 5:case 31:case 13:Qr=!1;return;case 27:case 3:Qr=!0;return;default:Oa=Oa.return}}function Ma(e){if(e!==Oa)return!1;if(!er)return hs(e),er=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||n0(e.type,e.memoizedProps)),s=!s),s&&Rr&&Ms(e),hs(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Rr=Ug(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Rr=Ug(e)}else t===27?(t=Rr,lo(e.type)?(e=c0,c0=null,Rr=e):Rr=t):Rr=Oa?qi(e.stateNode.nextSibling):null;return!0}function pl(){Rr=Oa=null,er=!1}function Tu(){var e=rn;return e!==null&&($n===null?$n=e:$n.push.apply($n,e),rn=null),e}function Zl(e){rn===null?rn=[e]:rn.push(e)}var Mc=ce(null),Rs=null,Bi=null;function zs(e,t,s){Q(Mc,t._currentValue),t._currentValue=s}function Xn(e){e._currentValue=Mc.current,z(Mc)}function Xl(e,t,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===s)break;e=e.return}}function gl(e,t,s,u){var x=e.child;for(x!==null&&(x.return=e);x!==null;){var v=x.dependencies;if(v!==null){var I=x.child;v=v.firstContext;e:for(;v!==null;){var J=v;v=x;for(var ge=0;ge<t.length;ge++)if(J.context===t[ge]){v.lanes|=s,J=v.alternate,J!==null&&(J.lanes|=s),Xl(v.return,s,e),u||(I=null);break e}v=J.next}}else if(x.tag===18){if(I=x.return,I===null)throw Error(l(341));I.lanes|=s,v=I.alternate,v!==null&&(v.lanes|=s),Xl(I,s,e),I=null}else I=x.child;if(I!==null)I.return=x;else for(I=x;I!==null;){if(I===e){I=null;break}if(x=I.sibling,x!==null){x.return=I.return,I=x;break}I=I.return}x=I}}function Is(e,t,s,u){e=null;for(var x=t,v=!1;x!==null;){if(!v){if((x.flags&524288)!==0)v=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var I=x.alternate;if(I===null)throw Error(l(387));if(I=I.memoizedProps,I!==null){var J=x.type;Ta(x.pendingProps.value,I.value)||(e!==null?e.push(J):e=[J])}}else if(x===Se.current){if(I=x.alternate,I===null)throw Error(l(387));I.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(e!==null?e.push(ad):e=[ad])}x=x.return}e!==null&&gl(t,e,s,u),t.flags|=262144}function Rc(e){for(e=e.firstContext;e!==null;){if(!Ta(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){Rs=e,Bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ra(e){return Ld(Rs,e)}function zc(e,t){return Rs===null&&Fs(e),Ld(e,t)}function Ld(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},Bi===null){if(e===null)throw Error(l(308));Bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bi=Bi.next=t;return s}var of=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,u){e.push(u)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},cf=i.unstable_scheduleCallback,uf=i.unstable_NormalPriority,sa={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kl(){return{controller:new of,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&cf(uf,function(){e.controller.abort()})}var Xo=null,Ic=0,m=0,y=null;function L(e,t){if(Xo===null){var s=Xo=[];Ic=0,m=Kf(),y={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Ic++,t.then(R,R),t}function R(){if(--Ic===0&&Xo!==null){y!==null&&(y.status="fulfilled");var e=Xo;Xo=null,m=0,y=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Y(e,t){var s=[],u={status:"pending",value:null,reason:null,then:function(x){s.push(x)}};return e.then(function(){u.status="fulfilled",u.value=t;for(var x=0;x<s.length;x++)(0,s[x])(t)},function(x){for(u.status="rejected",u.reason=x,x=0;x<s.length;x++)(0,s[x])(void 0)}),u}var X=W.S;W.S=function(e,t){rg=et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&L(e,t),X!==null&&X(e,t)};var K=ce(null);function ne(){var e=K.current;return e!==null?e:Ir.pooledCache}function le(e,t){t===null?Q(K,K.current):Q(K,t.pool)}function fe(){var e=ne();return e===null?null:{parent:sa._currentValue,pool:e}}var be=Error(l(460)),Re=Error(l(474)),de=Error(l(542)),je={then:function(){}};function Te(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ge(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(ui,ui),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nt(e),e;default:if(typeof t.status=="string")t.then(ui,ui);else{if(e=Ir,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(u){if(t.status==="pending"){var x=t;x.status="fulfilled",x.value=u}},function(u){if(t.status==="pending"){var x=t;x.status="rejected",x.reason=u}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,nt(e),e}throw Ve=t,be}}function De(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ve=s,be):s}}var Ve=null;function Qe(){if(Ve===null)throw Error(l(459));var e=Ve;return Ve=null,e}function nt(e){if(e===be||e===de)throw Error(l(483))}var $e=null,vt=0;function ft(e){var t=vt;return vt+=1,$e===null&&($e=[]),Ge($e,e,t)}function Ut(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xt(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $t(e){function t(Ee,we){if(e){var ze=Ee.deletions;ze===null?(Ee.deletions=[we],Ee.flags|=16):ze.push(we)}}function s(Ee,we){if(!e)return null;for(;we!==null;)t(Ee,we),we=we.sibling;return null}function u(Ee){for(var we=new Map;Ee!==null;)Ee.key!==null?we.set(Ee.key,Ee):we.set(Ee.index,Ee),Ee=Ee.sibling;return we}function x(Ee,we){return Ee=qn(Ee,we),Ee.index=0,Ee.sibling=null,Ee}function v(Ee,we,ze){return Ee.index=ze,e?(ze=Ee.alternate,ze!==null?(ze=ze.index,ze<we?(Ee.flags|=67108866,we):ze):(Ee.flags|=67108866,we)):(Ee.flags|=1048576,we)}function I(Ee){return e&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function J(Ee,we,ze,Je){return we===null||we.tag!==6?(we=Go(ze,Ee.mode,Je),we.return=Ee,we):(we=x(we,ze),we.return=Ee,we)}function ge(Ee,we,ze,Je){var Mt=ze.type;return Mt===w?Ze(Ee,we,ze.props.children,Je,ze.key):we!==null&&(we.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===V&&De(Mt)===we.type)?(we=x(we,ze.props),Ut(we,ze),we.return=Ee,we):(we=Vl(ze.type,ze.key,ze.props,null,Ee.mode,Je),Ut(we,ze),we.return=Ee,we)}function Ie(Ee,we,ze,Je){return we===null||we.tag!==4||we.stateNode.containerInfo!==ze.containerInfo||we.stateNode.implementation!==ze.implementation?(we=Gl(ze,Ee.mode,Je),we.return=Ee,we):(we=x(we,ze.children||[]),we.return=Ee,we)}function Ze(Ee,we,ze,Je,Mt){return we===null||we.tag!==7?(we=Ds(ze,Ee.mode,Je,Mt),we.return=Ee,we):(we=x(we,ze),we.return=Ee,we)}function We(Ee,we,ze){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Go(""+we,Ee.mode,ze),we.return=Ee,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return ze=Vl(we.type,we.key,we.props,null,Ee.mode,ze),Ut(ze,we),ze.return=Ee,ze;case E:return we=Gl(we,Ee.mode,ze),we.return=Ee,we;case V:return we=De(we),We(Ee,we,ze)}if($(we)||A(we))return we=Ds(we,Ee.mode,ze,null),we.return=Ee,we;if(typeof we.then=="function")return We(Ee,ft(we),ze);if(we.$$typeof===T)return We(Ee,zc(Ee,we),ze);xt(Ee,we)}return null}function Fe(Ee,we,ze,Je){var Mt=we!==null?we.key:null;if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return Mt!==null?null:J(Ee,we,""+ze,Je);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case g:return ze.key===Mt?ge(Ee,we,ze,Je):null;case E:return ze.key===Mt?Ie(Ee,we,ze,Je):null;case V:return ze=De(ze),Fe(Ee,we,ze,Je)}if($(ze)||A(ze))return Mt!==null?null:Ze(Ee,we,ze,Je,null);if(typeof ze.then=="function")return Fe(Ee,we,ft(ze),Je);if(ze.$$typeof===T)return Fe(Ee,we,zc(Ee,ze),Je);xt(Ee,ze)}return null}function qe(Ee,we,ze,Je,Mt){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Ee=Ee.get(ze)||null,J(we,Ee,""+Je,Mt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case g:return Ee=Ee.get(Je.key===null?ze:Je.key)||null,ge(we,Ee,Je,Mt);case E:return Ee=Ee.get(Je.key===null?ze:Je.key)||null,Ie(we,Ee,Je,Mt);case V:return Je=De(Je),qe(Ee,we,ze,Je,Mt)}if($(Je)||A(Je))return Ee=Ee.get(ze)||null,Ze(we,Ee,Je,Mt,null);if(typeof Je.then=="function")return qe(Ee,we,ze,ft(Je),Mt);if(Je.$$typeof===T)return qe(Ee,we,ze,zc(we,Je),Mt);xt(we,Je)}return null}function bt(Ee,we,ze,Je){for(var Mt=null,pr=null,jt=we,Xt=we=0,nr=null;jt!==null&&Xt<ze.length;Xt++){jt.index>Xt?(nr=jt,jt=null):nr=jt.sibling;var gr=Fe(Ee,jt,ze[Xt],Je);if(gr===null){jt===null&&(jt=nr);break}e&&jt&&gr.alternate===null&&t(Ee,jt),we=v(gr,we,Xt),pr===null?Mt=gr:pr.sibling=gr,pr=gr,jt=nr}if(Xt===ze.length)return s(Ee,jt),er&&Dn(Ee,Xt),Mt;if(jt===null){for(;Xt<ze.length;Xt++)jt=We(Ee,ze[Xt],Je),jt!==null&&(we=v(jt,we,Xt),pr===null?Mt=jt:pr.sibling=jt,pr=jt);return er&&Dn(Ee,Xt),Mt}for(jt=u(jt);Xt<ze.length;Xt++)nr=qe(jt,Ee,Xt,ze[Xt],Je),nr!==null&&(e&&nr.alternate!==null&&jt.delete(nr.key===null?Xt:nr.key),we=v(nr,we,Xt),pr===null?Mt=nr:pr.sibling=nr,pr=nr);return e&&jt.forEach(function(fo){return t(Ee,fo)}),er&&Dn(Ee,Xt),Mt}function Ft(Ee,we,ze,Je){if(ze==null)throw Error(l(151));for(var Mt=null,pr=null,jt=we,Xt=we=0,nr=null,gr=ze.next();jt!==null&&!gr.done;Xt++,gr=ze.next()){jt.index>Xt?(nr=jt,jt=null):nr=jt.sibling;var fo=Fe(Ee,jt,gr.value,Je);if(fo===null){jt===null&&(jt=nr);break}e&&jt&&fo.alternate===null&&t(Ee,jt),we=v(fo,we,Xt),pr===null?Mt=fo:pr.sibling=fo,pr=fo,jt=nr}if(gr.done)return s(Ee,jt),er&&Dn(Ee,Xt),Mt;if(jt===null){for(;!gr.done;Xt++,gr=ze.next())gr=We(Ee,gr.value,Je),gr!==null&&(we=v(gr,we,Xt),pr===null?Mt=gr:pr.sibling=gr,pr=gr);return er&&Dn(Ee,Xt),Mt}for(jt=u(jt);!gr.done;Xt++,gr=ze.next())gr=qe(jt,Ee,Xt,gr.value,Je),gr!==null&&(e&&gr.alternate!==null&&jt.delete(gr.key===null?Xt:gr.key),we=v(gr,we,Xt),pr===null?Mt=gr:pr.sibling=gr,pr=gr);return e&&jt.forEach(function(_b){return t(Ee,_b)}),er&&Dn(Ee,Xt),Mt}function Or(Ee,we,ze,Je){if(typeof ze=="object"&&ze!==null&&ze.type===w&&ze.key===null&&(ze=ze.props.children),typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case g:e:{for(var Mt=ze.key;we!==null;){if(we.key===Mt){if(Mt=ze.type,Mt===w){if(we.tag===7){s(Ee,we.sibling),Je=x(we,ze.props.children),Je.return=Ee,Ee=Je;break e}}else if(we.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===V&&De(Mt)===we.type){s(Ee,we.sibling),Je=x(we,ze.props),Ut(Je,ze),Je.return=Ee,Ee=Je;break e}s(Ee,we);break}else t(Ee,we);we=we.sibling}ze.type===w?(Je=Ds(ze.props.children,Ee.mode,Je,ze.key),Je.return=Ee,Ee=Je):(Je=Vl(ze.type,ze.key,ze.props,null,Ee.mode,Je),Ut(Je,ze),Je.return=Ee,Ee=Je)}return I(Ee);case E:e:{for(Mt=ze.key;we!==null;){if(we.key===Mt)if(we.tag===4&&we.stateNode.containerInfo===ze.containerInfo&&we.stateNode.implementation===ze.implementation){s(Ee,we.sibling),Je=x(we,ze.children||[]),Je.return=Ee,Ee=Je;break e}else{s(Ee,we);break}else t(Ee,we);we=we.sibling}Je=Gl(ze,Ee.mode,Je),Je.return=Ee,Ee=Je}return I(Ee);case V:return ze=De(ze),Or(Ee,we,ze,Je)}if($(ze))return bt(Ee,we,ze,Je);if(A(ze)){if(Mt=A(ze),typeof Mt!="function")throw Error(l(150));return ze=Mt.call(ze),Ft(Ee,we,ze,Je)}if(typeof ze.then=="function")return Or(Ee,we,ft(ze),Je);if(ze.$$typeof===T)return Or(Ee,we,zc(Ee,ze),Je);xt(Ee,ze)}return typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint"?(ze=""+ze,we!==null&&we.tag===6?(s(Ee,we.sibling),Je=x(we,ze),Je.return=Ee,Ee=Je):(s(Ee,we),Je=Go(ze,Ee.mode,Je),Je.return=Ee,Ee=Je),I(Ee)):s(Ee,we)}return function(Ee,we,ze,Je){try{vt=0;var Mt=Or(Ee,we,ze,Je);return $e=null,Mt}catch(jt){if(jt===be||jt===de)throw jt;var pr=Ya(29,jt,null,Ee.mode);return pr.lanes=Je,pr.return=Ee,pr}finally{}}}var zr=$t(!0),Gt=$t(!1),mt=!1;function ct(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zt(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(br&2)!==0){var x=u.pending;return x===null?t.next=t:(t.next=x.next,x.next=t),u.pending=t,t=Ga(e),Ho(e,null,s),t}return qo(e,u,t,s),Ga(e)}function xr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,wn(e,s)}}function ya(e,t){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var x=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var I={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};v===null?x=v=I:v=v.next=I,s=s.next}while(s!==null);v===null?x=v=t:v=v.next=t}else x=v=t;s={baseState:u.baseState,firstBaseUpdate:x,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var za=!1;function Lr(){if(za){var e=y;if(e!==null)throw e}}function ua(e,t,s,u){za=!1;var x=e.updateQueue;mt=!1;var v=x.firstBaseUpdate,I=x.lastBaseUpdate,J=x.shared.pending;if(J!==null){x.shared.pending=null;var ge=J,Ie=ge.next;ge.next=null,I===null?v=Ie:I.next=Ie,I=ge;var Ze=e.alternate;Ze!==null&&(Ze=Ze.updateQueue,J=Ze.lastBaseUpdate,J!==I&&(J===null?Ze.firstBaseUpdate=Ie:J.next=Ie,Ze.lastBaseUpdate=ge))}if(v!==null){var We=x.baseState;I=0,Ze=Ie=ge=null,J=v;do{var Fe=J.lane&-536870913,qe=Fe!==J.lane;if(qe?(ar&Fe)===Fe:(u&Fe)===Fe){Fe!==0&&Fe===m&&(za=!0),Ze!==null&&(Ze=Ze.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var bt=e,Ft=J;Fe=t;var Or=s;switch(Ft.tag){case 1:if(bt=Ft.payload,typeof bt=="function"){We=bt.call(Or,We,Fe);break e}We=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Ft.payload,Fe=typeof bt=="function"?bt.call(Or,We,Fe):bt,Fe==null)break e;We=N({},We,Fe);break e;case 2:mt=!0}}Fe=J.callback,Fe!==null&&(e.flags|=64,qe&&(e.flags|=8192),qe=x.callbacks,qe===null?x.callbacks=[Fe]:qe.push(Fe))}else qe={lane:Fe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Ze===null?(Ie=Ze=qe,ge=We):Ze=Ze.next=qe,I|=Fe;if(J=J.next,J===null){if(J=x.shared.pending,J===null)break;qe=J,J=qe.next,qe.next=null,x.lastBaseUpdate=qe,x.shared.pending=null}}while(!0);Ze===null&&(ge=We),x.baseState=ge,x.firstBaseUpdate=Ie,x.lastBaseUpdate=Ze,v===null&&(x.shared.lanes=0),ro|=I,e.lanes=I,e.memoizedState=We}}function Za(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function da(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Za(s[e],t)}var Qt=ce(null),cr=ce(0);function Hr(e,t){e=_l,Q(cr,e),Q(Qt,t),_l=e|t.baseLanes}function mr(){Q(cr,_l),Q(Qt,Qt.current)}function ba(){_l=cr.current,z(Qt),z(cr)}var Vr=ce(null),ur=null;function la(e){var t=e.alternate;Q(lr,lr.current&1),Q(Vr,e),ur===null&&(t===null||Qt.current!==null||t.memoizedState!==null)&&(ur=e)}function yr(e){Q(lr,lr.current),Q(Vr,e),ur===null&&(ur=e)}function ha(e){e.tag===22?(Q(lr,lr.current),Q(Vr,e),ur===null&&(ur=e)):fa()}function fa(){Q(lr,lr.current),Q(Vr,Vr.current)}function Nr(e){z(Vr),ur===e&&(ur=null),z(lr)}var lr=ce(0);function Xa(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||l0(s)||o0(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jr=0,Tt=null,Ot=null,dr=null,hn=!1,Kn=!1,an=!1,ma=0,Bs=0,Ps=null,Fc=0;function Tr(){throw Error(l(321))}function Du(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Ta(e[s],t[s]))return!1;return!0}function Ou(e,t,s,u,x,v){return Jr=v,Tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?fp:yf,an=!1,v=s(u,x),an=!1,Kn&&(v=fs(t,s,u,x)),Bc(e),v}function Bc(e){W.H=Uu;var t=Ot!==null&&Ot.next!==null;if(Jr=0,dr=Ot=Tt=null,hn=!1,Bs=0,Ps=null,t)throw Error(l(300));e===null||_a||(e=e.dependencies,e!==null&&Rc(e)&&(_a=!0))}function fs(e,t,s,u){Tt=e;var x=0;do{if(Kn&&(Ps=null),Bs=0,Kn=!1,25<=x)throw Error(l(301));if(x+=1,dr=Ot=null,e.updateQueue!=null){var v=e.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=mp,v=t(s,u)}while(Kn);return v}function df(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?Us(t):t,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(Tt.flags|=1024),t}function Mu(){var e=ma!==0;return ma=0,e}function Ru(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function Pc(e){if(hn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}hn=!1}Jr=0,dr=Ot=Tt=null,Kn=!1,Bs=ma=0,Ps=null}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Tt.memoizedState=dr=e:dr=dr.next=e,dr}function Wr(){if(Ot===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=dr===null?Tt.memoizedState:dr.next;if(t!==null)dr=t,Ot=e;else{if(e===null)throw Tt.alternate===null?Error(l(467)):Error(l(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},dr===null?Tt.memoizedState=dr=e:dr=dr.next=e}return dr}function Ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Us(e){var t=Bs;return Bs+=1,Ps===null&&(Ps=[]),e=Ge(Ps,e,t),t=Tt,(dr===null?t.memoizedState:dr.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?fp:yf),e}function Ql(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Us(e);if(e.$$typeof===T)return Ra(e)}throw Error(l(438,String(e)))}function xl(e){var t=null,s=Tt.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(t={data:u.data.map(function(x){return x.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Ko(),Tt.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),u=0;u<e;u++)s[u]=re;return t.index++,s}function Pi(e,t){return typeof t=="function"?t(e):t}function Uc(e){var t=Wr();return Jl(t,Ot,e)}function Jl(e,t,s){var u=e.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=s;var x=e.baseQueue,v=u.pending;if(v!==null){if(x!==null){var I=x.next;x.next=v.next,v.next=I}t.baseQueue=x=v,u.pending=null}if(v=e.baseState,x===null)e.memoizedState=v;else{t=x.next;var J=I=null,ge=null,Ie=t,Ze=!1;do{var We=Ie.lane&-536870913;if(We!==Ie.lane?(ar&We)===We:(Jr&We)===We){var Fe=Ie.revertLane;if(Fe===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),We===m&&(Ze=!0);else if((Jr&Fe)===Fe){Ie=Ie.next,Fe===m&&(Ze=!0);continue}else We={lane:0,revertLane:Ie.revertLane,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ge===null?(J=ge=We,I=v):ge=ge.next=We,Tt.lanes|=Fe,ro|=Fe;We=Ie.action,an&&s(v,We),v=Ie.hasEagerState?Ie.eagerState:s(v,We)}else Fe={lane:We,revertLane:Ie.revertLane,gesture:Ie.gesture,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},ge===null?(J=ge=Fe,I=v):ge=ge.next=Fe,Tt.lanes|=We,ro|=We;Ie=Ie.next}while(Ie!==null&&Ie!==t);if(ge===null?I=v:ge.next=J,!Ta(v,e.memoizedState)&&(_a=!0,Ze&&(s=y,s!==null)))throw s;e.memoizedState=v,e.baseState=I,e.baseQueue=ge,u.lastRenderedState=v}return x===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function qc(e){var t=Wr(),s=t.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var u=s.dispatch,x=s.pending,v=t.memoizedState;if(x!==null){s.pending=null;var I=x=x.next;do v=e(v,I.action),I=I.next;while(I!==x);Ta(v,t.memoizedState)||(_a=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),s.lastRenderedState=v}return[v,u]}function Hc(e,t,s){var u=Tt,x=Wr(),v=er;if(v){if(s===void 0)throw Error(l(407));s=s()}else s=t();var I=!Ta((Ot||x).memoizedState,s);if(I&&(x.memoizedState=s,_a=!0),x=x.queue,hf(Iu.bind(null,u,x,e),[e]),x.getSnapshot!==t||I||dr!==null&&dr.memoizedState.tag&1){if(u.flags|=2048,bl(9,{destroy:void 0},zu.bind(null,u,x,s,t),null),Ir===null)throw Error(l(349));v||(Jr&127)!==0||ms(u,t,s)}return s}function ms(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Tt.updateQueue,t===null?(t=Ko(),Tt.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function zu(e,t,s,u){t.value=s,t.getSnapshot=u,Td(t)&&Fu(e)}function Iu(e,t,s){return s(function(){Td(t)&&Fu(e)})}function Td(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Ta(e,s)}catch{return!0}}function Fu(e){var t=ds(e,2);t!==null&&ei(t,e,2)}function qs(e){var t=ka();if(typeof e=="function"){var s=e;if(e=s(),an){Et(!0);try{s()}finally{Et(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},t}function Dd(e,t,s,u){return e.baseState=s,Jl(e,Ot,typeof u=="function"?u:Pi)}function Od(e,t,s,u,x){if(Id(e))throw Error(l(485));if(e=t.action,e!==null){var v={payload:x,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){v.listeners.push(I)}};W.T!==null?s(!0):v.isTransition=!1,u(v),s=t.pending,s===null?(v.next=t.pending=v,Md(t,v)):(v.next=s.next,t.pending=s.next=v)}}function Md(e,t){var s=t.action,u=t.payload,x=e.state;if(t.isTransition){var v=W.T,I={};W.T=I;try{var J=s(x,u),ge=W.S;ge!==null&&ge(I,J),Bu(e,t,J)}catch(Ie){yl(e,t,Ie)}finally{v!==null&&I.types!==null&&(v.types=I.types),W.T=v}}else try{v=s(x,u),Bu(e,t,v)}catch(Ie){yl(e,t,Ie)}}function Bu(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Rd(e,t,u)},function(u){return yl(e,t,u)}):Rd(e,t,s)}function Rd(e,t,s){t.status="fulfilled",t.value=s,Vc(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,Md(e,s)))}function yl(e,t,s){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do t.status="rejected",t.reason=s,Vc(t),t=t.next;while(t!==u)}e.action=null}function Vc(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Qo(e,t){return t}function Ui(e,t){if(er){var s=Ir.formState;if(s!==null){e:{var u=Tt;if(er){if(Rr){t:{for(var x=Rr,v=Qr;x.nodeType!==8;){if(!v){x=null;break t}if(x=qi(x.nextSibling),x===null){x=null;break t}}v=x.data,x=v==="F!"||v==="F"?x:null}if(x){Rr=qi(x.nextSibling),u=x.data==="F!";break e}}Ms(u)}u=!1}u&&(t=s[0])}}return s=ka(),s.memoizedState=s.baseState=t,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:t},s.queue=u,s=up.bind(null,Tt,u),u.dispatch=s,u=qs(!1),v=xf.bind(null,Tt,!1,u.queue),u=ka(),x={state:t,dispatch:null,action:e,pending:null},u.queue=x,s=Od.bind(null,Tt,x,v,s),x.dispatch=s,u.memoizedState=e,[t,s,!1]}function ps(e){var t=Wr();return gs(t,Ot,e)}function gs(e,t,s){if(t=Jl(e,t,Qo)[0],e=Uc(Pi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var u=Us(t)}catch(I){throw I===be?de:I}else u=t;t=Wr();var x=t.queue,v=x.dispatch;return s!==t.memoizedState&&(Tt.flags|=2048,bl(9,{destroy:void 0},Gc.bind(null,x,s),null)),[u,v,e]}function Gc(e,t){e.action=t}function Yc(e){var t=Wr(),s=Ot;if(s!==null)return gs(t,s,e);Wr(),t=t.memoizedState,s=Wr();var u=s.queue.dispatch;return s.memoizedState=e,[t,u,!1]}function bl(e,t,s,u){return e={tag:e,create:s,deps:u,inst:t,next:null},t=Tt.updateQueue,t===null&&(t=Ko(),Tt.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,t.lastEffect=e),e}function zd(){return Wr().memoizedState}function Wl(e,t,s,u){var x=ka();Tt.flags|=e,x.memoizedState=bl(1|t,{destroy:void 0},s,u===void 0?null:u)}function $l(e,t,s,u){var x=Wr();u=u===void 0?null:u;var v=x.memoizedState.inst;Ot!==null&&u!==null&&Du(u,Ot.memoizedState.deps)?x.memoizedState=bl(t,v,s,u):(Tt.flags|=e,x.memoizedState=bl(1|t,v,s,u))}function Qm(e,t){Wl(8390656,8,e,t)}function hf(e,t){$l(2048,8,e,t)}function v5(e){Tt.flags|=4;var t=Tt.updateQueue;if(t===null)t=Ko(),Tt.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function Jm(e){var t=Wr().memoizedState;return v5({ref:t,nextImpl:e}),function(){if((br&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Wm(e,t){return $l(4,2,e,t)}function $m(e,t){return $l(4,4,e,t)}function ep(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tp(e,t,s){s=s!=null?s.concat([e]):null,$l(4,4,ep.bind(null,t,e),s)}function ff(){}function rp(e,t){var s=Wr();t=t===void 0?null:t;var u=s.memoizedState;return t!==null&&Du(t,u[1])?u[0]:(s.memoizedState=[e,t],e)}function ap(e,t){var s=Wr();t=t===void 0?null:t;var u=s.memoizedState;if(t!==null&&Du(t,u[1]))return u[0];if(u=e(),an){Et(!0);try{e()}finally{Et(!1)}}return s.memoizedState=[u,t],u}function mf(e,t,s){return s===void 0||(Jr&1073741824)!==0&&(ar&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=ng(),Tt.lanes|=e,ro|=e,s)}function np(e,t,s,u){return Ta(s,t)?s:Qt.current!==null?(e=mf(e,s,u),Ta(e,t)||(_a=!0),e):(Jr&42)===0||(Jr&1073741824)!==0&&(ar&261930)===0?(_a=!0,e.memoizedState=s):(e=ng(),Tt.lanes|=e,ro|=e,t)}function ip(e,t,s,u,x){var v=ie.p;ie.p=v!==0&&8>v?v:8;var I=W.T,J={};W.T=J,xf(e,!1,t,s);try{var ge=x(),Ie=W.S;if(Ie!==null&&Ie(J,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ze=Y(ge,u);Pu(e,t,Ze,yi(e))}else Pu(e,t,u,yi(e))}catch(We){Pu(e,t,{then:function(){},status:"rejected",reason:We},yi())}finally{ie.p=v,I!==null&&J.types!==null&&(I.types=J.types),W.T=I}}function w5(){}function pf(e,t,s,u){if(e.tag!==5)throw Error(l(476));var x=sp(e).queue;ip(e,x,t,ee,s===null?w5:function(){return lp(e),s(u)})}function sp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ee},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function lp(e){var t=sp(e);t.next===null&&(t=e.alternate.memoizedState),Pu(e,t.next.queue,{},yi())}function gf(){return Ra(ad)}function op(){return Wr().memoizedState}function cp(){return Wr().memoizedState}function N5(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=yi();e=zt(s);var u=Zt(t,e,s);u!==null&&(ei(u,t,s),xr(u,t,s)),t={cache:Kl()},e.payload=t;return}t=t.return}}function j5(e,t,s){var u=yi();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Id(e)?dp(t,s):(s=Ac(e,t,s,u),s!==null&&(ei(s,e,u),hp(s,t,u)))}function up(e,t,s){var u=yi();Pu(e,t,s,u)}function Pu(e,t,s,u){var x={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Id(e))dp(t,x);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var I=t.lastRenderedState,J=v(I,s);if(x.hasEagerState=!0,x.eagerState=J,Ta(J,I))return qo(e,t,x,0),Ir===null&&Uo(),!1}catch{}finally{}if(s=Ac(e,t,x,u),s!==null)return ei(s,e,u),hp(s,t,u),!0}return!1}function xf(e,t,s,u){if(u={lane:2,revertLane:Kf(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Id(e)){if(t)throw Error(l(479))}else t=Ac(e,s,u,2),t!==null&&ei(t,e,2)}function Id(e){var t=e.alternate;return e===Tt||t!==null&&t===Tt}function dp(e,t){Kn=hn=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function hp(e,t,s){if((s&4194048)!==0){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,wn(e,s)}}var Uu={readContext:Ra,use:Ql,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useLayoutEffect:Tr,useInsertionEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useSyncExternalStore:Tr,useId:Tr,useHostTransitionStatus:Tr,useFormState:Tr,useActionState:Tr,useOptimistic:Tr,useMemoCache:Tr,useCacheRefresh:Tr};Uu.useEffectEvent=Tr;var fp={readContext:Ra,use:Ql,useCallback:function(e,t){return ka().memoizedState=[e,t===void 0?null:t],e},useContext:Ra,useEffect:Qm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Wl(4194308,4,ep.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Wl(4194308,4,e,t)},useInsertionEffect:function(e,t){Wl(4,2,e,t)},useMemo:function(e,t){var s=ka();t=t===void 0?null:t;var u=e();if(an){Et(!0);try{e()}finally{Et(!1)}}return s.memoizedState=[u,t],u},useReducer:function(e,t,s){var u=ka();if(s!==void 0){var x=s(t);if(an){Et(!0);try{s(t)}finally{Et(!1)}}}else x=t;return u.memoizedState=u.baseState=x,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:x},u.queue=e,e=e.dispatch=j5.bind(null,Tt,e),[u.memoizedState,e]},useRef:function(e){var t=ka();return e={current:e},t.memoizedState=e},useState:function(e){e=qs(e);var t=e.queue,s=up.bind(null,Tt,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,t){var s=ka();return mf(s,e,t)},useTransition:function(){var e=qs(!1);return e=ip.bind(null,Tt,e.queue,!0,!1),ka().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var u=Tt,x=ka();if(er){if(s===void 0)throw Error(l(407));s=s()}else{if(s=t(),Ir===null)throw Error(l(349));(ar&127)!==0||ms(u,t,s)}x.memoizedState=s;var v={value:s,getSnapshot:t};return x.queue=v,Qm(Iu.bind(null,u,v,e),[e]),u.flags|=2048,bl(9,{destroy:void 0},zu.bind(null,u,v,s,t),null),s},useId:function(){var e=ka(),t=Ir.identifierPrefix;if(er){var s=Zn,u=Yn;s=(u&~(1<<32-It(u)-1)).toString(32)+s,t="_"+t+"R_"+s,s=ma++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=Fc++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:gf,useFormState:Ui,useActionState:Ui,useOptimistic:function(e){var t=ka();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=xf.bind(null,Tt,!0,s),s.dispatch=t,[e,t]},useMemoCache:xl,useCacheRefresh:function(){return ka().memoizedState=N5.bind(null,Tt)},useEffectEvent:function(e){var t=ka(),s={impl:e};return t.memoizedState=s,function(){if((br&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:Ra,use:Ql,useCallback:rp,useContext:Ra,useEffect:hf,useImperativeHandle:tp,useInsertionEffect:Wm,useLayoutEffect:$m,useMemo:ap,useReducer:Uc,useRef:zd,useState:function(){return Uc(Pi)},useDebugValue:ff,useDeferredValue:function(e,t){var s=Wr();return np(s,Ot.memoizedState,e,t)},useTransition:function(){var e=Uc(Pi)[0],t=Wr().memoizedState;return[typeof e=="boolean"?e:Us(e),t]},useSyncExternalStore:Hc,useId:op,useHostTransitionStatus:gf,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var s=Wr();return Dd(s,Ot,e,t)},useMemoCache:xl,useCacheRefresh:cp};yf.useEffectEvent=Jm;var mp={readContext:Ra,use:Ql,useCallback:rp,useContext:Ra,useEffect:hf,useImperativeHandle:tp,useInsertionEffect:Wm,useLayoutEffect:$m,useMemo:ap,useReducer:qc,useRef:zd,useState:function(){return qc(Pi)},useDebugValue:ff,useDeferredValue:function(e,t){var s=Wr();return Ot===null?mf(s,e,t):np(s,Ot.memoizedState,e,t)},useTransition:function(){var e=qc(Pi)[0],t=Wr().memoizedState;return[typeof e=="boolean"?e:Us(e),t]},useSyncExternalStore:Hc,useId:op,useHostTransitionStatus:gf,useFormState:Yc,useActionState:Yc,useOptimistic:function(e,t){var s=Wr();return Ot!==null?Dd(s,Ot,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:xl,useCacheRefresh:cp};mp.useEffectEvent=Jm;function bf(e,t,s,u){t=e.memoizedState,s=s(u,t),s=s==null?t:N({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,t,s){e=e._reactInternals;var u=yi(),x=zt(u);x.payload=t,s!=null&&(x.callback=s),t=Zt(e,x,u),t!==null&&(ei(t,e,u),xr(t,e,u))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var u=yi(),x=zt(u);x.tag=1,x.payload=t,s!=null&&(x.callback=s),t=Zt(e,x,u),t!==null&&(ei(t,e,u),xr(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=yi(),u=zt(s);u.tag=2,t!=null&&(u.callback=t),t=Zt(e,u,s),t!==null&&(ei(t,e,s),xr(t,e,s))}};function pp(e,t,s,u,x,v,I){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,v,I):t.prototype&&t.prototype.isPureReactComponent?!ls(s,u)||!ls(x,v):!0}function gp(e,t,s,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,u),t.state!==e&&vf.enqueueReplaceState(t,t.state,null)}function Jo(e,t){var s=t;if("ref"in t){s={};for(var u in t)u!=="ref"&&(s[u]=t[u])}if(e=e.defaultProps){s===t&&(s=N({},s));for(var x in e)s[x]===void 0&&(s[x]=e[x])}return s}function xp(e){Po(e)}function yp(e){console.error(e)}function bp(e){Po(e)}function Fd(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(u){setTimeout(function(){throw u})}}function vp(e,t,s){try{var u=e.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function wf(e,t,s){return s=zt(s),s.tag=3,s.payload={element:null},s.callback=function(){Fd(e,t)},s}function wp(e){return e=zt(e),e.tag=3,e}function Np(e,t,s,u){var x=s.type.getDerivedStateFromError;if(typeof x=="function"){var v=u.value;e.payload=function(){return x(v)},e.callback=function(){vp(t,s,u)}}var I=s.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(e.callback=function(){vp(t,s,u),typeof x!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var J=u.stack;this.componentDidCatch(u.value,{componentStack:J!==null?J:""})})}function S5(e,t,s,u,x){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(t=s.alternate,t!==null&&Is(t,s,x,!0),s=Vr.current,s!==null){switch(s.tag){case 31:case 13:return ur===null?Qd():s.alternate===null&&pa===0&&(pa=3),s.flags&=-257,s.flags|=65536,s.lanes=x,u===je?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([u]):t.add(u),Yf(e,u,x)),!1;case 22:return s.flags|=65536,u===je?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([u]):s.add(u)),Yf(e,u,x)),!1}throw Error(l(435,s.tag))}return Yf(e,u,x),Qd(),!1}if(er)return t=Vr.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=x,u!==pi&&(e=Error(l(422),{cause:u}),Zl(Hn(e,s)))):(u!==pi&&(t=Error(l(423),{cause:u}),Zl(Hn(t,s))),e=e.current.alternate,e.flags|=65536,x&=-x,e.lanes|=x,u=Hn(u,s),x=wf(e.stateNode,u,x),ya(e,x),pa!==4&&(pa=2)),!1;var v=Error(l(520),{cause:u});if(v=Hn(v,s),Ku===null?Ku=[v]:Ku.push(v),pa!==4&&(pa=2),t===null)return!0;u=Hn(u,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=x&-x,s.lanes|=e,e=wf(s.stateNode,u,e),ya(s,e),!1;case 1:if(t=s.type,v=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ao===null||!ao.has(v))))return s.flags|=65536,x&=-x,s.lanes|=x,x=wp(x),Np(x,e,s,u),ya(s,x),!1}s=s.return}while(s!==null);return!1}var Nf=Error(l(461)),_a=!1;function nn(e,t,s,u){t.child=e===null?Gt(t,null,s,u):zr(t,e.child,s,u)}function jp(e,t,s,u,x){s=s.render;var v=t.ref;if("ref"in u){var I={};for(var J in u)J!=="ref"&&(I[J]=u[J])}else I=u;return Fs(t),u=Ou(e,t,s,I,v,x),J=Mu(),e!==null&&!_a?(Ru(e,t,x),vl(e,t,x)):(er&&J&&Eu(t),t.flags|=1,nn(e,t,u,x),t.child)}function Sp(e,t,s,u,x){if(e===null){var v=s.type;return typeof v=="function"&&!Ec(v)&&v.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=v,kp(e,t,v,u,x)):(e=Vl(s.type,null,u,t,t.mode,x),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,!Lf(e,x)){var I=v.memoizedProps;if(s=s.compare,s=s!==null?s:ls,s(I,u)&&e.ref===t.ref)return vl(e,t,x)}return t.flags|=1,e=qn(v,u),e.ref=t.ref,e.return=t,t.child=e}function kp(e,t,s,u,x){if(e!==null){var v=e.memoizedProps;if(ls(v,u)&&e.ref===t.ref)if(_a=!1,t.pendingProps=u=v,Lf(e,x))(e.flags&131072)!==0&&(_a=!0);else return t.lanes=e.lanes,vl(e,t,x)}return jf(e,t,s,u,x)}function _p(e,t,s,u){var x=u.children,v=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((t.flags&128)!==0){if(v=v!==null?v.baseLanes|s:s,e!==null){for(u=t.child=e.child,x=0;u!==null;)x=x|u.lanes|u.childLanes,u=u.sibling;u=x&~v}else u=0,t.child=null;return Ap(e,t,v,s,u)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&le(t,v!==null?v.cachePool:null),v!==null?Hr(t,v):mr(),ha(t);else return u=t.lanes=536870912,Ap(e,t,v!==null?v.baseLanes|s:s,s,u)}else v!==null?(le(t,v.cachePool),Hr(t,v),fa(),t.memoizedState=null):(e!==null&&le(t,null),mr(),fa());return nn(e,t,x,s),t.child}function qu(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ap(e,t,s,u,x){var v=ne();return v=v===null?null:{parent:sa._currentValue,pool:v},t.memoizedState={baseLanes:s,cachePool:v},e!==null&&le(t,null),mr(),ha(t),e!==null&&Is(e,t,u,!0),t.childLanes=x,null}function Bd(e,t){return t=Ud({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Cp(e,t,s){return zr(t,e.child,null,s),e=Bd(t,t.pendingProps),e.flags|=2,Nr(t),t.memoizedState=null,e}function k5(e,t,s){var u=t.pendingProps,x=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(er){if(u.mode==="hidden")return e=Bd(t,u),t.lanes=536870912,qu(null,e);if(yr(t),(e=Rr)?(e=Pg(e,Qr),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Yn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=Lc(e),s.return=t,t.child=s,Oa=t,Rr=null)):e=null,e===null)throw Ms(t);return t.lanes=536870912,null}return Bd(t,u)}var v=e.memoizedState;if(v!==null){var I=v.dehydrated;if(yr(t),x)if(t.flags&256)t.flags&=-257,t=Cp(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(_a||Is(e,t,s,!1),x=(s&e.childLanes)!==0,_a||x){if(u=Ir,u!==null&&(I=Nn(u,s),I!==0&&I!==v.retryLane))throw v.retryLane=I,ds(e,I),ei(u,e,I),Nf;Qd(),t=Cp(e,t,s)}else e=v.treeContext,Rr=qi(I.nextSibling),Oa=t,er=!0,rn=null,Qr=!1,e!==null&&Ed(t,e),t=Bd(t,u),t.flags|=4096;return t}return e=qn(e.child,{mode:u.mode,children:u.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Pd(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function jf(e,t,s,u,x){return Fs(t),s=Ou(e,t,s,u,void 0,x),u=Mu(),e!==null&&!_a?(Ru(e,t,x),vl(e,t,x)):(er&&u&&Eu(t),t.flags|=1,nn(e,t,s,x),t.child)}function Ep(e,t,s,u,x,v){return Fs(t),t.updateQueue=null,s=fs(t,u,s,x),Bc(e),u=Mu(),e!==null&&!_a?(Ru(e,t,v),vl(e,t,v)):(er&&u&&Eu(t),t.flags|=1,nn(e,t,s,v),t.child)}function Lp(e,t,s,u,x){if(Fs(t),t.stateNode===null){var v=Da,I=s.contextType;typeof I=="object"&&I!==null&&(v=Ra(I)),v=new s(u,v),t.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=vf,t.stateNode=v,v._reactInternals=t,v=t.stateNode,v.props=u,v.state=t.memoizedState,v.refs={},ct(t),I=s.contextType,v.context=typeof I=="object"&&I!==null?Ra(I):Da,v.state=t.memoizedState,I=s.getDerivedStateFromProps,typeof I=="function"&&(bf(t,s,I,u),v.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(I=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),I!==v.state&&vf.enqueueReplaceState(v,v.state,null),ua(t,u,v,x),Lr(),v.state=t.memoizedState),typeof v.componentDidMount=="function"&&(t.flags|=4194308),u=!0}else if(e===null){v=t.stateNode;var J=t.memoizedProps,ge=Jo(s,J);v.props=ge;var Ie=v.context,Ze=s.contextType;I=Da,typeof Ze=="object"&&Ze!==null&&(I=Ra(Ze));var We=s.getDerivedStateFromProps;Ze=typeof We=="function"||typeof v.getSnapshotBeforeUpdate=="function",J=t.pendingProps!==J,Ze||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(J||Ie!==I)&&gp(t,v,u,I),mt=!1;var Fe=t.memoizedState;v.state=Fe,ua(t,u,v,x),Lr(),Ie=t.memoizedState,J||Fe!==Ie||mt?(typeof We=="function"&&(bf(t,s,We,u),Ie=t.memoizedState),(ge=mt||pp(t,s,ge,u,Fe,Ie,I))?(Ze||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=Ie),v.props=u,v.state=Ie,v.context=I,u=ge):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{v=t.stateNode,qr(e,t),I=t.memoizedProps,Ze=Jo(s,I),v.props=Ze,We=t.pendingProps,Fe=v.context,Ie=s.contextType,ge=Da,typeof Ie=="object"&&Ie!==null&&(ge=Ra(Ie)),J=s.getDerivedStateFromProps,(Ie=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==We||Fe!==ge)&&gp(t,v,u,ge),mt=!1,Fe=t.memoizedState,v.state=Fe,ua(t,u,v,x),Lr();var qe=t.memoizedState;I!==We||Fe!==qe||mt||e!==null&&e.dependencies!==null&&Rc(e.dependencies)?(typeof J=="function"&&(bf(t,s,J,u),qe=t.memoizedState),(Ze=mt||pp(t,s,Ze,u,Fe,qe,ge)||e!==null&&e.dependencies!==null&&Rc(e.dependencies))?(Ie||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,qe,ge),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,qe,ge)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===e.memoizedProps&&Fe===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&Fe===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=qe),v.props=u,v.state=qe,v.context=ge,u=Ze):(typeof v.componentDidUpdate!="function"||I===e.memoizedProps&&Fe===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&Fe===e.memoizedState||(t.flags|=1024),u=!1)}return v=u,Pd(e,t),u=(t.flags&128)!==0,v||u?(v=t.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:v.render(),t.flags|=1,e!==null&&u?(t.child=zr(t,e.child,null,x),t.child=zr(t,null,s,x)):nn(e,t,s,x),t.memoizedState=v.state,e=t.child):e=vl(e,t,x),e}function Tp(e,t,s,u){return pl(),t.flags|=256,nn(e,t,s,u),t.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:fe()}}function _f(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=xi),e}function Dp(e,t,s){var u=t.pendingProps,x=!1,v=(t.flags&128)!==0,I;if((I=v)||(I=e!==null&&e.memoizedState===null?!1:(lr.current&2)!==0),I&&(x=!0,t.flags&=-129),I=(t.flags&32)!==0,t.flags&=-33,e===null){if(er){if(x?la(t):fa(),(e=Rr)?(e=Pg(e,Qr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Yn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},s=Lc(e),s.return=t,t.child=s,Oa=t,Rr=null)):e=null,e===null)throw Ms(t);return o0(e)?t.lanes=32:t.lanes=536870912,null}var J=u.children;return u=u.fallback,x?(fa(),x=t.mode,J=Ud({mode:"hidden",children:J},x),u=Ds(u,x,s,null),J.return=t,u.return=t,J.sibling=u,t.child=J,u=t.child,u.memoizedState=kf(s),u.childLanes=_f(e,I,s),t.memoizedState=Sf,qu(null,u)):(la(t),Af(t,J))}var ge=e.memoizedState;if(ge!==null&&(J=ge.dehydrated,J!==null)){if(v)t.flags&256?(la(t),t.flags&=-257,t=Cf(e,t,s)):t.memoizedState!==null?(fa(),t.child=e.child,t.flags|=128,t=null):(fa(),J=u.fallback,x=t.mode,u=Ud({mode:"visible",children:u.children},x),J=Ds(J,x,s,null),J.flags|=2,u.return=t,J.return=t,u.sibling=J,t.child=u,zr(t,e.child,null,s),u=t.child,u.memoizedState=kf(s),u.childLanes=_f(e,I,s),t.memoizedState=Sf,t=qu(null,u));else if(la(t),o0(J)){if(I=J.nextSibling&&J.nextSibling.dataset,I)var Ie=I.dgst;I=Ie,u=Error(l(419)),u.stack="",u.digest=I,Zl({value:u,source:null,stack:null}),t=Cf(e,t,s)}else if(_a||Is(e,t,s,!1),I=(s&e.childLanes)!==0,_a||I){if(I=Ir,I!==null&&(u=Nn(I,s),u!==0&&u!==ge.retryLane))throw ge.retryLane=u,ds(e,u),ei(I,e,u),Nf;l0(J)||Qd(),t=Cf(e,t,s)}else l0(J)?(t.flags|=192,t.child=e.child,t=null):(e=ge.treeContext,Rr=qi(J.nextSibling),Oa=t,er=!0,rn=null,Qr=!1,e!==null&&Ed(t,e),t=Af(t,u.children),t.flags|=4096);return t}return x?(fa(),J=u.fallback,x=t.mode,ge=e.child,Ie=ge.sibling,u=qn(ge,{mode:"hidden",children:u.children}),u.subtreeFlags=ge.subtreeFlags&65011712,Ie!==null?J=qn(Ie,J):(J=Ds(J,x,s,null),J.flags|=2),J.return=t,u.return=t,u.sibling=J,t.child=u,qu(null,u),u=t.child,J=e.child.memoizedState,J===null?J=kf(s):(x=J.cachePool,x!==null?(ge=sa._currentValue,x=x.parent!==ge?{parent:ge,pool:ge}:x):x=fe(),J={baseLanes:J.baseLanes|s,cachePool:x}),u.memoizedState=J,u.childLanes=_f(e,I,s),t.memoizedState=Sf,qu(e.child,u)):(la(t),s=e.child,e=s.sibling,s=qn(s,{mode:"visible",children:u.children}),s.return=t,s.sibling=null,e!==null&&(I=t.deletions,I===null?(t.deletions=[e],t.flags|=16):I.push(e)),t.child=s,t.memoizedState=null,s)}function Af(e,t){return t=Ud({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ud(e,t){return e=Ya(22,e,null,t),e.lanes=0,e}function Cf(e,t,s){return zr(t,e.child,null,s),e=Af(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Op(e,t,s){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),Xl(e.return,t,s)}function Ef(e,t,s,u,x,v){var I=e.memoizedState;I===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:x,treeForkCount:v}:(I.isBackwards=t,I.rendering=null,I.renderingStartTime=0,I.last=u,I.tail=s,I.tailMode=x,I.treeForkCount=v)}function Mp(e,t,s){var u=t.pendingProps,x=u.revealOrder,v=u.tail;u=u.children;var I=lr.current,J=(I&2)!==0;if(J?(I=I&1|2,t.flags|=128):I&=1,Q(lr,I),nn(e,t,u,s),u=er?Yo:0,!J&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Op(e,s,t);else if(e.tag===19)Op(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(x){case"forwards":for(s=t.child,x=null;s!==null;)e=s.alternate,e!==null&&Xa(e)===null&&(x=s),s=s.sibling;s=x,s===null?(x=t.child,t.child=null):(x=s.sibling,s.sibling=null),Ef(t,!1,x,s,v,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,x=t.child,t.child=null;x!==null;){if(e=x.alternate,e!==null&&Xa(e)===null){t.child=x;break}e=x.sibling,x.sibling=s,s=x,x=e}Ef(t,!0,s,null,v,u);break;case"together":Ef(t,!1,null,null,void 0,u);break;default:t.memoizedState=null}return t.child}function vl(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ro|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(Is(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,s=qn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=qn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Lf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Rc(e)))}function _5(e,t,s){switch(t.tag){case 3:_e(t,t.stateNode.containerInfo),zs(t,sa,e.memoizedState.cache),pl();break;case 27:case 5:Be(t);break;case 4:_e(t,t.stateNode.containerInfo);break;case 10:zs(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yr(t),null;break;case 13:var u=t.memoizedState;if(u!==null)return u.dehydrated!==null?(la(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Dp(e,t,s):(la(t),e=vl(e,t,s),e!==null?e.sibling:null);la(t);break;case 19:var x=(e.flags&128)!==0;if(u=(s&t.childLanes)!==0,u||(Is(e,t,s,!1),u=(s&t.childLanes)!==0),x){if(u)return Mp(e,t,s);t.flags|=128}if(x=t.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Q(lr,lr.current),u)break;return null;case 22:return t.lanes=0,_p(e,t,s,t.pendingProps);case 24:zs(t,sa,e.memoizedState.cache)}return vl(e,t,s)}function Rp(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)_a=!0;else{if(!Lf(e,s)&&(t.flags&128)===0)return _a=!1,_5(e,t,s);_a=(e.flags&131072)!==0}else _a=!1,er&&(t.flags&1048576)!==0&&Cd(t,Yo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var u=t.pendingProps;if(e=De(t.elementType),t.type=e,typeof e=="function")Ec(e)?(u=Jo(e,u),t.tag=1,t=Lp(null,t,e,u,s)):(t.tag=0,t=jf(null,t,e,u,s));else{if(e!=null){var x=e.$$typeof;if(x===M){t.tag=11,t=jp(null,t,e,u,s);break e}else if(x===B){t.tag=14,t=Sp(null,t,e,u,s);break e}}throw t=j(e)||e,Error(l(306,t,""))}}return t;case 0:return jf(e,t,t.type,t.pendingProps,s);case 1:return u=t.type,x=Jo(u,t.pendingProps),Lp(e,t,u,x,s);case 3:e:{if(_e(t,t.stateNode.containerInfo),e===null)throw Error(l(387));u=t.pendingProps;var v=t.memoizedState;x=v.element,qr(e,t),ua(t,u,null,s);var I=t.memoizedState;if(u=I.cache,zs(t,sa,u),u!==v.cache&&gl(t,[sa],s,!0),Lr(),u=I.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:I.cache},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){t=Tp(e,t,u,s);break e}else if(u!==x){x=Hn(Error(l(424)),t),Zl(x),t=Tp(e,t,u,s);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Rr=qi(e.firstChild),Oa=t,er=!0,rn=null,Qr=!0,s=Gt(t,null,u,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(pl(),u===x){t=vl(e,t,s);break e}nn(e,t,u,s)}t=t.child}return t;case 26:return Pd(e,t),e===null?(s=Yg(t.type,null,t.pendingProps,null))?t.memoizedState=s:er||(s=t.type,e=t.pendingProps,u=ah(ye.current).createElement(s),u[wr]=t,u[Pr]=e,sn(u,s,e),ta(u),t.stateNode=u):t.memoizedState=Yg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Be(t),e===null&&er&&(u=t.stateNode=Hg(t.type,t.pendingProps,ye.current),Oa=t,Qr=!0,x=Rr,lo(t.type)?(c0=x,Rr=qi(u.firstChild)):Rr=x),nn(e,t,t.pendingProps.children,s),Pd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&er&&((x=u=Rr)&&(u=rb(u,t.type,t.pendingProps,Qr),u!==null?(t.stateNode=u,Oa=t,Rr=qi(u.firstChild),Qr=!1,x=!0):x=!1),x||Ms(t)),Be(t),x=t.type,v=t.pendingProps,I=e!==null?e.memoizedProps:null,u=v.children,n0(x,v)?u=null:I!==null&&n0(x,I)&&(t.flags|=32),t.memoizedState!==null&&(x=Ou(e,t,df,null,null,s),ad._currentValue=x),Pd(e,t),nn(e,t,u,s),t.child;case 6:return e===null&&er&&((e=s=Rr)&&(s=ab(s,t.pendingProps,Qr),s!==null?(t.stateNode=s,Oa=t,Rr=null,e=!0):e=!1),e||Ms(t)),null;case 13:return Dp(e,t,s);case 4:return _e(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=zr(t,null,u,s):nn(e,t,u,s),t.child;case 11:return jp(e,t,t.type,t.pendingProps,s);case 7:return nn(e,t,t.pendingProps,s),t.child;case 8:return nn(e,t,t.pendingProps.children,s),t.child;case 12:return nn(e,t,t.pendingProps.children,s),t.child;case 10:return u=t.pendingProps,zs(t,t.type,u.value),nn(e,t,u.children,s),t.child;case 9:return x=t.type._context,u=t.pendingProps.children,Fs(t),x=Ra(x),u=u(x),t.flags|=1,nn(e,t,u,s),t.child;case 14:return Sp(e,t,t.type,t.pendingProps,s);case 15:return kp(e,t,t.type,t.pendingProps,s);case 19:return Mp(e,t,s);case 31:return k5(e,t,s);case 22:return _p(e,t,s,t.pendingProps);case 24:return Fs(t),u=Ra(sa),e===null?(x=ne(),x===null&&(x=Ir,v=Kl(),x.pooledCache=v,v.refCount++,v!==null&&(x.pooledCacheLanes|=s),x=v),t.memoizedState={parent:u,cache:x},ct(t),zs(t,sa,x)):((e.lanes&s)!==0&&(qr(e,t),ua(t,null,null,s),Lr()),x=e.memoizedState,v=t.memoizedState,x.parent!==u?(x={parent:u,cache:u},t.memoizedState=x,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=x),zs(t,sa,u)):(u=v.cache,zs(t,sa,u),u!==x.cache&&gl(t,[sa],s,!0))),nn(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function wl(e){e.flags|=4}function Tf(e,t,s,u,x){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(x&335544128)===x)if(e.stateNode.complete)e.flags|=8192;else if(og())e.flags|=8192;else throw Ve=je,Re}else e.flags&=-16777217}function zp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jg(t))if(og())e.flags|=8192;else throw Ve=je,Re}function qd(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Si():536870912,e.lanes|=t,Qc|=t)}function Hu(e,t){if(!er)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(t)for(var x=e.child;x!==null;)s|=x.lanes|x.childLanes,u|=x.subtreeFlags&65011712,u|=x.flags&65011712,x.return=e,x=x.sibling;else for(x=e.child;x!==null;)s|=x.lanes|x.childLanes,u|=x.subtreeFlags,u|=x.flags,x.return=e,x=x.sibling;return e.subtreeFlags|=u,e.childLanes=s,t}function A5(e,t,s){var u=t.pendingProps;switch(Oc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(t),null;case 1:return Gr(t),null;case 3:return s=t.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),t.memoizedState.cache!==u&&(t.flags|=2048),Xn(sa),Ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ma(t)?wl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tu())),Gr(t),null;case 26:var x=t.type,v=t.memoizedState;return e===null?(wl(t),v!==null?(Gr(t),zp(t,v)):(Gr(t),Tf(t,x,null,u,s))):v?v!==e.memoizedState?(wl(t),Gr(t),zp(t,v)):(Gr(t),t.flags&=-16777217):(e=e.memoizedProps,e!==u&&wl(t),Gr(t),Tf(t,x,e,u,s)),null;case 27:if(Ke(t),s=ye.current,x=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&wl(t);else{if(!u){if(t.stateNode===null)throw Error(l(166));return Gr(t),null}e=ae.current,Ma(t)?Lu(t):(e=Hg(x,u,s),t.stateNode=e,wl(t))}return Gr(t),null;case 5:if(Ke(t),x=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&wl(t);else{if(!u){if(t.stateNode===null)throw Error(l(166));return Gr(t),null}if(v=ae.current,Ma(t))Lu(t);else{var I=ah(ye.current);switch(v){case 1:v=I.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:v=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":v=I.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":v=I.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":v=I.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?I.createElement("select",{is:u.is}):I.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?I.createElement(x,{is:u.is}):I.createElement(x)}}v[wr]=t,v[Pr]=u;e:for(I=t.child;I!==null;){if(I.tag===5||I.tag===6)v.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===t)break e;for(;I.sibling===null;){if(I.return===null||I.return===t)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}t.stateNode=v;e:switch(sn(v,x,u),x){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&wl(t)}}return Gr(t),Tf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==u&&wl(t);else{if(typeof u!="string"&&t.stateNode===null)throw Error(l(166));if(e=ye.current,Ma(t)){if(e=t.stateNode,s=t.memoizedProps,u=null,x=Oa,x!==null)switch(x.tag){case 27:case 5:u=x.memoizedProps}e[wr]=t,e=!!(e.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Dg(e.nodeValue,s)),e||Ms(t,!0)}else e=ah(e).createTextNode(u),e[wr]=t,t.stateNode=e}return Gr(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(u=Ma(t),s!==null){if(e===null){if(!u)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[wr]=t}else pl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Gr(t),e=!1}else s=Tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Nr(t),t):(Nr(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Gr(t),null;case 13:if(u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(x=Ma(t),u!==null&&u.dehydrated!==null){if(e===null){if(!x)throw Error(l(318));if(x=t.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(l(317));x[wr]=t}else pl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Gr(t),x=!1}else x=Tu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=x),x=!0;if(!x)return t.flags&256?(Nr(t),t):(Nr(t),null)}return Nr(t),(t.flags&128)!==0?(t.lanes=s,t):(s=u!==null,e=e!==null&&e.memoizedState!==null,s&&(u=t.child,x=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(x=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==x&&(u.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),qd(t,t.updateQueue),Gr(t),null);case 4:return Ae(),e===null&&$f(t.stateNode.containerInfo),Gr(t),null;case 10:return Xn(t.type),Gr(t),null;case 19:if(z(lr),u=t.memoizedState,u===null)return Gr(t),null;if(x=(t.flags&128)!==0,v=u.rendering,v===null)if(x)Hu(u,!1);else{if(pa!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=Xa(e),v!==null){for(t.flags|=128,Hu(u,!1),e=v.updateQueue,t.updateQueue=e,qd(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Vo(s,e),s=s.sibling;return Q(lr,lr.current&1|2),er&&Dn(t,u.treeForkCount),t.child}e=e.sibling}u.tail!==null&&et()>Zd&&(t.flags|=128,x=!0,Hu(u,!1),t.lanes=4194304)}else{if(!x)if(e=Xa(v),e!==null){if(t.flags|=128,x=!0,e=e.updateQueue,t.updateQueue=e,qd(t,e),Hu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!er)return Gr(t),null}else 2*et()-u.renderingStartTime>Zd&&s!==536870912&&(t.flags|=128,x=!0,Hu(u,!1),t.lanes=4194304);u.isBackwards?(v.sibling=t.child,t.child=v):(e=u.last,e!==null?e.sibling=v:t.child=v,u.last=v)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=et(),e.sibling=null,s=lr.current,Q(lr,x?s&1|2:s&1),er&&Dn(t,u.treeForkCount),e):(Gr(t),null);case 22:case 23:return Nr(t),ba(),u=t.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(t.flags|=8192):u&&(t.flags|=8192),u?(s&536870912)!==0&&(t.flags&128)===0&&(Gr(t),t.subtreeFlags&6&&(t.flags|=8192)):Gr(t),s=t.updateQueue,s!==null&&qd(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),u=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),u!==s&&(t.flags|=2048),e!==null&&z(K),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Xn(sa),Gr(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function C5(e,t){switch(Oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xn(sa),Ae(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ke(t),null;case 31:if(t.memoizedState!==null){if(Nr(t),t.alternate===null)throw Error(l(340));pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(lr),null;case 4:return Ae(),null;case 10:return Xn(t.type),null;case 22:case 23:return Nr(t),ba(),e!==null&&z(K),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Xn(sa),null;case 25:return null;default:return null}}function Ip(e,t){switch(Oc(t),t.tag){case 3:Xn(sa),Ae();break;case 26:case 27:case 5:Ke(t);break;case 4:Ae();break;case 31:t.memoizedState!==null&&Nr(t);break;case 13:Nr(t);break;case 19:z(lr);break;case 10:Xn(t.type);break;case 22:case 23:Nr(t),ba(),e!==null&&z(K);break;case 24:Xn(sa)}}function Vu(e,t){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var x=u.next;s=x;do{if((s.tag&e)===e){u=void 0;var v=s.create,I=s.inst;u=v(),I.destroy=u}s=s.next}while(s!==x)}}catch(J){Sr(t,t.return,J)}}function eo(e,t,s){try{var u=t.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var v=x.next;u=v;do{if((u.tag&e)===e){var I=u.inst,J=I.destroy;if(J!==void 0){I.destroy=void 0,x=t;var ge=s,Ie=J;try{Ie()}catch(Ze){Sr(x,ge,Ze)}}}u=u.next}while(u!==v)}}catch(Ze){Sr(t,t.return,Ze)}}function Fp(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{da(t,s)}catch(u){Sr(e,e.return,u)}}}function Bp(e,t,s){s.props=Jo(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(u){Sr(e,t,u)}}function Gu(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof s=="function"?e.refCleanup=s(u):s.current=u}}catch(x){Sr(e,t,x)}}function Hs(e,t){var s=e.ref,u=e.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(x){Sr(e,t,x)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(x){Sr(e,t,x)}else s.current=null}function Pp(e){var t=e.type,s=e.memoizedProps,u=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(x){Sr(e,e.return,x)}}function Df(e,t,s){try{var u=e.stateNode;Q5(u,e.type,s,t),u[Pr]=t}catch(x){Sr(e,e.return,x)}}function Up(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&lo(e.type)||e.tag===4}function Of(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Up(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&lo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mf(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=ui));else if(u!==4&&(u===27&&lo(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(Mf(e,t,s),e=e.sibling;e!==null;)Mf(e,t,s),e=e.sibling}function Hd(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(u!==4&&(u===27&&lo(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Hd(e,t,s),e=e.sibling;e!==null;)Hd(e,t,s),e=e.sibling}function qp(e){var t=e.stateNode,s=e.memoizedProps;try{for(var u=e.type,x=t.attributes;x.length;)t.removeAttributeNode(x[0]);sn(t,u,s),t[wr]=e,t[Pr]=s}catch(v){Sr(e,e.return,v)}}var Nl=!1,Aa=!1,Rf=!1,Hp=typeof WeakSet=="function"?WeakSet:Set,Ka=null;function E5(e,t){if(e=e.containerInfo,r0=uh,e=cs(e),Ii(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var x=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var I=0,J=-1,ge=-1,Ie=0,Ze=0,We=e,Fe=null;t:for(;;){for(var qe;We!==s||x!==0&&We.nodeType!==3||(J=I+x),We!==v||u!==0&&We.nodeType!==3||(ge=I+u),We.nodeType===3&&(I+=We.nodeValue.length),(qe=We.firstChild)!==null;)Fe=We,We=qe;for(;;){if(We===e)break t;if(Fe===s&&++Ie===x&&(J=I),Fe===v&&++Ze===u&&(ge=I),(qe=We.nextSibling)!==null)break;We=Fe,Fe=We.parentNode}We=qe}s=J===-1||ge===-1?null:{start:J,end:ge}}else s=null}s=s||{start:0,end:0}}else s=null;for(a0={focusedElem:e,selectionRange:s},uh=!1,Ka=t;Ka!==null;)if(t=Ka,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ka=e;else for(;Ka!==null;){switch(t=Ka,v=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)x=e[s],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&v!==null){e=void 0,s=t,x=v.memoizedProps,v=v.memoizedState,u=s.stateNode;try{var bt=Jo(s.type,x);e=u.getSnapshotBeforeUpdate(bt,v),u.__reactInternalSnapshotBeforeUpdate=e}catch(Ft){Sr(s,s.return,Ft)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)s0(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":s0(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Ka=e;break}Ka=t.return}}function Vp(e,t,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Sl(e,s),u&4&&Vu(5,s);break;case 1:if(Sl(e,s),u&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(I){Sr(s,s.return,I)}else{var x=Jo(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(x,t,e.__reactInternalSnapshotBeforeUpdate)}catch(I){Sr(s,s.return,I)}}u&64&&Fp(s),u&512&&Gu(s,s.return);break;case 3:if(Sl(e,s),u&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{da(e,t)}catch(I){Sr(s,s.return,I)}}break;case 27:t===null&&u&4&&qp(s);case 26:case 5:Sl(e,s),t===null&&u&4&&Pp(s),u&512&&Gu(s,s.return);break;case 12:Sl(e,s);break;case 31:Sl(e,s),u&4&&Zp(e,s);break;case 13:Sl(e,s),u&4&&Xp(e,s),u&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=F5.bind(null,s),nb(e,s))));break;case 22:if(u=s.memoizedState!==null||Nl,!u){t=t!==null&&t.memoizedState!==null||Aa,x=Nl;var v=Aa;Nl=u,(Aa=t)&&!v?kl(e,s,(s.subtreeFlags&8772)!==0):Sl(e,s),Nl=x,Aa=v}break;case 30:break;default:Sl(e,s)}}function Gp(e){var t=e.alternate;t!==null&&(e.alternate=null,Gp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ks(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $r=null,Qn=!1;function jl(e,t,s){for(s=s.child;s!==null;)Yp(e,t,s),s=s.sibling}function Yp(e,t,s){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(St,s)}catch{}switch(s.tag){case 26:Aa||Hs(s,t),jl(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Aa||Hs(s,t);var u=$r,x=Qn;lo(s.type)&&($r=s.stateNode,Qn=!1),jl(e,t,s),ed(s.stateNode),$r=u,Qn=x;break;case 5:Aa||Hs(s,t);case 6:if(u=$r,x=Qn,$r=null,jl(e,t,s),$r=u,Qn=x,$r!==null)if(Qn)try{($r.nodeType===9?$r.body:$r.nodeName==="HTML"?$r.ownerDocument.body:$r).removeChild(s.stateNode)}catch(v){Sr(s,t,v)}else try{$r.removeChild(s.stateNode)}catch(v){Sr(s,t,v)}break;case 18:$r!==null&&(Qn?(e=$r,Fg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),nu(e)):Fg($r,s.stateNode));break;case 4:u=$r,x=Qn,$r=s.stateNode.containerInfo,Qn=!0,jl(e,t,s),$r=u,Qn=x;break;case 0:case 11:case 14:case 15:eo(2,s,t),Aa||eo(4,s,t),jl(e,t,s);break;case 1:Aa||(Hs(s,t),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Bp(s,t,u)),jl(e,t,s);break;case 21:jl(e,t,s);break;case 22:Aa=(u=Aa)||s.memoizedState!==null,jl(e,t,s),Aa=u;break;default:jl(e,t,s)}}function Zp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{nu(e)}catch(s){Sr(t,t.return,s)}}}function Xp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nu(e)}catch(s){Sr(t,t.return,s)}}function L5(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hp),t;default:throw Error(l(435,e.tag))}}function Vd(e,t){var s=L5(e);t.forEach(function(u){if(!s.has(u)){s.add(u);var x=B5.bind(null,e,u);u.then(x,x)}})}function Jn(e,t){var s=t.deletions;if(s!==null)for(var u=0;u<s.length;u++){var x=s[u],v=e,I=t,J=I;e:for(;J!==null;){switch(J.tag){case 27:if(lo(J.type)){$r=J.stateNode,Qn=!1;break e}break;case 5:$r=J.stateNode,Qn=!1;break e;case 3:case 4:$r=J.stateNode.containerInfo,Qn=!0;break e}J=J.return}if($r===null)throw Error(l(160));Yp(v,I,x),$r=null,Qn=!1,v=x.alternate,v!==null&&(v.return=null),x.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Kp(t,e),t=t.sibling}var xs=null;function Kp(e,t){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Jn(t,e),Wn(e),u&4&&(eo(3,e,e.return),Vu(3,e),eo(5,e,e.return));break;case 1:Jn(t,e),Wn(e),u&512&&(Aa||s===null||Hs(s,s.return)),u&64&&Nl&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var x=xs;if(Jn(t,e),Wn(e),u&512&&(Aa||s===null||Hs(s,s.return)),u&4){var v=s!==null?s.memoizedState:null;if(u=e.memoizedState,s===null)if(u===null)if(e.stateNode===null){e:{u=e.type,s=e.memoizedProps,x=x.ownerDocument||x;t:switch(u){case"title":v=x.getElementsByTagName("title")[0],(!v||v[ii]||v[wr]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=x.createElement(u),x.head.insertBefore(v,x.querySelector("head > title"))),sn(v,u,s),v[wr]=e,ta(v),u=v;break e;case"link":var I=Kg("link","href",x).get(u+(s.href||""));if(I){for(var J=0;J<I.length;J++)if(v=I[J],v.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&v.getAttribute("rel")===(s.rel==null?null:s.rel)&&v.getAttribute("title")===(s.title==null?null:s.title)&&v.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){I.splice(J,1);break t}}v=x.createElement(u),sn(v,u,s),x.head.appendChild(v);break;case"meta":if(I=Kg("meta","content",x).get(u+(s.content||""))){for(J=0;J<I.length;J++)if(v=I[J],v.getAttribute("content")===(s.content==null?null:""+s.content)&&v.getAttribute("name")===(s.name==null?null:s.name)&&v.getAttribute("property")===(s.property==null?null:s.property)&&v.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&v.getAttribute("charset")===(s.charSet==null?null:s.charSet)){I.splice(J,1);break t}}v=x.createElement(u),sn(v,u,s),x.head.appendChild(v);break;default:throw Error(l(468,u))}v[wr]=e,ta(v),u=v}e.stateNode=u}else Qg(x,e.type,e.stateNode);else e.stateNode=Xg(x,u,e.memoizedProps);else v!==u?(v===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):v.count--,u===null?Qg(x,e.type,e.stateNode):Xg(x,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Df(e,e.memoizedProps,s.memoizedProps)}break;case 27:Jn(t,e),Wn(e),u&512&&(Aa||s===null||Hs(s,s.return)),s!==null&&u&4&&Df(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Jn(t,e),Wn(e),u&512&&(Aa||s===null||Hs(s,s.return)),e.flags&32){x=e.stateNode;try{kn(x,"")}catch(bt){Sr(e,e.return,bt)}}u&4&&e.stateNode!=null&&(x=e.memoizedProps,Df(e,x,s!==null?s.memoizedProps:x)),u&1024&&(Rf=!0);break;case 6:if(Jn(t,e),Wn(e),u&4){if(e.stateNode===null)throw Error(l(162));u=e.memoizedProps,s=e.stateNode;try{s.nodeValue=u}catch(bt){Sr(e,e.return,bt)}}break;case 3:if(sh=null,x=xs,xs=nh(t.containerInfo),Jn(t,e),xs=x,Wn(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{nu(t.containerInfo)}catch(bt){Sr(e,e.return,bt)}Rf&&(Rf=!1,Qp(e));break;case 4:u=xs,xs=nh(e.stateNode.containerInfo),Jn(t,e),Wn(e),xs=u;break;case 12:Jn(t,e),Wn(e);break;case 31:Jn(t,e),Wn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Vd(e,u)));break;case 13:Jn(t,e),Wn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yd=et()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Vd(e,u)));break;case 22:x=e.memoizedState!==null;var ge=s!==null&&s.memoizedState!==null,Ie=Nl,Ze=Aa;if(Nl=Ie||x,Aa=Ze||ge,Jn(t,e),Aa=Ze,Nl=Ie,Wn(e),u&8192)e:for(t=e.stateNode,t._visibility=x?t._visibility&-2:t._visibility|1,x&&(s===null||ge||Nl||Aa||Wo(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){ge=s=t;try{if(v=ge.stateNode,x)I=v.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{J=ge.stateNode;var We=ge.memoizedProps.style,Fe=We!=null&&We.hasOwnProperty("display")?We.display:null;J.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(bt){Sr(ge,ge.return,bt)}}}else if(t.tag===6){if(s===null){ge=t;try{ge.stateNode.nodeValue=x?"":ge.memoizedProps}catch(bt){Sr(ge,ge.return,bt)}}}else if(t.tag===18){if(s===null){ge=t;try{var qe=ge.stateNode;x?Bg(qe,!0):Bg(ge.stateNode,!1)}catch(bt){Sr(ge,ge.return,bt)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}u&4&&(u=e.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Vd(e,s))));break;case 19:Jn(t,e),Wn(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Vd(e,u)));break;case 30:break;case 21:break;default:Jn(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{for(var s,u=e.return;u!==null;){if(Up(u)){s=u;break}u=u.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var x=s.stateNode,v=Of(e);Hd(e,v,x);break;case 5:var I=s.stateNode;s.flags&32&&(kn(I,""),s.flags&=-33);var J=Of(e);Hd(e,J,I);break;case 3:case 4:var ge=s.stateNode.containerInfo,Ie=Of(e);Mf(e,Ie,ge);break;default:throw Error(l(161))}}catch(Ze){Sr(e,e.return,Ze)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vp(e,t.alternate,t),t=t.sibling}function Wo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:eo(4,t,t.return),Wo(t);break;case 1:Hs(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&Bp(t,t.return,s),Wo(t);break;case 27:ed(t.stateNode);case 26:case 5:Hs(t,t.return),Wo(t);break;case 22:t.memoizedState===null&&Wo(t);break;case 30:Wo(t);break;default:Wo(t)}e=e.sibling}}function kl(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var u=t.alternate,x=e,v=t,I=v.flags;switch(v.tag){case 0:case 11:case 15:kl(x,v,s),Vu(4,v);break;case 1:if(kl(x,v,s),u=v,x=u.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(Ie){Sr(u,u.return,Ie)}if(u=v,x=u.updateQueue,x!==null){var J=u.stateNode;try{var ge=x.shared.hiddenCallbacks;if(ge!==null)for(x.shared.hiddenCallbacks=null,x=0;x<ge.length;x++)Za(ge[x],J)}catch(Ie){Sr(u,u.return,Ie)}}s&&I&64&&Fp(v),Gu(v,v.return);break;case 27:qp(v);case 26:case 5:kl(x,v,s),s&&u===null&&I&4&&Pp(v),Gu(v,v.return);break;case 12:kl(x,v,s);break;case 31:kl(x,v,s),s&&I&4&&Zp(x,v);break;case 13:kl(x,v,s),s&&I&4&&Xp(x,v);break;case 22:v.memoizedState===null&&kl(x,v,s),Gu(v,v.return);break;case 30:break;default:kl(x,v,s)}t=t.sibling}}function zf(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Zo(s))}function If(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zo(e))}function ys(e,t,s,u){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jp(e,t,s,u),t=t.sibling}function Jp(e,t,s,u){var x=t.flags;switch(t.tag){case 0:case 11:case 15:ys(e,t,s,u),x&2048&&Vu(9,t);break;case 1:ys(e,t,s,u);break;case 3:ys(e,t,s,u),x&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zo(e)));break;case 12:if(x&2048){ys(e,t,s,u),e=t.stateNode;try{var v=t.memoizedProps,I=v.id,J=v.onPostCommit;typeof J=="function"&&J(I,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(ge){Sr(t,t.return,ge)}}else ys(e,t,s,u);break;case 31:ys(e,t,s,u);break;case 13:ys(e,t,s,u);break;case 23:break;case 22:v=t.stateNode,I=t.alternate,t.memoizedState!==null?v._visibility&2?ys(e,t,s,u):Yu(e,t):v._visibility&2?ys(e,t,s,u):(v._visibility|=2,Zc(e,t,s,u,(t.subtreeFlags&10256)!==0||!1)),x&2048&&zf(I,t);break;case 24:ys(e,t,s,u),x&2048&&If(t.alternate,t);break;default:ys(e,t,s,u)}}function Zc(e,t,s,u,x){for(x=x&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var v=e,I=t,J=s,ge=u,Ie=I.flags;switch(I.tag){case 0:case 11:case 15:Zc(v,I,J,ge,x),Vu(8,I);break;case 23:break;case 22:var Ze=I.stateNode;I.memoizedState!==null?Ze._visibility&2?Zc(v,I,J,ge,x):Yu(v,I):(Ze._visibility|=2,Zc(v,I,J,ge,x)),x&&Ie&2048&&zf(I.alternate,I);break;case 24:Zc(v,I,J,ge,x),x&&Ie&2048&&If(I.alternate,I);break;default:Zc(v,I,J,ge,x)}t=t.sibling}}function Yu(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,u=t,x=u.flags;switch(u.tag){case 22:Yu(s,u),x&2048&&zf(u.alternate,u);break;case 24:Yu(s,u),x&2048&&If(u.alternate,u);break;default:Yu(s,u)}t=t.sibling}}var Zu=8192;function Xc(e,t,s){if(e.subtreeFlags&Zu)for(e=e.child;e!==null;)Wp(e,t,s),e=e.sibling}function Wp(e,t,s){switch(e.tag){case 26:Xc(e,t,s),e.flags&Zu&&e.memoizedState!==null&&gb(s,xs,e.memoizedState,e.memoizedProps);break;case 5:Xc(e,t,s);break;case 3:case 4:var u=xs;xs=nh(e.stateNode.containerInfo),Xc(e,t,s),xs=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=Zu,Zu=16777216,Xc(e,t,s),Zu=u):Xc(e,t,s));break;default:Xc(e,t,s)}}function $p(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var u=t[s];Ka=u,tg(u,e)}$p(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 0:case 11:case 15:Xu(e),e.flags&2048&&eo(9,e,e.return);break;case 3:Xu(e);break;case 12:Xu(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Gd(e)):Xu(e);break;default:Xu(e)}}function Gd(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var u=t[s];Ka=u,tg(u,e)}$p(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:eo(8,t,t.return),Gd(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Gd(t));break;default:Gd(t)}e=e.sibling}}function tg(e,t){for(;Ka!==null;){var s=Ka;switch(s.tag){case 0:case 11:case 15:eo(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zo(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Ka=u;else e:for(s=e;Ka!==null;){u=Ka;var x=u.sibling,v=u.return;if(Gp(u),u===s){Ka=null;break e}if(x!==null){x.return=v,Ka=x;break e}Ka=v}}}var T5={getCacheForType:function(e){var t=Ra(sa),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Ra(sa).controller.signal}},D5=typeof WeakMap=="function"?WeakMap:Map,br=0,Ir=null,tr=null,ar=0,jr=0,gi=null,to=!1,Kc=!1,Ff=!1,_l=0,pa=0,ro=0,$o=0,Bf=0,xi=0,Qc=0,Ku=null,$n=null,Pf=!1,Yd=0,rg=0,Zd=1/0,Xd=null,ao=null,Ia=0,no=null,Jc=null,Al=0,Uf=0,qf=null,ag=null,Qu=0,Hf=null;function yi(){return(br&2)!==0&&ar!==0?ar&-ar:W.T!==null?Kf():ja()}function ng(){if(xi===0)if((ar&536870912)===0||er){var e=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),xi=e}else xi=536870912;return e=Vr.current,e!==null&&(e.flags|=32),xi}function ei(e,t,s){(e===Ir&&(jr===2||jr===9)||e.cancelPendingCommit!==null)&&(Wc(e,0),io(e,ar,xi,!1)),Lt(e,s),((br&2)===0||e!==Ir)&&(e===Ir&&((br&2)===0&&($o|=s),pa===4&&io(e,ar,xi,!1)),Vs(e))}function ig(e,t,s){if((br&6)!==0)throw Error(l(327));var u=!s&&(t&127)===0&&(t&e.expiredLanes)===0||ai(e,t),x=u?R5(e,t):Gf(e,t,!0),v=u;do{if(x===0){Kc&&!u&&io(e,t,0,!1);break}else{if(s=e.current.alternate,v&&!O5(s)){x=Gf(e,t,!1),v=!1;continue}if(x===2){if(v=t,e.errorRecoveryDisabledLanes&v)var I=0;else I=e.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){t=I;e:{var J=e;x=Ku;var ge=J.current.memoizedState.isDehydrated;if(ge&&(Wc(J,I).flags|=256),I=Gf(J,I,!1),I!==2){if(Ff&&!ge){J.errorRecoveryDisabledLanes|=v,$o|=v,x=4;break e}v=$n,$n=x,v!==null&&($n===null?$n=v:$n.push.apply($n,v))}x=I}if(v=!1,x!==2)continue}}if(x===1){Wc(e,0),io(e,t,0,!0);break}e:{switch(u=e,v=x,v){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:io(u,t,xi,!to);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(x=Yd+300-et(),10<x)){if(io(u,t,xi,!to),ir(u,0,!0)!==0)break e;Al=t,u.timeoutHandle=zg(sg.bind(null,u,s,$n,Xd,Pf,t,xi,$o,Qc,to,v,"Throttled",-0,0),x);break e}sg(u,s,$n,Xd,Pf,t,xi,$o,Qc,to,v,null,-0,0)}}break}while(!0);Vs(e)}function sg(e,t,s,u,x,v,I,J,ge,Ie,Ze,We,Fe,qe){if(e.timeoutHandle=-1,We=t.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Wp(t,v,We);var bt=(v&62914560)===v?Yd-et():(v&4194048)===v?rg-et():0;if(bt=xb(We,bt),bt!==null){Al=v,e.cancelPendingCommit=bt(mg.bind(null,e,t,v,s,u,x,I,J,ge,Ze,We,null,Fe,qe)),io(e,v,I,!Ie);return}}mg(e,t,v,s,u,x,I,J,ge)}function O5(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var x=s[u],v=x.getSnapshot;x=x.value;try{if(!Ta(v(),x))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function io(e,t,s,u){t&=~Bf,t&=~$o,e.suspendedLanes|=t,e.pingedLanes&=~t,u&&(e.warmLanes|=t),u=e.expirationTimes;for(var x=t;0<x;){var v=31-It(x),I=1<<v;u[v]=-1,x&=~I}s!==0&&ki(e,s,t)}function Kd(){return(br&6)===0?(Ju(0),!1):!0}function Vf(){if(tr!==null){if(jr===0)var e=tr.return;else e=tr,Bi=Rs=null,Pc(e),$e=null,vt=0,e=tr;for(;e!==null;)Ip(e.alternate,e),e=e.return;tr=null}}function Wc(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,$5(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Al=0,Vf(),Ir=e,tr=s=qn(e.current,null),ar=t,jr=0,gi=null,to=!1,Kc=ai(e,t),Ff=!1,Qc=xi=Bf=$o=ro=pa=0,$n=Ku=null,Pf=!1,(t&8)!==0&&(t|=t&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=t;0<u;){var x=31-It(u),v=1<<x;t|=e[x],u&=~v}return _l=t,Uo(),s}function lg(e,t){Tt=null,W.H=Uu,t===be||t===de?(t=Qe(),jr=3):t===Re?(t=Qe(),jr=4):jr=t===Nf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gi=t,tr===null&&(pa=1,Fd(e,Hn(t,e.current)))}function og(){var e=Vr.current;return e===null?!0:(ar&4194048)===ar?ur===null:(ar&62914560)===ar||(ar&536870912)!==0?e===ur:!1}function cg(){var e=W.H;return W.H=Uu,e===null?Uu:e}function ug(){var e=W.A;return W.A=T5,e}function Qd(){pa=4,to||(ar&4194048)!==ar&&Vr.current!==null||(Kc=!0),(ro&134217727)===0&&($o&134217727)===0||Ir===null||io(Ir,ar,xi,!1)}function Gf(e,t,s){var u=br;br|=2;var x=cg(),v=ug();(Ir!==e||ar!==t)&&(Xd=null,Wc(e,t)),t=!1;var I=pa;e:do try{if(jr!==0&&tr!==null){var J=tr,ge=gi;switch(jr){case 8:Vf(),I=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(t=!0);var Ie=jr;if(jr=0,gi=null,$c(e,J,ge,Ie),s&&Kc){I=0;break e}break;default:Ie=jr,jr=0,gi=null,$c(e,J,ge,Ie)}}M5(),I=pa;break}catch(Ze){lg(e,Ze)}while(!0);return t&&e.shellSuspendCounter++,Bi=Rs=null,br=u,W.H=x,W.A=v,tr===null&&(Ir=null,ar=0,Uo()),I}function M5(){for(;tr!==null;)dg(tr)}function R5(e,t){var s=br;br|=2;var u=cg(),x=ug();Ir!==e||ar!==t?(Xd=null,Zd=et()+500,Wc(e,t)):Kc=ai(e,t);e:do try{if(jr!==0&&tr!==null){t=tr;var v=gi;t:switch(jr){case 1:jr=0,gi=null,$c(e,t,v,1);break;case 2:case 9:if(Te(v)){jr=0,gi=null,hg(t);break}t=function(){jr!==2&&jr!==9||Ir!==e||(jr=7),Vs(e)},v.then(t,t);break e;case 3:jr=7;break e;case 4:jr=5;break e;case 7:Te(v)?(jr=0,gi=null,hg(t)):(jr=0,gi=null,$c(e,t,v,7));break;case 5:var I=null;switch(tr.tag){case 26:I=tr.memoizedState;case 5:case 27:var J=tr;if(I?Jg(I):J.stateNode.complete){jr=0,gi=null;var ge=J.sibling;if(ge!==null)tr=ge;else{var Ie=J.return;Ie!==null?(tr=Ie,Jd(Ie)):tr=null}break t}}jr=0,gi=null,$c(e,t,v,5);break;case 6:jr=0,gi=null,$c(e,t,v,6);break;case 8:Vf(),pa=6;break e;default:throw Error(l(462))}}z5();break}catch(Ze){lg(e,Ze)}while(!0);return Bi=Rs=null,W.H=u,W.A=x,br=s,tr!==null?0:(Ir=null,ar=0,Uo(),pa)}function z5(){for(;tr!==null&&!Ne();)dg(tr)}function dg(e){var t=Rp(e.alternate,e,_l);e.memoizedProps=e.pendingProps,t===null?Jd(e):tr=t}function hg(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Ep(s,t,t.pendingProps,t.type,void 0,ar);break;case 11:t=Ep(s,t,t.pendingProps,t.type.render,t.ref,ar);break;case 5:Pc(t);default:Ip(s,t),t=tr=Vo(t,_l),t=Rp(s,t,_l)}e.memoizedProps=e.pendingProps,t===null?Jd(e):tr=t}function $c(e,t,s,u){Bi=Rs=null,Pc(t),$e=null,vt=0;var x=t.return;try{if(S5(e,x,t,s,ar)){pa=1,Fd(e,Hn(s,e.current)),tr=null;return}}catch(v){if(x!==null)throw tr=x,v;pa=1,Fd(e,Hn(s,e.current)),tr=null;return}t.flags&32768?(er||u===1?e=!0:Kc||(ar&536870912)!==0?e=!1:(to=e=!0,(u===2||u===9||u===3||u===6)&&(u=Vr.current,u!==null&&u.tag===13&&(u.flags|=16384))),fg(t,e)):Jd(t)}function Jd(e){var t=e;do{if((t.flags&32768)!==0){fg(t,to);return}e=t.return;var s=A5(t.alternate,t,_l);if(s!==null){tr=s;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);pa===0&&(pa=5)}function fg(e,t){do{var s=C5(e.alternate,e);if(s!==null){s.flags&=32767,tr=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){tr=e;return}tr=e=s}while(e!==null);pa=6,tr=null}function mg(e,t,s,u,x,v,I,J,ge){e.cancelPendingCommit=null;do Wd();while(Ia!==0);if((br&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(v=t.lanes|t.childLanes,v|=_c,Zi(e,s,v,I,J,ge),e===Ir&&(tr=Ir=null,ar=0),Jc=t,no=e,Al=s,Uf=v,qf=x,ag=u,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,P5(ut,function(){return bg(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,x=ie.p,ie.p=2,I=br,br|=4;try{E5(e,t,s)}finally{br=I,ie.p=x,W.T=u}}Ia=1,pg(),gg(),xg()}}function pg(){if(Ia===1){Ia=0;var e=no,t=Jc,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=W.T,W.T=null;var u=ie.p;ie.p=2;var x=br;br|=4;try{Kp(t,e);var v=a0,I=cs(e.containerInfo),J=v.focusedElem,ge=v.selectionRange;if(I!==J&&J&&J.ownerDocument&&os(J.ownerDocument.documentElement,J)){if(ge!==null&&Ii(J)){var Ie=ge.start,Ze=ge.end;if(Ze===void 0&&(Ze=Ie),"selectionStart"in J)J.selectionStart=Ie,J.selectionEnd=Math.min(Ze,J.value.length);else{var We=J.ownerDocument||document,Fe=We&&We.defaultView||window;if(Fe.getSelection){var qe=Fe.getSelection(),bt=J.textContent.length,Ft=Math.min(ge.start,bt),Or=ge.end===void 0?Ft:Math.min(ge.end,bt);!qe.extend&&Ft>Or&&(I=Or,Or=Ft,Ft=I);var Ee=Hl(J,Ft),we=Hl(J,Or);if(Ee&&we&&(qe.rangeCount!==1||qe.anchorNode!==Ee.node||qe.anchorOffset!==Ee.offset||qe.focusNode!==we.node||qe.focusOffset!==we.offset)){var ze=We.createRange();ze.setStart(Ee.node,Ee.offset),qe.removeAllRanges(),Ft>Or?(qe.addRange(ze),qe.extend(we.node,we.offset)):(ze.setEnd(we.node,we.offset),qe.addRange(ze))}}}}for(We=[],qe=J;qe=qe.parentNode;)qe.nodeType===1&&We.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});for(typeof J.focus=="function"&&J.focus(),J=0;J<We.length;J++){var Je=We[J];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}uh=!!r0,a0=r0=null}finally{br=x,ie.p=u,W.T=s}}e.current=t,Ia=2}}function gg(){if(Ia===2){Ia=0;var e=no,t=Jc,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=W.T,W.T=null;var u=ie.p;ie.p=2;var x=br;br|=4;try{Vp(e,t.alternate,t)}finally{br=x,ie.p=u,W.T=s}}Ia=3}}function xg(){if(Ia===4||Ia===3){Ia=0,Pe();var e=no,t=Jc,s=Al,u=ag;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ia=5:(Ia=0,Jc=no=null,yg(e,e.pendingLanes));var x=e.pendingLanes;if(x===0&&(ao=null),oa(s),t=t.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(St,t,void 0,(t.current.flags&128)===128)}catch{}if(u!==null){t=W.T,x=ie.p,ie.p=2,W.T=null;try{for(var v=e.onRecoverableError,I=0;I<u.length;I++){var J=u[I];v(J.value,{componentStack:J.stack})}}finally{W.T=t,ie.p=x}}(Al&3)!==0&&Wd(),Vs(e),x=e.pendingLanes,(s&261930)!==0&&(x&42)!==0?e===Hf?Qu++:(Qu=0,Hf=e):Qu=0,Ju(0)}}function yg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zo(t)))}function Wd(){return pg(),gg(),xg(),bg()}function bg(){if(Ia!==5)return!1;var e=no,t=Uf;Uf=0;var s=oa(Al),u=W.T,x=ie.p;try{ie.p=32>s?32:s,W.T=null,s=qf,qf=null;var v=no,I=Al;if(Ia=0,Jc=no=null,Al=0,(br&6)!==0)throw Error(l(331));var J=br;if(br|=4,eg(v.current),Jp(v,v.current,I,s),br=J,Ju(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(St,v)}catch{}return!0}finally{ie.p=x,W.T=u,yg(e,t)}}function vg(e,t,s){t=Hn(s,t),t=wf(e.stateNode,t,2),e=Zt(e,t,2),e!==null&&(Lt(e,2),Vs(e))}function Sr(e,t,s){if(e.tag===3)vg(e,e,s);else for(;t!==null;){if(t.tag===3){vg(t,e,s);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ao===null||!ao.has(u))){e=Hn(s,e),s=wp(2),u=Zt(t,s,2),u!==null&&(Np(s,u,t,e),Lt(u,2),Vs(u));break}}t=t.return}}function Yf(e,t,s){var u=e.pingCache;if(u===null){u=e.pingCache=new D5;var x=new Set;u.set(t,x)}else x=u.get(t),x===void 0&&(x=new Set,u.set(t,x));x.has(s)||(Ff=!0,x.add(s),e=I5.bind(null,e,t,s),t.then(e,e))}function I5(e,t,s){var u=e.pingCache;u!==null&&u.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ir===e&&(ar&s)===s&&(pa===4||pa===3&&(ar&62914560)===ar&&300>et()-Yd?(br&2)===0&&Wc(e,0):Bf|=s,Qc===ar&&(Qc=0)),Vs(e)}function wg(e,t){t===0&&(t=Si()),e=ds(e,t),e!==null&&(Lt(e,t),Vs(e))}function F5(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),wg(e,s)}function B5(e,t){var s=0;switch(e.tag){case 31:case 13:var u=e.stateNode,x=e.memoizedState;x!==null&&(s=x.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(l(314))}u!==null&&u.delete(t),wg(e,s)}function P5(e,t){return Oe(e,t)}var $d=null,eu=null,Zf=!1,eh=!1,Xf=!1,so=0;function Vs(e){e!==eu&&e.next===null&&(eu===null?$d=eu=e:eu=eu.next=e),eh=!0,Zf||(Zf=!0,q5())}function Ju(e,t){if(!Xf&&eh){Xf=!0;do for(var s=!1,u=$d;u!==null;){if(e!==0){var x=u.pendingLanes;if(x===0)var v=0;else{var I=u.suspendedLanes,J=u.pingedLanes;v=(1<<31-It(42|e)+1)-1,v&=x&~(I&~J),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(s=!0,kg(u,v))}else v=ar,v=ir(u,u===Ir?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||ai(u,v)||(s=!0,kg(u,v));u=u.next}while(s);Xf=!1}}function U5(){Ng()}function Ng(){eh=Zf=!1;var e=0;so!==0&&W5()&&(e=so);for(var t=et(),s=null,u=$d;u!==null;){var x=u.next,v=jg(u,t);v===0?(u.next=null,s===null?$d=x:s.next=x,x===null&&(eu=s)):(s=u,(e!==0||(v&3)!==0)&&(eh=!0)),u=x}Ia!==0&&Ia!==5||Ju(e),so!==0&&(so=0)}function jg(e,t){for(var s=e.suspendedLanes,u=e.pingedLanes,x=e.expirationTimes,v=e.pendingLanes&-62914561;0<v;){var I=31-It(v),J=1<<I,ge=x[I];ge===-1?((J&s)===0||(J&u)!==0)&&(x[I]=Ua(J,t)):ge<=t&&(e.expiredLanes|=J),v&=~J}if(t=Ir,s=ar,s=ir(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,s===0||e===t&&(jr===2||jr===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Le(u),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ai(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(u!==null&&Le(u),oa(s)){case 2:case 8:s=kt;break;case 32:s=ut;break;case 268435456:s=Ct;break;default:s=ut}return u=Sg.bind(null,e),s=Oe(s,u),e.callbackPriority=t,e.callbackNode=s,t}return u!==null&&u!==null&&Le(u),e.callbackPriority=2,e.callbackNode=null,2}function Sg(e,t){if(Ia!==0&&Ia!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Wd()&&e.callbackNode!==s)return null;var u=ar;return u=ir(e,e===Ir?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(ig(e,u,t),jg(e,et()),e.callbackNode!=null&&e.callbackNode===s?Sg.bind(null,e):null)}function kg(e,t){if(Wd())return null;ig(e,t,!0)}function q5(){eb(function(){(br&6)!==0?Oe(it,U5):Ng()})}function Kf(){if(so===0){var e=m;e===0&&(e=Ar,Ar<<=1,(Ar&261888)===0&&(Ar=256)),so=e}return so}function _g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ci(""+e)}function Ag(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function H5(e,t,s,u,x){if(t==="submit"&&s&&s.stateNode===x){var v=_g((x[Pr]||null).action),I=u.submitter;I&&(t=(t=I[Pr]||null)?_g(t.formAction):I.getAttribute("formAction"),t!==null&&(v=t,I=null));var J=new Ei("action","action",null,u,x);e.push({event:J,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(so!==0){var ge=I?Ag(x,I):new FormData(x);pf(s,{pending:!0,data:ge,method:x.method,action:v},null,ge)}}else typeof v=="function"&&(J.preventDefault(),ge=I?Ag(x,I):new FormData(x),pf(s,{pending:!0,data:ge,method:x.method,action:v},v,ge))},currentTarget:x}]})}}for(var Qf=0;Qf<hl.length;Qf++){var Jf=hl[Qf],V5=Jf.toLowerCase(),G5=Jf[0].toUpperCase()+Jf.slice(1);Un(V5,"on"+G5)}Un(dl,"onAnimationEnd"),Un(Bo,"onAnimationIteration"),Un(_u,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(kd,"onTransitionRun"),Un(_d,"onTransitionStart"),Un(Ad,"onTransitionCancel"),Un(Au,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wu));function Cg(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],x=u.event;u=u.listeners;e:{var v=void 0;if(t)for(var I=u.length-1;0<=I;I--){var J=u[I],ge=J.instance,Ie=J.currentTarget;if(J=J.listener,ge!==v&&x.isPropagationStopped())break e;v=J,x.currentTarget=Ie;try{v(x)}catch(Ze){Po(Ze)}x.currentTarget=null,v=ge}else for(I=0;I<u.length;I++){if(J=u[I],ge=J.instance,Ie=J.currentTarget,J=J.listener,ge!==v&&x.isPropagationStopped())break e;v=J,x.currentTarget=Ie;try{v(x)}catch(Ze){Po(Ze)}x.currentTarget=null,v=ge}}}}function rr(e,t){var s=t[jn];s===void 0&&(s=t[jn]=new Set);var u=e+"__bubble";s.has(u)||(Eg(t,e,2,!1),s.add(u))}function Wf(e,t,s){var u=0;t&&(u|=4),Eg(s,e,u,t)}var th="_reactListening"+Math.random().toString(36).slice(2);function $f(e){if(!e[th]){e[th]=!0,jo.forEach(function(s){s!=="selectionchange"&&(Y5.has(s)||Wf(s,!1,e),Wf(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[th]||(t[th]=!0,Wf("selectionchange",!1,t))}}function Eg(e,t,s,u){switch(n1(t)){case 2:var x=vb;break;case 8:x=wb;break;default:x=m0}s=x.bind(null,t,s,e),x=void 0,!zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(x=!0),u?x!==void 0?e.addEventListener(t,s,{capture:!0,passive:x}):e.addEventListener(t,s,!0):x!==void 0?e.addEventListener(t,s,{passive:x}):e.addEventListener(t,s,!1)}function e0(e,t,s,u,x){var v=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var I=u.tag;if(I===3||I===4){var J=u.stateNode.containerInfo;if(J===x)break;if(I===4)for(I=u.return;I!==null;){var ge=I.tag;if((ge===3||ge===4)&&I.stateNode.containerInfo===x)return;I=I.return}for(;J!==null;){if(I=si(J),I===null)return;if(ge=I.tag,ge===5||ge===6||ge===26||ge===27){u=v=I;continue e}J=J.parentNode}}u=u.return}vc(function(){var Ie=v,Ze=rl(s),We=[];e:{var Fe=Cu.get(e);if(Fe!==void 0){var qe=Ei,bt=e;switch(e){case"keypress":if($i(s)===0)break e;case"keydown":case"keyup":qe=hr;break;case"focusin":bt="focus",qe=as;break;case"focusout":bt="blur",qe=as;break;case"beforeblur":case"afterblur":qe=as;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=xa;break;case dl:case Bo:case _u:qe=_;break;case Au:qe=Ea;break;case"scroll":case"scrollend":qe=zl;break;case"wheel":qe=un;break;case"copy":case"cut":case"paste":qe=me;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=aa;break;case"toggle":case"beforetoggle":qe=Il}var Ft=(t&4)!==0,Or=!Ft&&(e==="scroll"||e==="scrollend"),Ee=Ft?Fe!==null?Fe+"Capture":null:Fe;Ft=[];for(var we=Ie,ze;we!==null;){var Je=we;if(ze=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||ze===null||Ee===null||(Je=_n(we,Ee),Je!=null&&Ft.push($u(we,Je,ze))),Or)break;we=we.return}0<Ft.length&&(Fe=new qe(Fe,bt,null,s,Ze),We.push({event:Fe,listeners:Ft}))}}if((t&7)===0){e:{if(Fe=e==="mouseover"||e==="pointerover",qe=e==="mouseout"||e==="pointerout",Fe&&s!==Wi&&(bt=s.relatedTarget||s.fromElement)&&(si(bt)||bt[qa]))break e;if((qe||Fe)&&(Fe=Ze.window===Ze?Ze:(Fe=Ze.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,qe?(bt=s.relatedTarget||s.toElement,qe=Ie,bt=bt?si(bt):null,bt!==null&&(Or=o(bt),Ft=bt.tag,bt!==Or||Ft!==5&&Ft!==27&&Ft!==6)&&(bt=null)):(qe=null,bt=Ie),qe!==bt)){if(Ft=Li,Je="onMouseLeave",Ee="onMouseEnter",we="mouse",(e==="pointerout"||e==="pointerover")&&(Ft=aa,Je="onPointerLeave",Ee="onPointerEnter",we="pointer"),Or=qe==null?Fe:el(qe),ze=bt==null?Fe:el(bt),Fe=new Ft(Je,we+"leave",qe,s,Ze),Fe.target=Or,Fe.relatedTarget=ze,Je=null,si(Ze)===Ie&&(Ft=new Ft(Ee,we+"enter",bt,s,Ze),Ft.target=ze,Ft.relatedTarget=Or,Je=Ft),Or=Je,qe&&bt)t:{for(Ft=Z5,Ee=qe,we=bt,ze=0,Je=Ee;Je;Je=Ft(Je))ze++;Je=0;for(var Mt=we;Mt;Mt=Ft(Mt))Je++;for(;0<ze-Je;)Ee=Ft(Ee),ze--;for(;0<Je-ze;)we=Ft(we),Je--;for(;ze--;){if(Ee===we||we!==null&&Ee===we.alternate){Ft=Ee;break t}Ee=Ft(Ee),we=Ft(we)}Ft=null}else Ft=null;qe!==null&&Lg(We,Fe,qe,Ft,!1),bt!==null&&Or!==null&&Lg(We,Or,bt,Ft,!0)}}e:{if(Fe=Ie?el(Ie):window,qe=Fe.nodeName&&Fe.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Fe.type==="file")var pr=Ts;else if(Io(Fe))if(dn)pr=Ri;else{pr=na;var jt=Ul}else qe=Fe.nodeName,!qe||qe.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?Ie&&Oo(Ie.elementType)&&(pr=Ts):pr=kc;if(pr&&(pr=pr(e,Ie))){En(We,pr,s,Ze);break e}jt&&jt(e,Fe,Ie),e==="focusout"&&Ie&&Fe.type==="number"&&Ie.memoizedProps.value!=null&&Eo(Fe,"number",Fe.value)}switch(jt=Ie?el(Ie):window,e){case"focusin":(Io(jt)||jt.contentEditable==="true")&&(Ln=jt,us=Ie,Va=null);break;case"focusout":Va=us=Ln=null;break;case"mousedown":Pn=!0;break;case"contextmenu":case"mouseup":case"dragend":Pn=!1,fr(We,s,Ze);break;case"selectionchange":if(ul)break;case"keydown":case"keyup":fr(We,s,Ze)}var Xt;if(Ti)e:{switch(e){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else Di?Ls(e,s)&&(nr="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(nr="onCompositionStart");nr&&(Cs&&s.locale!=="ko"&&(Di||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&Di&&(Xt=il()):(An=Ze,nl="value"in An?An.value:An.textContent,Di=!0)),jt=rh(Ie,nr),0<jt.length&&(nr=new Ce(nr,e,null,s,Ze),We.push({event:nr,listeners:jt}),Xt?nr.data=Xt:(Xt=Fl(s),Xt!==null&&(nr.data=Xt)))),(Xt=cl?Kr(e,s):ns(e,s))&&(nr=rh(Ie,"onBeforeInput"),0<nr.length&&(jt=new Ce("onBeforeInput","beforeinput",null,s,Ze),We.push({event:jt,listeners:nr}),jt.data=Xt)),H5(We,e,Ie,s,Ze)}Cg(We,t)})}function $u(e,t,s){return{instance:e,listener:t,currentTarget:s}}function rh(e,t){for(var s=t+"Capture",u=[];e!==null;){var x=e,v=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||v===null||(x=_n(e,s),x!=null&&u.unshift($u(e,x,v)),x=_n(e,t),x!=null&&u.push($u(e,x,v))),e.tag===3)return u;e=e.return}return[]}function Z5(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lg(e,t,s,u,x){for(var v=t._reactName,I=[];s!==null&&s!==u;){var J=s,ge=J.alternate,Ie=J.stateNode;if(J=J.tag,ge!==null&&ge===u)break;J!==5&&J!==26&&J!==27||Ie===null||(ge=Ie,x?(Ie=_n(s,v),Ie!=null&&I.unshift($u(s,Ie,ge))):x||(Ie=_n(s,v),Ie!=null&&I.push($u(s,Ie,ge)))),s=s.return}I.length!==0&&e.push({event:t,listeners:I})}var X5=/\r\n?/g,K5=/\u0000|\uFFFD/g;function Tg(e){return(typeof e=="string"?e:""+e).replace(X5,`
`).replace(K5,"")}function Dg(e,t){return t=Tg(t),Tg(e)===t}function Dr(e,t,s,u,x,v){switch(s){case"children":typeof u=="string"?t==="body"||t==="textarea"&&u===""||kn(e,u):(typeof u=="number"||typeof u=="bigint")&&t!=="body"&&kn(e,""+u);break;case"className":Ol(e,"class",u);break;case"tabIndex":Ol(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(e,s,u);break;case"style":yc(e,u,v);break;case"data":if(t!=="object"){Ol(e,"data",u);break}case"src":case"href":if(u===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=ci(""+u),e.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(s==="formAction"?(t!=="input"&&Dr(e,t,"name",x.name,x,null),Dr(e,t,"formEncType",x.formEncType,x,null),Dr(e,t,"formMethod",x.formMethod,x,null),Dr(e,t,"formTarget",x.formTarget,x,null)):(Dr(e,t,"encType",x.encType,x,null),Dr(e,t,"method",x.method,x,null),Dr(e,t,"target",x.target,x,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=ci(""+u),e.setAttribute(s,u);break;case"onClick":u!=null&&(e.onclick=ui);break;case"onScroll":u!=null&&rr("scroll",e);break;case"onScrollEnd":u!=null&&rr("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(x.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}s=ci(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""+u):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":u===!0?e.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,u):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(s,u):e.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(s):e.setAttribute(s,u);break;case"popover":rr("beforetoggle",e),rr("toggle",e),Ki(e,"popover",u);break;case"xlinkActuate":vr(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":vr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":vr(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":vr(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":vr(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":vr(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":vr(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":vr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":vr(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ki(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Mo.get(s)||s,Ki(e,s,u))}}function t0(e,t,s,u,x,v){switch(s){case"style":yc(e,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(l(61));if(s=u.__html,s!=null){if(x.children!=null)throw Error(l(60));e.innerHTML=s}}break;case"children":typeof u=="string"?kn(e,u):(typeof u=="number"||typeof u=="bigint")&&kn(e,""+u);break;case"onScroll":u!=null&&rr("scroll",e);break;case"onScrollEnd":u!=null&&rr("scrollend",e);break;case"onClick":u!=null&&(e.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sn.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(x=s.endsWith("Capture"),t=s.slice(2,x?s.length-7:void 0),v=e[Pr]||null,v=v!=null?v[s]:null,typeof v=="function"&&e.removeEventListener(t,v,x),typeof u=="function")){typeof v!="function"&&v!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,u,x);break e}s in e?e[s]=u:u===!0?e.setAttribute(s,""):Ki(e,s,u)}}}function sn(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rr("error",e),rr("load",e);var u=!1,x=!1,v;for(v in s)if(s.hasOwnProperty(v)){var I=s[v];if(I!=null)switch(v){case"src":u=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Dr(e,t,v,I,s,null)}}x&&Dr(e,t,"srcSet",s.srcSet,s,null),u&&Dr(e,t,"src",s.src,s,null);return;case"input":rr("invalid",e);var J=v=I=x=null,ge=null,Ie=null;for(u in s)if(s.hasOwnProperty(u)){var Ze=s[u];if(Ze!=null)switch(u){case"name":x=Ze;break;case"type":I=Ze;break;case"checked":ge=Ze;break;case"defaultChecked":Ie=Ze;break;case"value":v=Ze;break;case"defaultValue":J=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(l(137,t));break;default:Dr(e,t,u,Ze,s,null)}}gc(e,v,J,ge,Ie,I,x,!1);return;case"select":rr("invalid",e),u=I=v=null;for(x in s)if(s.hasOwnProperty(x)&&(J=s[x],J!=null))switch(x){case"value":v=J;break;case"defaultValue":I=J;break;case"multiple":u=J;default:Dr(e,t,x,J,s,null)}t=v,s=I,e.multiple=!!u,t!=null?en(e,!!u,t,!1):s!=null&&en(e,!!u,s,!0);return;case"textarea":rr("invalid",e),v=x=u=null;for(I in s)if(s.hasOwnProperty(I)&&(J=s[I],J!=null))switch(I){case"value":u=J;break;case"defaultValue":x=J;break;case"children":v=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(l(91));break;default:Dr(e,t,I,J,s,null)}To(e,u,x,v);return;case"option":for(ge in s)if(s.hasOwnProperty(ge)&&(u=s[ge],u!=null))switch(ge){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Dr(e,t,ge,u,s,null)}return;case"dialog":rr("beforetoggle",e),rr("toggle",e),rr("cancel",e),rr("close",e);break;case"iframe":case"object":rr("load",e);break;case"video":case"audio":for(u=0;u<Wu.length;u++)rr(Wu[u],e);break;case"image":rr("error",e),rr("load",e);break;case"details":rr("toggle",e);break;case"embed":case"source":case"link":rr("error",e),rr("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in s)if(s.hasOwnProperty(Ie)&&(u=s[Ie],u!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Dr(e,t,Ie,u,s,null)}return;default:if(Oo(t)){for(Ze in s)s.hasOwnProperty(Ze)&&(u=s[Ze],u!==void 0&&t0(e,t,Ze,u,s,void 0));return}}for(J in s)s.hasOwnProperty(J)&&(u=s[J],u!=null&&Dr(e,t,J,u,s,null))}function Q5(e,t,s,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,v=null,I=null,J=null,ge=null,Ie=null,Ze=null;for(qe in s){var We=s[qe];if(s.hasOwnProperty(qe)&&We!=null)switch(qe){case"checked":break;case"value":break;case"defaultValue":ge=We;default:u.hasOwnProperty(qe)||Dr(e,t,qe,null,u,We)}}for(var Fe in u){var qe=u[Fe];if(We=s[Fe],u.hasOwnProperty(Fe)&&(qe!=null||We!=null))switch(Fe){case"type":v=qe;break;case"name":x=qe;break;case"checked":Ie=qe;break;case"defaultChecked":Ze=qe;break;case"value":I=qe;break;case"defaultValue":J=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(l(137,t));break;default:qe!==We&&Dr(e,t,Fe,qe,u,We)}}Co(e,I,J,ge,Ie,Ze,v,x);return;case"select":qe=I=J=Fe=null;for(v in s)if(ge=s[v],s.hasOwnProperty(v)&&ge!=null)switch(v){case"value":break;case"multiple":qe=ge;default:u.hasOwnProperty(v)||Dr(e,t,v,null,u,ge)}for(x in u)if(v=u[x],ge=s[x],u.hasOwnProperty(x)&&(v!=null||ge!=null))switch(x){case"value":Fe=v;break;case"defaultValue":J=v;break;case"multiple":I=v;default:v!==ge&&Dr(e,t,x,v,u,ge)}t=J,s=I,u=qe,Fe!=null?en(e,!!s,Fe,!1):!!u!=!!s&&(t!=null?en(e,!!s,t,!0):en(e,!!s,s?[]:"",!1));return;case"textarea":qe=Fe=null;for(J in s)if(x=s[J],s.hasOwnProperty(J)&&x!=null&&!u.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Dr(e,t,J,null,u,x)}for(I in u)if(x=u[I],v=s[I],u.hasOwnProperty(I)&&(x!=null||v!=null))switch(I){case"value":Fe=x;break;case"defaultValue":qe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(l(91));break;default:x!==v&&Dr(e,t,I,x,u,v)}Lo(e,Fe,qe);return;case"option":for(var bt in s)if(Fe=s[bt],s.hasOwnProperty(bt)&&Fe!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Dr(e,t,bt,null,u,Fe)}for(ge in u)if(Fe=u[ge],qe=s[ge],u.hasOwnProperty(ge)&&Fe!==qe&&(Fe!=null||qe!=null))switch(ge){case"selected":e.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:Dr(e,t,ge,Fe,u,qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in s)Fe=s[Ft],s.hasOwnProperty(Ft)&&Fe!=null&&!u.hasOwnProperty(Ft)&&Dr(e,t,Ft,null,u,Fe);for(Ie in u)if(Fe=u[Ie],qe=s[Ie],u.hasOwnProperty(Ie)&&Fe!==qe&&(Fe!=null||qe!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(l(137,t));break;default:Dr(e,t,Ie,Fe,u,qe)}return;default:if(Oo(t)){for(var Or in s)Fe=s[Or],s.hasOwnProperty(Or)&&Fe!==void 0&&!u.hasOwnProperty(Or)&&t0(e,t,Or,void 0,u,Fe);for(Ze in u)Fe=u[Ze],qe=s[Ze],!u.hasOwnProperty(Ze)||Fe===qe||Fe===void 0&&qe===void 0||t0(e,t,Ze,Fe,u,qe);return}}for(var Ee in s)Fe=s[Ee],s.hasOwnProperty(Ee)&&Fe!=null&&!u.hasOwnProperty(Ee)&&Dr(e,t,Ee,null,u,Fe);for(We in u)Fe=u[We],qe=s[We],!u.hasOwnProperty(We)||Fe===qe||Fe==null&&qe==null||Dr(e,t,We,Fe,u,qe)}function Og(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J5(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var x=s[u],v=x.transferSize,I=x.initiatorType,J=x.duration;if(v&&J&&Og(I)){for(I=0,J=x.responseEnd,u+=1;u<s.length;u++){var ge=s[u],Ie=ge.startTime;if(Ie>J)break;var Ze=ge.transferSize,We=ge.initiatorType;Ze&&Og(We)&&(ge=ge.responseEnd,I+=Ze*(ge<J?1:(J-Ie)/(ge-Ie)))}if(--u,t+=8*(v+I)/(x.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var r0=null,a0=null;function ah(e){return e.nodeType===9?e:e.ownerDocument}function Mg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function n0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var i0=null;function W5(){var e=window.event;return e&&e.type==="popstate"?e===i0?!1:(i0=e,!0):(i0=null,!1)}var zg=typeof setTimeout=="function"?setTimeout:void 0,$5=typeof clearTimeout=="function"?clearTimeout:void 0,Ig=typeof Promise=="function"?Promise:void 0,eb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ig<"u"?function(e){return Ig.resolve(null).then(e).catch(tb)}:zg;function tb(e){setTimeout(function(){throw e})}function lo(e){return e==="head"}function Fg(e,t){var s=t,u=0;do{var x=s.nextSibling;if(e.removeChild(s),x&&x.nodeType===8)if(s=x.data,s==="/$"||s==="/&"){if(u===0){e.removeChild(x),nu(t);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")ed(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ed(s);for(var v=s.firstChild;v;){var I=v.nextSibling,J=v.nodeName;v[ii]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=I}}else s==="body"&&ed(e.ownerDocument.body);s=x}while(s);nu(t)}function Bg(e,t){var s=e;e=0;do{var u=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=u}while(s)}function s0(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":s0(s),ks(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function rb(e,t,s,u){for(;e.nodeType===1;){var x=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[ii])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(v=e.getAttribute("rel"),v==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(v!==x.rel||e.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||e.getAttribute("title")!==(x.title==null?null:x.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(v=e.getAttribute("src"),(v!==(x.src==null?null:x.src)||e.getAttribute("type")!==(x.type==null?null:x.type)||e.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&v&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var v=x.name==null?null:""+x.name;if(x.type==="hidden"&&e.getAttribute("name")===v)return e}else return e;if(e=qi(e.nextSibling),e===null)break}return null}function ab(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qi(e.nextSibling),e===null))return null;return e}function Pg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qi(e.nextSibling),e===null))return null;return e}function l0(e){return e.data==="$?"||e.data==="$~"}function o0(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nb(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var u=function(){t(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function qi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var c0=null;function Ug(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return qi(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function Hg(e,t,s){switch(t=ah(s),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ed(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ks(e)}var Hi=new Map,Vg=new Set;function nh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cl=ie.d;ie.d={f:ib,r:sb,D:lb,C:ob,L:cb,m:ub,X:hb,S:db,M:fb};function ib(){var e=Cl.f(),t=Kd();return e||t}function sb(e){var t=li(e);t!==null&&t.tag===5&&t.type==="form"?lp(t):Cl.r(e)}var tu=typeof document>"u"?null:document;function Gg(e,t,s){var u=tu;if(u&&typeof t=="string"&&t){var x=Ha(t);x='link[rel="'+e+'"][href="'+x+'"]',typeof s=="string"&&(x+='[crossorigin="'+s+'"]'),Vg.has(x)||(Vg.add(x),e={rel:e,crossOrigin:s,href:t},u.querySelector(x)===null&&(t=u.createElement("link"),sn(t,"link",e),ta(t),u.head.appendChild(t)))}}function lb(e){Cl.D(e),Gg("dns-prefetch",e,null)}function ob(e,t){Cl.C(e,t),Gg("preconnect",e,t)}function cb(e,t,s){Cl.L(e,t,s);var u=tu;if(u&&e&&t){var x='link[rel="preload"][as="'+Ha(t)+'"]';t==="image"&&s&&s.imageSrcSet?(x+='[imagesrcset="'+Ha(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(x+='[imagesizes="'+Ha(s.imageSizes)+'"]')):x+='[href="'+Ha(e)+'"]';var v=x;switch(t){case"style":v=ru(e);break;case"script":v=au(e)}Hi.has(v)||(e=N({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),Hi.set(v,e),u.querySelector(x)!==null||t==="style"&&u.querySelector(td(v))||t==="script"&&u.querySelector(rd(v))||(t=u.createElement("link"),sn(t,"link",e),ta(t),u.head.appendChild(t)))}}function ub(e,t){Cl.m(e,t);var s=tu;if(s&&e){var u=t&&typeof t.as=="string"?t.as:"script",x='link[rel="modulepreload"][as="'+Ha(u)+'"][href="'+Ha(e)+'"]',v=x;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=au(e)}if(!Hi.has(v)&&(e=N({rel:"modulepreload",href:e},t),Hi.set(v,e),s.querySelector(x)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(rd(v)))return}u=s.createElement("link"),sn(u,"link",e),ta(u),s.head.appendChild(u)}}}function db(e,t,s){Cl.S(e,t,s);var u=tu;if(u&&e){var x=_i(u).hoistableStyles,v=ru(e);t=t||"default";var I=x.get(v);if(!I){var J={loading:0,preload:null};if(I=u.querySelector(td(v)))J.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},s),(s=Hi.get(v))&&u0(e,s);var ge=I=u.createElement("link");ta(ge),sn(ge,"link",e),ge._p=new Promise(function(Ie,Ze){ge.onload=Ie,ge.onerror=Ze}),ge.addEventListener("load",function(){J.loading|=1}),ge.addEventListener("error",function(){J.loading|=2}),J.loading|=4,ih(I,t,u)}I={type:"stylesheet",instance:I,count:1,state:J},x.set(v,I)}}}function hb(e,t){Cl.X(e,t);var s=tu;if(s&&e){var u=_i(s).hoistableScripts,x=au(e),v=u.get(x);v||(v=s.querySelector(rd(x)),v||(e=N({src:e,async:!0},t),(t=Hi.get(x))&&d0(e,t),v=s.createElement("script"),ta(v),sn(v,"link",e),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(x,v))}}function fb(e,t){Cl.M(e,t);var s=tu;if(s&&e){var u=_i(s).hoistableScripts,x=au(e),v=u.get(x);v||(v=s.querySelector(rd(x)),v||(e=N({src:e,async:!0,type:"module"},t),(t=Hi.get(x))&&d0(e,t),v=s.createElement("script"),ta(v),sn(v,"link",e),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(x,v))}}function Yg(e,t,s,u){var x=(x=ye.current)?nh(x):null;if(!x)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=ru(s.href),s=_i(x).hoistableStyles,u=s.get(t),u||(u={type:"style",instance:null,count:0,state:null},s.set(t,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ru(s.href);var v=_i(x).hoistableStyles,I=v.get(e);if(I||(x=x.ownerDocument||x,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(e,I),(v=x.querySelector(td(e)))&&!v._p&&(I.instance=v,I.state.loading=5),Hi.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hi.set(e,s),v||mb(x,e,s,I.state))),t&&u===null)throw Error(l(528,""));return I}if(t&&u!==null)throw Error(l(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=au(s),s=_i(x).hoistableScripts,u=s.get(t),u||(u={type:"script",instance:null,count:0,state:null},s.set(t,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ru(e){return'href="'+Ha(e)+'"'}function td(e){return'link[rel="stylesheet"]['+e+"]"}function Zg(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function mb(e,t,s,u){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?u.loading=1:(t=e.createElement("link"),u.preload=t,t.addEventListener("load",function(){return u.loading|=1}),t.addEventListener("error",function(){return u.loading|=2}),sn(t,"link",s),ta(t),e.head.appendChild(t))}function au(e){return'[src="'+Ha(e)+'"]'}function rd(e){return"script[async]"+e}function Xg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var u=e.querySelector('style[data-href~="'+Ha(s.href)+'"]');if(u)return t.instance=u,ta(u),u;var x=N({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),ta(u),sn(u,"style",x),ih(u,s.precedence,e),t.instance=u;case"stylesheet":x=ru(s.href);var v=e.querySelector(td(x));if(v)return t.state.loading|=4,t.instance=v,ta(v),v;u=Zg(s),(x=Hi.get(x))&&u0(u,x),v=(e.ownerDocument||e).createElement("link"),ta(v);var I=v;return I._p=new Promise(function(J,ge){I.onload=J,I.onerror=ge}),sn(v,"link",u),t.state.loading|=4,ih(v,s.precedence,e),t.instance=v;case"script":return v=au(s.src),(x=e.querySelector(rd(v)))?(t.instance=x,ta(x),x):(u=s,(x=Hi.get(v))&&(u=N({},s),d0(u,x)),e=e.ownerDocument||e,x=e.createElement("script"),ta(x),sn(x,"link",u),e.head.appendChild(x),t.instance=x);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(u=t.instance,t.state.loading|=4,ih(u,s.precedence,e));return t.instance}function ih(e,t,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=u.length?u[u.length-1]:null,v=x,I=0;I<u.length;I++){var J=u[I];if(J.dataset.precedence===t)v=J;else if(v!==x)break}v?v.parentNode.insertBefore(e,v.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function u0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function d0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var sh=null;function Kg(e,t,s){if(sh===null){var u=new Map,x=sh=new Map;x.set(s,u)}else x=sh,u=x.get(s),u||(u=new Map,x.set(s,u));if(u.has(e))return u;for(u.set(e,null),s=s.getElementsByTagName(e),x=0;x<s.length;x++){var v=s[x];if(!(v[ii]||v[wr]||e==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var I=v.getAttribute(t)||"";I=e+I;var J=u.get(I);J?J.push(v):u.set(I,[v])}}return u}function Qg(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function pb(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gb(e,t,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var x=ru(u.href),v=t.querySelector(td(x));if(v){t=v._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=lh.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=v,ta(v);return}v=t.ownerDocument||t,u=Zg(u),(x=Hi.get(x))&&u0(u,x),v=v.createElement("link"),ta(v);var I=v;I._p=new Promise(function(J,ge){I.onload=J,I.onerror=ge}),sn(v,"link",u),s.instance=v}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=lh.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var h0=0;function xb(e,t){return e.stylesheets&&e.count===0&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var u=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var v=e.unsuspend;e.unsuspend=null,v()}},6e4+t);0<e.imgBytes&&h0===0&&(h0=62500*J5());var x=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var v=e.unsuspend;e.unsuspend=null,v()}},(e.imgBytes>h0?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(x)}}:null}function lh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oh=null;function ch(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oh=new Map,t.forEach(yb,e),oh=null,lh.call(e))}function yb(e,t){if(!(t.state.loading&4)){var s=oh.get(e);if(s)var u=s.get(null);else{s=new Map,oh.set(e,s);for(var x=e.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<x.length;v++){var I=x[v];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(s.set(I.dataset.precedence,I),u=I)}u&&s.set(null,u)}x=t.instance,I=x.getAttribute("data-precedence"),v=s.get(I)||u,v===u&&s.set(null,x),s.set(I,x),this.count++,u=lh.bind(this),x.addEventListener("load",u),x.addEventListener("error",u),v?v.parentNode.insertBefore(x,v.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(x,e.firstChild)),t.state.loading|=4}}var ad={$$typeof:T,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function bb(e,t,s,u,x,v,I,J,ge){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zn(0),this.hiddenUpdates=zn(null),this.identifierPrefix=u,this.onUncaughtError=x,this.onCaughtError=v,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function Wg(e,t,s,u,x,v,I,J,ge,Ie,Ze,We){return e=new bb(e,t,s,I,ge,Ie,Ze,We,J),t=1,v===!0&&(t|=24),v=Ya(3,null,null,t),e.current=v,v.stateNode=e,t=Kl(),t.refCount++,e.pooledCache=t,t.refCount++,v.memoizedState={element:u,isDehydrated:s,cache:t},ct(v),e}function $g(e){return e?(e=Da,e):Da}function e1(e,t,s,u,x,v){x=$g(x),u.context===null?u.context=x:u.pendingContext=x,u=zt(t),u.payload={element:s},v=v===void 0?null:v,v!==null&&(u.callback=v),s=Zt(e,u,t),s!==null&&(ei(s,e,t),xr(s,e,t))}function t1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function f0(e,t){t1(e,t),(e=e.alternate)&&t1(e,t)}function r1(e){if(e.tag===13||e.tag===31){var t=ds(e,67108864);t!==null&&ei(t,e,67108864),f0(e,67108864)}}function a1(e){if(e.tag===13||e.tag===31){var t=yi();t=Br(t);var s=ds(e,t);s!==null&&ei(s,e,t),f0(e,t)}}var uh=!0;function vb(e,t,s,u){var x=W.T;W.T=null;var v=ie.p;try{ie.p=2,m0(e,t,s,u)}finally{ie.p=v,W.T=x}}function wb(e,t,s,u){var x=W.T;W.T=null;var v=ie.p;try{ie.p=8,m0(e,t,s,u)}finally{ie.p=v,W.T=x}}function m0(e,t,s,u){if(uh){var x=p0(u);if(x===null)e0(e,t,u,dh,s),i1(e,u);else if(jb(x,e,t,s,u))u.stopPropagation();else if(i1(e,u),t&4&&-1<Nb.indexOf(e)){for(;x!==null;){var v=li(x);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var I=_t(v.pendingLanes);if(I!==0){var J=v;for(J.pendingLanes|=2,J.entangledLanes|=2;I;){var ge=1<<31-It(I);J.entanglements[1]|=ge,I&=~ge}Vs(v),(br&6)===0&&(Zd=et()+500,Ju(0))}}break;case 31:case 13:J=ds(v,2),J!==null&&ei(J,v,2),Kd(),f0(v,2)}if(v=p0(u),v===null&&e0(e,t,u,dh,s),v===x)break;x=v}x!==null&&u.stopPropagation()}else e0(e,t,u,null,s)}}function p0(e){return e=rl(e),g0(e)}var dh=null;function g0(e){if(dh=null,e=si(e),e!==null){var t=o(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=h(t),e!==null)return e;e=null}else if(s===31){if(e=d(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dh=e,null}function n1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case it:return 2;case kt:return 8;case ut:case ht:return 32;case Ct:return 268435456;default:return 32}default:return 32}}var x0=!1,oo=null,co=null,uo=null,nd=new Map,id=new Map,ho=[],Nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function i1(e,t){switch(e){case"focusin":case"focusout":oo=null;break;case"dragenter":case"dragleave":co=null;break;case"mouseover":case"mouseout":uo=null;break;case"pointerover":case"pointerout":nd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(t.pointerId)}}function sd(e,t,s,u,x,v){return e===null||e.nativeEvent!==v?(e={blockedOn:t,domEventName:s,eventSystemFlags:u,nativeEvent:v,targetContainers:[x]},t!==null&&(t=li(t),t!==null&&r1(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,x!==null&&t.indexOf(x)===-1&&t.push(x),e)}function jb(e,t,s,u,x){switch(t){case"focusin":return oo=sd(oo,e,t,s,u,x),!0;case"dragenter":return co=sd(co,e,t,s,u,x),!0;case"mouseover":return uo=sd(uo,e,t,s,u,x),!0;case"pointerover":var v=x.pointerId;return nd.set(v,sd(nd.get(v)||null,e,t,s,u,x)),!0;case"gotpointercapture":return v=x.pointerId,id.set(v,sd(id.get(v)||null,e,t,s,u,x)),!0}return!1}function s1(e){var t=si(e.target);if(t!==null){var s=o(t);if(s!==null){if(t=s.tag,t===13){if(t=h(s),t!==null){e.blockedOn=t,Ss(e.priority,function(){a1(s)});return}}else if(t===31){if(t=d(s),t!==null){e.blockedOn=t,Ss(e.priority,function(){a1(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=p0(e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);Wi=u,s.target.dispatchEvent(u),Wi=null}else return t=li(s),t!==null&&r1(t),e.blockedOn=s,!1;t.shift()}return!0}function l1(e,t,s){hh(e)&&s.delete(t)}function Sb(){x0=!1,oo!==null&&hh(oo)&&(oo=null),co!==null&&hh(co)&&(co=null),uo!==null&&hh(uo)&&(uo=null),nd.forEach(l1),id.forEach(l1)}function fh(e,t){e.blockedOn===t&&(e.blockedOn=null,x0||(x0=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Sb)))}var mh=null;function o1(e){mh!==e&&(mh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){mh===e&&(mh=null);for(var t=0;t<e.length;t+=3){var s=e[t],u=e[t+1],x=e[t+2];if(typeof u!="function"){if(g0(u||s)===null)continue;break}var v=li(s);v!==null&&(e.splice(t,3),t-=3,pf(v,{pending:!0,data:x,method:s.method,action:u},u,x))}}))}function nu(e){function t(ge){return fh(ge,e)}oo!==null&&fh(oo,e),co!==null&&fh(co,e),uo!==null&&fh(uo,e),nd.forEach(t),id.forEach(t);for(var s=0;s<ho.length;s++){var u=ho[s];u.blockedOn===e&&(u.blockedOn=null)}for(;0<ho.length&&(s=ho[0],s.blockedOn===null);)s1(s),s.blockedOn===null&&ho.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var x=s[u],v=s[u+1],I=x[Pr]||null;if(typeof v=="function")I||o1(s);else if(I){var J=null;if(v&&v.hasAttribute("formAction")){if(x=v,I=v[Pr]||null)J=I.formAction;else if(g0(x)!==null)continue}else J=I.action;typeof J=="function"?s[u+1]=J:(s.splice(u,3),u-=3),o1(s)}}}function c1(){function e(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(I){return x=I})},focusReset:"manual",scroll:"manual"})}function t(){x!==null&&(x(),x=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,x=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),x!==null&&(x(),x=null)}}}function y0(e){this._internalRoot=e}ph.prototype.render=y0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var s=t.current,u=yi();e1(s,u,e,t,null,null)},ph.prototype.unmount=y0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e1(e.current,2,null,e,null,null),Kd(),t[qa]=null}};function ph(e){this._internalRoot=e}ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=ja();e={blockedOn:null,target:e,priority:t};for(var s=0;s<ho.length&&t!==0&&t<ho[s].priority;s++);ho.splice(s,0,e),s===0&&s1(e)}};var u1=a.version;if(u1!=="19.2.0")throw Error(l(527,u1,"19.2.0"));ie.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var kb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{St=gh.inject(kb),dt=gh}catch{}}return od.createRoot=function(e,t){if(!c(e))throw Error(l(299));var s=!1,u="",x=xp,v=yp,I=bp;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onUncaughtError!==void 0&&(x=t.onUncaughtError),t.onCaughtError!==void 0&&(v=t.onCaughtError),t.onRecoverableError!==void 0&&(I=t.onRecoverableError)),t=Wg(e,1,!1,null,null,s,u,null,x,v,I,c1),e[qa]=t.current,$f(e),new y0(t)},od.hydrateRoot=function(e,t,s){if(!c(e))throw Error(l(299));var u=!1,x="",v=xp,I=yp,J=bp,ge=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(x=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(I=s.onCaughtError),s.onRecoverableError!==void 0&&(J=s.onRecoverableError),s.formState!==void 0&&(ge=s.formState)),t=Wg(e,1,!0,t,s??null,u,x,ge,v,I,J,c1),t.context=$g(null),s=t.current,u=yi(),u=Br(u),x=zt(u),x.callback=null,Zt(s,x,u),s=u,t.current.lanes=s,Lt(t,s),Vs(t),e[qa]=t.current,$f(e),new ph(t)},od.version="19.2.0",od}var b1;function vv(){if(b1)return N0.exports;b1=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(a){console.error(a)}}return i(),N0.exports=bv(),N0.exports}var wv=vv();const Nv=Me.createContext(null),k0={didCatch:!1,error:null};class jv extends Me.Component{constructor(a){super(a),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=k0}static getDerivedStateFromError(a){return{didCatch:!0,error:a}}resetErrorBoundary(){const{error:a}=this.state;if(a!==null){for(var r,l,c=arguments.length,o=new Array(c),h=0;h<c;h++)o[h]=arguments[h];(r=(l=this.props).onReset)===null||r===void 0||r.call(l,{args:o,reason:"imperative-api"}),this.setState(k0)}}componentDidCatch(a,r){var l,c;(l=(c=this.props).onError)===null||l===void 0||l.call(c,a,r)}componentDidUpdate(a,r){const{didCatch:l}=this.state,{resetKeys:c}=this.props;if(l&&r.error!==null&&Sv(a.resetKeys,c)){var o,h;(o=(h=this.props).onReset)===null||o===void 0||o.call(h,{next:c,prev:a.resetKeys,reason:"keys"}),this.setState(k0)}}render(){const{children:a,fallbackRender:r,FallbackComponent:l,fallback:c}=this.props,{didCatch:o,error:h}=this.state;let d=a;if(o){const f={error:h,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")d=r(f);else if(l)d=Me.createElement(l,f);else if(c!==void 0)d=c;else throw h}return Me.createElement(Nv.Provider,{value:{didCatch:o,error:h,resetErrorBoundary:this.resetErrorBoundary}},d)}}function Sv(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return i.length!==a.length||i.some((r,l)=>!Object.is(r,a[l]))}const kv=1,_v=1e6;let _0=0;function Av(){return _0=(_0+1)%Number.MAX_SAFE_INTEGER,_0.toString()}const A0=new Map,v1=i=>{if(A0.has(i))return;const a=setTimeout(()=>{A0.delete(i),md({type:"REMOVE_TOAST",toastId:i})},_v);A0.set(i,a)},Cv=(i,a)=>{switch(a.type){case"ADD_TOAST":return{...i,toasts:[a.toast,...i.toasts].slice(0,kv)};case"UPDATE_TOAST":return{...i,toasts:i.toasts.map(r=>r.id===a.toast.id?{...r,...a.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=a;return r?v1(r):i.toasts.forEach(l=>{v1(l.id)}),{...i,toasts:i.toasts.map(l=>l.id===r||r===void 0?{...l,open:!1}:l)}}case"REMOVE_TOAST":return a.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(r=>r.id!==a.toastId)}}},Th=[];let Dh={toasts:[]};function md(i){Dh=Cv(Dh,i),Th.forEach(a=>{a(Dh)})}function Ev({...i}){const a=Av(),r=c=>md({type:"UPDATE_TOAST",toast:{...c,id:a}}),l=()=>md({type:"DISMISS_TOAST",toastId:a});return md({type:"ADD_TOAST",toast:{...i,id:a,open:!0,onOpenChange:c=>{c||l()}}}),{id:a,dismiss:l,update:r}}function cn(){const[i,a]=Me.useState(Dh);return Me.useEffect(()=>(Th.push(a),()=>{const r=Th.indexOf(a);r>-1&&Th.splice(r,1)}),[i]),{...i,toast:Ev,dismiss:r=>md({type:"DISMISS_TOAST",toastId:r})}}var Pm="ToastProvider",[Um,Lv,Tv]=Cb("Toast"),[zx]=Ab("Toast",[Tv]),[Dv,tf]=zx(Pm),Ix=i=>{const{__scopeToast:a,label:r="Notification",duration:l=5e3,swipeDirection:c="right",swipeThreshold:o=50,children:h}=i,[d,f]=Me.useState(null),[p,b]=Me.useState(0),N=Me.useRef(!1),S=Me.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pm}\`. Expected non-empty \`string\`.`),n.jsx(Um.Provider,{scope:a,children:n.jsx(Dv,{scope:a,label:r,duration:l,swipeDirection:c,swipeThreshold:o,toastCount:p,viewport:d,onViewportChange:f,onToastAdd:Me.useCallback(()=>b(g=>g+1),[]),onToastRemove:Me.useCallback(()=>b(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:N,isClosePausedRef:S,children:h})})};Ix.displayName=Pm;var Fx="ToastViewport",Ov=["F8"],jm="toast.viewportPause",Sm="toast.viewportResume",Bx=Me.forwardRef((i,a)=>{const{__scopeToast:r,hotkey:l=Ov,label:c="Notifications ({hotkey})",...o}=i,h=tf(Fx,r),d=Lv(r),f=Me.useRef(null),p=Me.useRef(null),b=Me.useRef(null),N=Me.useRef(null),S=wx(a,N,h.onViewportChange),g=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=h.toastCount>0;Me.useEffect(()=>{const C=k=>{l.length!==0&&l.every(T=>k[T]||k.code===T)&&N.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[l]),Me.useEffect(()=>{const C=f.current,k=N.current;if(E&&C&&k){const D=()=>{if(!h.isClosePausedRef.current){const P=new CustomEvent(jm);k.dispatchEvent(P),h.isClosePausedRef.current=!0}},T=()=>{if(h.isClosePausedRef.current){const P=new CustomEvent(Sm);k.dispatchEvent(P),h.isClosePausedRef.current=!1}},M=P=>{!C.contains(P.relatedTarget)&&T()},q=()=>{C.contains(document.activeElement)||T()};return C.addEventListener("focusin",D),C.addEventListener("focusout",M),C.addEventListener("pointermove",D),C.addEventListener("pointerleave",q),window.addEventListener("blur",D),window.addEventListener("focus",T),()=>{C.removeEventListener("focusin",D),C.removeEventListener("focusout",M),C.removeEventListener("pointermove",D),C.removeEventListener("pointerleave",q),window.removeEventListener("blur",D),window.removeEventListener("focus",T)}}},[E,h.isClosePausedRef]);const w=Me.useCallback(({tabbingDirection:C})=>{const D=d().map(T=>{const M=T.ref.current,q=[M,...Yv(M)];return C==="forwards"?q:q.reverse()});return(C==="forwards"?D.reverse():D).flat()},[d]);return Me.useEffect(()=>{const C=N.current;if(C){const k=D=>{const T=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!T){const q=document.activeElement,P=D.shiftKey;if(D.target===C&&P){p.current?.focus();return}const F=w({tabbingDirection:P?"backwards":"forwards"}),re=F.findIndex(U=>U===q);C0(F.slice(re+1))?D.preventDefault():P?p.current?.focus():b.current?.focus()}};return C.addEventListener("keydown",k),()=>C.removeEventListener("keydown",k)}},[d,w]),n.jsxs(Eb,{ref:f,role:"region","aria-label":c.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&n.jsx(km,{ref:p,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"forwards"});C0(C)}}),n.jsx(Um.Slot,{scope:r,children:n.jsx(ju.ol,{tabIndex:-1,...o,ref:S})}),E&&n.jsx(km,{ref:b,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"backwards"});C0(C)}})]})});Bx.displayName=Fx;var Px="ToastFocusProxy",km=Me.forwardRef((i,a)=>{const{__scopeToast:r,onFocusFromOutsideViewport:l,...c}=i,o=tf(Px,r);return n.jsx(Nx,{tabIndex:0,...c,ref:a,style:{position:"fixed"},onFocus:h=>{const d=h.relatedTarget;!o.viewport?.contains(d)&&l()}})});km.displayName=Px;var jd="Toast",Mv="toast.swipeStart",Rv="toast.swipeMove",zv="toast.swipeCancel",Iv="toast.swipeEnd",Ux=Me.forwardRef((i,a)=>{const{forceMount:r,open:l,defaultOpen:c,onOpenChange:o,...h}=i,[d,f]=Lb({prop:l,defaultProp:c??!0,onChange:o,caller:jd});return n.jsx(Tb,{present:r||d,children:n.jsx(Pv,{open:d,...h,ref:a,onClose:()=>f(!1),onPause:Bh(i.onPause),onResume:Bh(i.onResume),onSwipeStart:Xs(i.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Xs(i.onSwipeMove,p=>{const{x:b,y:N}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${b}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${N}px`)}),onSwipeCancel:Xs(i.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Xs(i.onSwipeEnd,p=>{const{x:b,y:N}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${b}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${N}px`),f(!1)})})})});Ux.displayName=jd;var[Fv,Bv]=zx(jd,{onClose(){}}),Pv=Me.forwardRef((i,a)=>{const{__scopeToast:r,type:l="foreground",duration:c,open:o,onClose:h,onEscapeKeyDown:d,onPause:f,onResume:p,onSwipeStart:b,onSwipeMove:N,onSwipeCancel:S,onSwipeEnd:g,...E}=i,w=tf(jd,r),[C,k]=Me.useState(null),D=wx(a,j=>k(j)),T=Me.useRef(null),M=Me.useRef(null),q=c||w.duration,P=Me.useRef(0),B=Me.useRef(q),V=Me.useRef(0),{onToastAdd:F,onToastRemove:re}=w,U=Bh(()=>{C?.contains(document.activeElement)&&w.viewport?.focus(),h()}),A=Me.useCallback(j=>{!j||j===1/0||(window.clearTimeout(V.current),P.current=new Date().getTime(),V.current=window.setTimeout(U,j))},[U]);Me.useEffect(()=>{const j=w.viewport;if(j){const $=()=>{A(B.current),p?.()},W=()=>{const ie=new Date().getTime()-P.current;B.current=B.current-ie,window.clearTimeout(V.current),f?.()};return j.addEventListener(jm,W),j.addEventListener(Sm,$),()=>{j.removeEventListener(jm,W),j.removeEventListener(Sm,$)}}},[w.viewport,q,f,p,A]),Me.useEffect(()=>{o&&!w.isClosePausedRef.current&&A(q)},[o,q,w.isClosePausedRef,A]),Me.useEffect(()=>(F(),()=>re()),[F,re]);const H=Me.useMemo(()=>C?Xx(C):null,[C]);return w.viewport?n.jsxs(n.Fragment,{children:[H&&n.jsx(Uv,{__scopeToast:r,role:"status","aria-live":l==="foreground"?"assertive":"polite",children:H}),n.jsx(Fv,{scope:r,onClose:U,children:Yb.createPortal(n.jsx(Um.ItemSlot,{scope:r,children:n.jsx(Db,{asChild:!0,onEscapeKeyDown:Xs(d,()=>{w.isFocusedToastEscapeKeyDownRef.current||U(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ju.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":w.swipeDirection,...E,ref:D,style:{userSelect:"none",touchAction:"none",...i.style},onKeyDown:Xs(i.onKeyDown,j=>{j.key==="Escape"&&(d?.(j.nativeEvent),j.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:Xs(i.onPointerDown,j=>{j.button===0&&(T.current={x:j.clientX,y:j.clientY})}),onPointerMove:Xs(i.onPointerMove,j=>{if(!T.current)return;const $=j.clientX-T.current.x,W=j.clientY-T.current.y,ie=!!M.current,ee=["left","right"].includes(w.swipeDirection),ue=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,ve=ee?ue(0,$):0,ce=ee?0:ue(0,W),z=j.pointerType==="touch"?10:2,Q={x:ve,y:ce},ae={originalEvent:j,delta:Q};ie?(M.current=Q,yh(Rv,N,ae,{discrete:!1})):w1(Q,w.swipeDirection,z)?(M.current=Q,yh(Mv,b,ae,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs($)>z||Math.abs(W)>z)&&(T.current=null)}),onPointerUp:Xs(i.onPointerUp,j=>{const $=M.current,W=j.target;if(W.hasPointerCapture(j.pointerId)&&W.releasePointerCapture(j.pointerId),M.current=null,T.current=null,$){const ie=j.currentTarget,ee={originalEvent:j,delta:$};w1($,w.swipeDirection,w.swipeThreshold)?yh(Iv,g,ee,{discrete:!0}):yh(zv,S,ee,{discrete:!0}),ie.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),Uv=i=>{const{__scopeToast:a,children:r,...l}=i,c=tf(jd,a),[o,h]=Me.useState(!1),[d,f]=Me.useState(!1);return Vv(()=>h(!0)),Me.useEffect(()=>{const p=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(p)},[]),d?null:n.jsx(Ob,{asChild:!0,children:n.jsx(Nx,{...l,children:o&&n.jsxs(n.Fragment,{children:[c.label," ",r]})})})},qv="ToastTitle",qx=Me.forwardRef((i,a)=>{const{__scopeToast:r,...l}=i;return n.jsx(ju.div,{...l,ref:a})});qx.displayName=qv;var Hv="ToastDescription",Hx=Me.forwardRef((i,a)=>{const{__scopeToast:r,...l}=i;return n.jsx(ju.div,{...l,ref:a})});Hx.displayName=Hv;var Vx="ToastAction",Gx=Me.forwardRef((i,a)=>{const{altText:r,...l}=i;return r.trim()?n.jsx(Zx,{altText:r,asChild:!0,children:n.jsx(qm,{...l,ref:a})}):(console.error(`Invalid prop \`altText\` supplied to \`${Vx}\`. Expected non-empty \`string\`.`),null)});Gx.displayName=Vx;var Yx="ToastClose",qm=Me.forwardRef((i,a)=>{const{__scopeToast:r,...l}=i,c=Bv(Yx,r);return n.jsx(Zx,{asChild:!0,children:n.jsx(ju.button,{type:"button",...l,ref:a,onClick:Xs(i.onClick,c.onClose)})})});qm.displayName=Yx;var Zx=Me.forwardRef((i,a)=>{const{__scopeToast:r,altText:l,...c}=i;return n.jsx(ju.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":l||void 0,...c,ref:a})});function Xx(i){const a=[];return Array.from(i.childNodes).forEach(l=>{if(l.nodeType===l.TEXT_NODE&&l.textContent&&a.push(l.textContent),Gv(l)){const c=l.ariaHidden||l.hidden||l.style.display==="none",o=l.dataset.radixToastAnnounceExclude==="";if(!c)if(o){const h=l.dataset.radixToastAnnounceAlt;h&&a.push(h)}else a.push(...Xx(l))}}),a}function yh(i,a,r,{discrete:l}){const c=r.originalEvent.currentTarget,o=new CustomEvent(i,{bubbles:!0,cancelable:!0,detail:r});a&&c.addEventListener(i,a,{once:!0}),l?Rb(c,o):c.dispatchEvent(o)}var w1=(i,a,r=0)=>{const l=Math.abs(i.x),c=Math.abs(i.y),o=l>c;return a==="left"||a==="right"?o&&l>r:!o&&c>r};function Vv(i=()=>{}){const a=Bh(i);Mb(()=>{let r=0,l=0;return r=window.requestAnimationFrame(()=>l=window.requestAnimationFrame(a)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(l)}},[a])}function Gv(i){return i.nodeType===i.ELEMENT_NODE}function Yv(i){const a=[],r=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const c=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||c?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)a.push(r.currentNode);return a}function C0(i){const a=document.activeElement;return i.some(r=>r===a?!0:(r.focus(),document.activeElement!==a))}var Zv=Ix,Kx=Bx,Qx=Ux,Jx=qx,Wx=Hx,$x=Gx,ey=qm;const N1=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,j1=Dx,rf=(i,a)=>r=>{var l;if(a?.variants==null)return j1(i,r?.class,r?.className);const{variants:c,defaultVariants:o}=a,h=Object.keys(c).map(p=>{const b=r?.[p],N=o?.[p];if(b===null)return null;const S=N1(b)||N1(N);return c[p][S]}),d=r&&Object.entries(r).reduce((p,b)=>{let[N,S]=b;return S===void 0||(p[N]=S),p},{}),f=a==null||(l=a.compoundVariants)===null||l===void 0?void 0:l.reduce((p,b)=>{let{class:N,className:S,...g}=b;return Object.entries(g).every(E=>{let[w,C]=E;return Array.isArray(C)?C.includes({...o,...d}[w]):{...o,...d}[w]===C})?[...p,N,S]:p},[]);return j1(i,h,f,r?.class,r?.className)},Hm="-",Xv=i=>{const a=Qv(i),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=i;return{getClassGroupId:h=>{const d=h.split(Hm);return d[0]===""&&d.length!==1&&d.shift(),ty(d,a)||Kv(h)},getConflictingClassGroupIds:(h,d)=>{const f=r[h]||[];return d&&l[h]?[...f,...l[h]]:f}}},ty=(i,a)=>{if(i.length===0)return a.classGroupId;const r=i[0],l=a.nextPart.get(r),c=l?ty(i.slice(1),l):void 0;if(c)return c;if(a.validators.length===0)return;const o=i.join(Hm);return a.validators.find(({validator:h})=>h(o))?.classGroupId},S1=/^\[(.+)\]$/,Kv=i=>{if(S1.test(i)){const a=S1.exec(i)[1],r=a?.substring(0,a.indexOf(":"));if(r)return"arbitrary.."+r}},Qv=i=>{const{theme:a,prefix:r}=i,l={nextPart:new Map,validators:[]};return Wv(Object.entries(i.classGroups),r).forEach(([o,h])=>{_m(h,l,o,a)}),l},_m=(i,a,r,l)=>{i.forEach(c=>{if(typeof c=="string"){const o=c===""?a:k1(a,c);o.classGroupId=r;return}if(typeof c=="function"){if(Jv(c)){_m(c(l),a,r,l);return}a.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([o,h])=>{_m(h,k1(a,o),r,l)})})},k1=(i,a)=>{let r=i;return a.split(Hm).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},Jv=i=>i.isThemeGetter,Wv=(i,a)=>a?i.map(([r,l])=>{const c=l.map(o=>typeof o=="string"?a+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([h,d])=>[a+h,d])):o);return[r,c]}):i,$v=i=>{if(i<1)return{get:()=>{},set:()=>{}};let a=0,r=new Map,l=new Map;const c=(o,h)=>{r.set(o,h),a++,a>i&&(a=0,l=r,r=new Map)};return{get(o){let h=r.get(o);if(h!==void 0)return h;if((h=l.get(o))!==void 0)return c(o,h),h},set(o,h){r.has(o)?r.set(o,h):c(o,h)}}},ry="!",ew=i=>{const{separator:a,experimentalParseClassName:r}=i,l=a.length===1,c=a[0],o=a.length,h=d=>{const f=[];let p=0,b=0,N;for(let C=0;C<d.length;C++){let k=d[C];if(p===0){if(k===c&&(l||d.slice(C,C+o)===a)){f.push(d.slice(b,C)),b=C+o;continue}if(k==="/"){N=C;continue}}k==="["?p++:k==="]"&&p--}const S=f.length===0?d:d.substring(b),g=S.startsWith(ry),E=g?S.substring(1):S,w=N&&N>b?N-b:void 0;return{modifiers:f,hasImportantModifier:g,baseClassName:E,maybePostfixModifierPosition:w}};return r?d=>r({className:d,parseClassName:h}):h},tw=i=>{if(i.length<=1)return i;const a=[];let r=[];return i.forEach(l=>{l[0]==="["?(a.push(...r.sort(),l),r=[]):r.push(l)}),a.push(...r.sort()),a},rw=i=>({cache:$v(i.cacheSize),parseClassName:ew(i),...Xv(i)}),aw=/\s+/,nw=(i,a)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:c}=a,o=[],h=i.trim().split(aw);let d="";for(let f=h.length-1;f>=0;f-=1){const p=h[f],{modifiers:b,hasImportantModifier:N,baseClassName:S,maybePostfixModifierPosition:g}=r(p);let E=!!g,w=l(E?S.substring(0,g):S);if(!w){if(!E){d=p+(d.length>0?" "+d:d);continue}if(w=l(S),!w){d=p+(d.length>0?" "+d:d);continue}E=!1}const C=tw(b).join(":"),k=N?C+ry:C,D=k+w;if(o.includes(D))continue;o.push(D);const T=c(w,E);for(let M=0;M<T.length;++M){const q=T[M];o.push(k+q)}d=p+(d.length>0?" "+d:d)}return d};function iw(){let i=0,a,r,l="";for(;i<arguments.length;)(a=arguments[i++])&&(r=ay(a))&&(l&&(l+=" "),l+=r);return l}const ay=i=>{if(typeof i=="string")return i;let a,r="";for(let l=0;l<i.length;l++)i[l]&&(a=ay(i[l]))&&(r&&(r+=" "),r+=a);return r};function sw(i,...a){let r,l,c,o=h;function h(f){const p=a.reduce((b,N)=>N(b),i());return r=rw(p),l=r.cache.get,c=r.cache.set,o=d,d(f)}function d(f){const p=l(f);if(p)return p;const b=nw(f,r);return c(f,b),b}return function(){return o(iw.apply(null,arguments))}}const Yr=i=>{const a=r=>r[i]||[];return a.isThemeGetter=!0,a},ny=/^\[(?:([a-z-]+):)?(.+)\]$/i,lw=/^\d+\/\d+$/,ow=new Set(["px","full","screen"]),cw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,El=i=>gu(i)||ow.has(i)||lw.test(i),mo=i=>Su(i,"length",ww),gu=i=>!!i&&!Number.isNaN(Number(i)),E0=i=>Su(i,"number",gu),cd=i=>!!i&&Number.isInteger(Number(i)),mw=i=>i.endsWith("%")&&gu(i.slice(0,-1)),Kt=i=>ny.test(i),po=i=>cw.test(i),pw=new Set(["length","size","percentage"]),gw=i=>Su(i,pw,iy),xw=i=>Su(i,"position",iy),yw=new Set(["image","url"]),bw=i=>Su(i,yw,jw),vw=i=>Su(i,"",Nw),ud=()=>!0,Su=(i,a,r)=>{const l=ny.exec(i);return l?l[1]?typeof a=="string"?l[1]===a:a.has(l[1]):r(l[2]):!1},ww=i=>uw.test(i)&&!dw.test(i),iy=()=>!1,Nw=i=>hw.test(i),jw=i=>fw.test(i),Sw=()=>{const i=Yr("colors"),a=Yr("spacing"),r=Yr("blur"),l=Yr("brightness"),c=Yr("borderColor"),o=Yr("borderRadius"),h=Yr("borderSpacing"),d=Yr("borderWidth"),f=Yr("contrast"),p=Yr("grayscale"),b=Yr("hueRotate"),N=Yr("invert"),S=Yr("gap"),g=Yr("gradientColorStops"),E=Yr("gradientColorStopPositions"),w=Yr("inset"),C=Yr("margin"),k=Yr("opacity"),D=Yr("padding"),T=Yr("saturate"),M=Yr("scale"),q=Yr("sepia"),P=Yr("skew"),B=Yr("space"),V=Yr("translate"),F=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",Kt,a],A=()=>[Kt,a],H=()=>["",El,mo],j=()=>["auto",gu,Kt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Kt],ve=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[gu,Kt];return{cacheSize:500,separator:":",theme:{colors:[ud],spacing:[El,mo],blur:["none","",po,Kt],brightness:ce(),borderColor:[i],borderRadius:["none","","full",po,Kt],borderSpacing:A(),borderWidth:H(),contrast:ce(),grayscale:ue(),hueRotate:ce(),invert:ue(),gap:A(),gradientColorStops:[i],gradientColorStopPositions:[mw,mo],inset:U(),margin:U(),opacity:ce(),padding:A(),saturate:ce(),scale:ce(),sepia:ue(),skew:ce(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",Kt]}],container:["container"],columns:[{columns:[po]}],"break-after":[{"break-after":ve()}],"break-before":[{"break-before":ve()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),Kt]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",cd,Kt]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Kt]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",cd,Kt]}],"grid-cols":[{"grid-cols":[ud]}],"col-start-end":[{col:["auto",{span:["full",cd,Kt]},Kt]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[ud]}],"row-start-end":[{row:["auto",{span:[cd,Kt]},Kt]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Kt]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Kt,a]}],"min-w":[{"min-w":[Kt,a,"min","max","fit"]}],"max-w":[{"max-w":[Kt,a,"none","full","min","max","fit","prose",{screen:[po]},po]}],h:[{h:[Kt,a,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Kt,a,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Kt,a,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Kt,a,"auto","min","max","fit"]}],"font-size":[{text:["base",po,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",E0]}],"font-family":[{font:[ud]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Kt]}],"line-clamp":[{"line-clamp":["none",gu,E0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",El,Kt]}],"list-image":[{"list-image":["none",Kt]}],"list-style-type":[{list:["none","disc","decimal",Kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[i]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[i]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",El,mo]}],"underline-offset":[{"underline-offset":["auto",El,Kt]}],"text-decoration-color":[{decoration:[i]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),xw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bw]}],"bg-color":[{bg:[i]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:W()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-s":[{"border-s":[c]}],"border-color-e":[{"border-e":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[El,Kt]}],"outline-w":[{outline:[El,mo]}],"outline-color":[{outline:[i]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[i]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[El,mo]}],"ring-offset-color":[{"ring-offset":[i]}],shadow:[{shadow:["","inner","none",po,vw]}],"shadow-color":[{shadow:[ud]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[l]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",po,Kt]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[N]}],saturate:[{saturate:[T]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[N]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Kt]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",Kt]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",Kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[cd,Kt]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Kt]}],accent:[{accent:["auto",i]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Kt]}],"caret-color":[{caret:[i]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Kt]}],fill:[{fill:[i,"none"]}],"stroke-w":[{stroke:[El,mo,E0]}],stroke:[{stroke:[i,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kw=sw(Sw);function Xr(...i){return kw(Dx(i))}function On(i){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(i)}async function ti(i){try{const a=await fetch(`/api/static/${i}.json`,{cache:"no-store"});if(!a.ok)throw new Error("not ok");return(await a.json()).data||[]}catch{try{const a=await fetch(`/backend/data/${i}.json`,{cache:"no-store"});if(!a.ok)throw new Error("not ok");return(await a.json()).data||[]}catch{return[]}}}function af(i){if(!i||i.length===0)return"";const a=Object.keys(i[0]),r=[a.join(",")];for(const l of i)r.push(a.map(c=>{const o=l[c];if(o==null)return"";const h=String(o);return/[",\n]/.test(h)?'"'+h.replace(/"/g,'""')+'"':h}).join(","));return r.join(`
`)}const _w=Zv,sy=Me.forwardRef(({className:i,...a},r)=>n.jsx(Kx,{ref:r,className:Xr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",i),...a}));sy.displayName=Kx.displayName;const Aw=rf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ly=Me.forwardRef(({className:i,variant:a,...r},l)=>n.jsx(Qx,{ref:l,className:Xr(Aw({variant:a}),i),...r}));ly.displayName=Qx.displayName;const Cw=Me.forwardRef(({className:i,...a},r)=>n.jsx($x,{ref:r,className:Xr("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",i),...a}));Cw.displayName=$x.displayName;const oy=Me.forwardRef(({className:i,...a},r)=>n.jsx(ey,{ref:r,className:Xr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",i),"toast-close":"",...a,children:n.jsx(fu,{className:"h-4 w-4"})}));oy.displayName=ey.displayName;const cy=Me.forwardRef(({className:i,...a},r)=>n.jsx(Jx,{ref:r,className:Xr("text-sm font-semibold",i),...a}));cy.displayName=Jx.displayName;const uy=Me.forwardRef(({className:i,...a},r)=>n.jsx(Wx,{ref:r,className:Xr("text-sm opacity-90",i),...a}));uy.displayName=Wx.displayName;function Ew(){const{toasts:i}=cn();return n.jsxs(_w,{children:[i.map(function({id:a,title:r,description:l,action:c,...o}){return n.jsxs(ly,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(cy,{children:r}),l&&n.jsx(uy,{children:l})]}),c,n.jsx(oy,{})]},a)}),n.jsx(sy,{})]})}const Lw=[{id:"1",username:"nikhil@tristar",email:"nikhil@tristar.com",role:"owner",name:"Nikhil Verma",phone:"+91 98765 43210",createdAt:"2024-01-01T00:00:00.000Z",lastLogin:new Date().toISOString()},{id:"2",username:"manager@tristar",email:"manager@tristar.com",role:"semi-admin",name:"Manager",phone:"+91 98765 43211",createdAt:"2024-01-01T00:00:00.000Z",lastLogin:new Date().toISOString()}],Tw={"nikhil@tristar":"nikhilverma@tristar","manager@tristar":"manager@tristarfitness"};let cu=[...Lw];const Dw=i=>{const a=cu.find(r=>r.username===i.username);return a&&Tw[i.username]===i.password?(a.lastLogin=new Date().toISOString(),a):null},Ow=(i,a)=>{const r=cu.findIndex(l=>l.id===i);return r===-1?null:(cu[r]={...cu[r],...a},localStorage.setItem("tristar_fitness_user",JSON.stringify(cu[r])),cu[r])},bo=i=>i?.role==="owner",_1=i=>i?.role==="semi-admin",tc=i=>{const a=i?.role==="manager"?"semi-admin":i?.role;return a==="semi-admin"||a==="owner"},Mw=(i,a)=>{if(!i)return!1;const r=i.role==="manager"?"semi-admin":i.role;return a==="owner"?r==="owner":a==="semi-admin"?r==="semi-admin"||r==="owner":r==="trainer"||r==="owner"||r==="semi-admin"},Rw={};let qh=Rw?.VITE_API_URL||"http://localhost:6868";class zw{baseURL;token=null;isOnline=!0;constructor(a){this.baseURL=a,this.token=localStorage.getItem("auth_token"),this.checkConnectivity()}setBaseURL(a){this.baseURL=a}async checkConnectivity(){const a=[this.baseURL,"http://localhost:6868","http://127.0.0.1:6868"];for(const r of a)try{if((await fetch(`${r}/health`,{method:"GET",signal:AbortSignal.timeout(1e3)})).ok){this.baseURL=r,qh=r,this.isOnline=!0;return}}catch{}this.isOnline=!1}async request(a,r={}){if(this.isOnline||await this.checkConnectivity(),!this.isOnline)throw new Error("Backend is not available");const l=`${this.baseURL}${a}`,c={"Content-Type":"application/json",...r.headers};this.token&&(c.Authorization=`Bearer ${this.token}`);try{const o=new AbortController,h=setTimeout(()=>o.abort(),1e4),d=await fetch(l,{...r,headers:c,signal:o.signal});if(clearTimeout(h),!d.ok){const p=await d.json().catch(()=>({message:`HTTP ${d.status}`}));throw new Error(p.message||`HTTP ${d.status}`)}return await d.json()}catch(o){throw console.error("API Error:",o),o instanceof Error?o.name==="AbortError"?new Error("Request timeout"):o:new Error("Unknown API error")}}async login(a,r){try{const l=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({username:a,password:r})});return l.success&&l.token&&(this.token=l.token,localStorage.setItem("auth_token",this.token),localStorage.setItem("tristar_fitness_user",JSON.stringify(l.user))),l}catch(l){throw console.error("Login failed:",l),l}}async logout(){try{this.isOnline&&await this.request("/api/auth/logout",{method:"POST"})}catch(a){console.error("Logout error:",a)}finally{this.token=null,localStorage.removeItem("auth_token")}}async getCurrentUser(){return this.request("/api/auth/me")}async getMembers(a){const r=new URLSearchParams;a&&Object.entries(a).forEach(([c,o])=>{o!=null&&r.append(c,o.toString())});const l=`/api/members${r.toString()?`?${r.toString()}`:""}`;return this.request(l)}async getMember(a){return this.request(`/api/members/${a}`)}async createMember(a){return this.request("/api/members",{method:"POST",body:JSON.stringify(a)})}async updateMember(a,r){return this.request(`/api/members/${a}`,{method:"PUT",body:JSON.stringify(r)})}async deleteMember(a){return this.request(`/api/members/${a}`,{method:"DELETE"})}async getTrainers(a){const r=new URLSearchParams;a&&Object.entries(a).forEach(([c,o])=>{o!=null&&r.append(c,o.toString())});const l=`/api/trainers${r.toString()?`?${r.toString()}`:""}`;return this.request(l)}async getTrainer(a){return this.request(`/api/trainers/${a}`)}async createTrainer(a){return this.request("/api/trainers",{method:"POST",body:JSON.stringify(a)})}async updateTrainer(a,r){return this.request(`/api/trainers/${a}`,{method:"PUT",body:JSON.stringify(r)})}async deleteTrainer(a){return this.request(`/api/trainers/${a}`,{method:"DELETE"})}async getSessions(a){const r=new URLSearchParams;a&&Object.entries(a).forEach(([c,o])=>{o!=null&&r.append(c,o.toString())});const l=`/api/sessions${r.toString()?`?${r.toString()}`:""}`;return this.request(l)}async createSession(a){return this.request("/api/sessions",{method:"POST",body:JSON.stringify(a)})}async updateSession(a,r){return this.request(`/api/sessions/${a}`,{method:"PUT",body:JSON.stringify(r)})}async deleteSession(a){return this.request(`/api/sessions/${a}`,{method:"DELETE"})}async getVisitors(a){const r=new URLSearchParams;a&&Object.entries(a).forEach(([c,o])=>{o!=null&&r.append(c,o.toString())});const l=`/api/visitors${r.toString()?`?${r.toString()}`:""}`;return this.request(l)}async createVisitor(a){return this.request("/api/visitors",{method:"POST",body:JSON.stringify(a)})}async updateVisitor(a,r){return this.request(`/api/visitors/${a}`,{method:"PUT",body:JSON.stringify(r)})}async deleteVisitor(a){return this.request(`/api/visitors/${a}`,{method:"DELETE"})}async getInvoices(a){const r=new URLSearchParams;a&&Object.entries(a).forEach(([c,o])=>{o!=null&&r.append(c,o.toString())});const l=`/api/invoices${r.toString()?`?${r.toString()}`:""}`;return this.request(l)}async createInvoice(a){return this.request("/api/invoices",{method:"POST",body:JSON.stringify(a)})}async updateInvoice(a,r){return this.request(`/api/invoices/${a}`,{method:"PUT",body:JSON.stringify(r)})}async deleteInvoice(a){return this.request(`/api/invoices/${a}`,{method:"DELETE"})}async getFollowUps(a){const r=new URLSearchParams;a&&Object.entries(a).forEach(([c,o])=>{o!=null&&r.append(c,o.toString())});const l=`/api/followups${r.toString()?`?${r.toString()}`:""}`;return this.request(l)}async createFollowUp(a){return this.request("/api/followups",{method:"POST",body:JSON.stringify(a)})}async updateFollowUp(a,r){return this.request(`/api/followups/${a}`,{method:"PUT",body:JSON.stringify(r)})}async deleteFollowUp(a){return this.request(`/api/followups/${a}`,{method:"DELETE"})}async getActivities(a){const r=new URLSearchParams;a&&Object.entries(a).forEach(([c,o])=>{o!=null&&r.append(c,o.toString())});const l=`/api/activities${r.toString()?`?${r.toString()}`:""}`;return this.request(l)}async createActivity(a){return this.request("/api/activities",{method:"POST",body:JSON.stringify(a)})}async getAnalytics(){return this.request("/api/analytics")}async healthCheck(){return this.request("/health")}async getApiInfo(){return this.request("/api")}isAuthenticated(){return!!this.token}getToken(){return this.token}setToken(a){this.token=a,localStorage.setItem("auth_token",a)}clearToken(){this.token=null,localStorage.removeItem("auth_token")}isBackendAvailable(){return this.isOnline}}const vs=new zw(qh),A1=async()=>{const i=[qh,"http://localhost:6868","http://127.0.0.1:6868"];for(const a of i)try{if((await fetch(`${a}/health`,{signal:AbortSignal.timeout(3e3)})).ok)return qh=a,vs.setBaseURL(a),!0}catch{}return!1},dy=Me.createContext(void 0),Iw=(i,a)=>{switch(a.type){case"LOGIN_START":return{...i,isLoading:!0};case"LOGIN_SUCCESS":return{...i,user:a.payload,isAuthenticated:!0,isLoading:!1};case"LOGIN_FAILURE":return{...i,user:null,isAuthenticated:!1,isLoading:!1};case"LOGOUT":return{...i,user:null,isAuthenticated:!1,isLoading:!1};case"SET_BACKEND_AVAILABLE":return{...i,isBackendAvailable:a.payload};case"UPDATE_USER":return{...i,user:a.payload};default:return i}},Fw={user:null,isAuthenticated:!1,isLoading:!0,isBackendAvailable:!1},Bw=({children:i})=>{const[a,r]=Me.useReducer(Iw,Fw);Me.useEffect(()=>{(async()=>{try{const f=localStorage.getItem("tristar_fitness_user"),p=localStorage.getItem("auth_token"),b=await Promise.race([A1(),new Promise(N=>setTimeout(()=>N(!1),2e3))]);if(r({type:"SET_BACKEND_AVAILABLE",payload:b}),b&&p)try{vs.setToken(p);const N=await vs.getCurrentUser();if(N.success&&N.data){r({type:"LOGIN_SUCCESS",payload:N.data});return}}catch{console.warn("Token validation failed, falling back to local storage"),vs.clearToken()}if(f)try{const N=JSON.parse(f);p&&vs.setToken(p),r({type:"LOGIN_SUCCESS",payload:N});return}catch(N){console.error("Error parsing saved user:",N),localStorage.removeItem("tristar_fitness_user"),localStorage.removeItem("auth_token")}console.log(" No valid session found, setting login failure"),r({type:"LOGIN_FAILURE"})}catch(f){console.error("Auth initialization error:",f),r({type:"LOGIN_FAILURE"})}})()},[]);const h={...a,login:async d=>{r({type:"LOGIN_START"});try{if(a.isBackendAvailable||await Promise.race([A1(),new Promise(b=>setTimeout(()=>b(!1),1e3))]))try{const b=await vs.login(d.username,d.password);if(b.success&&b.token){const N=b.user;return r({type:"LOGIN_SUCCESS",payload:N}),!0}}catch{console.warn("Backend login failed, attempting local fallback")}const p=Dw(d);if(p){const b=`demo-token-${Date.now()}`;return vs.setToken(b),localStorage.setItem("auth_token",b),localStorage.setItem("tristar_fitness_user",JSON.stringify(p)),r({type:"LOGIN_SUCCESS",payload:p}),!0}return r({type:"LOGIN_FAILURE"}),!1}catch(f){return console.error("Login error:",f),r({type:"LOGIN_FAILURE"}),!1}},logout:async()=>{try{a.isBackendAvailable&&await vs.logout()}catch(d){console.error("Logout error:",d)}finally{r({type:"LOGOUT"}),localStorage.removeItem("tristar_fitness_user"),localStorage.removeItem("auth_token"),vs.clearToken()}},updateUser:d=>{if(d.id){const f=Ow(d.id,d);f&&(r({type:"UPDATE_USER",payload:f}),console.log(" User profile updated successfully:",f.name))}}};return n.jsx(dy.Provider,{value:h,children:i})},Pa=()=>{const i=Me.useContext(dy);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},hy=Me.createContext(void 0),Pw=({children:i})=>{const[a,r]=Me.useState(()=>{const o=localStorage.getItem("tristar_theme");return o&&(o==="light"||o==="dark")?o:"light"}),l=o=>{r(o),localStorage.setItem("tristar_theme",o),o==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},c=()=>{l(a==="light"?"dark":"light")};return Me.useEffect(()=>{a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]),Me.useEffect(()=>{a==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),n.jsx(hy.Provider,{value:{theme:a,toggleTheme:c,setTheme:l},children:i})},Uw=()=>{const i=Me.useContext(hy);if(i===void 0)throw new Error("useTheme must be used within a ThemeProvider");return i},fn=({children:i,requiredRole:a="semi-admin",redirectTo:r="/login"})=>{const{user:l,isAuthenticated:c,isLoading:o}=Pa(),h=Lx();return o?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):!c||!l?n.jsx(d1,{to:r,state:{from:h},replace:!0}):Mw(l,a)?n.jsx(n.Fragment,{children:i}):n.jsx(d1,{to:"/dashboard",replace:!0})};var qw=Symbol.for("react.lazy"),Hh=Zb[" use ".trim().toString()];function Hw(i){return typeof i=="object"&&i!==null&&"then"in i}function fy(i){return i!=null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===qw&&"_payload"in i&&Hw(i._payload)}function my(i){const a=Gw(i),r=Me.forwardRef((l,c)=>{let{children:o,...h}=l;fy(o)&&typeof Hh=="function"&&(o=Hh(o._payload));const d=Me.Children.toArray(o),f=d.find(Zw);if(f){const p=f.props.children,b=d.map(N=>N===f?Me.Children.count(p)>1?Me.Children.only(null):Me.isValidElement(p)?p.props.children:null:N);return n.jsx(a,{...h,ref:c,children:Me.isValidElement(p)?Me.cloneElement(p,void 0,b):null})}return n.jsx(a,{...h,ref:c,children:o})});return r.displayName=`${i}.Slot`,r}var Vw=my("Slot");function Gw(i){const a=Me.forwardRef((r,l)=>{let{children:c,...o}=r;if(fy(c)&&typeof Hh=="function"&&(c=Hh(c._payload)),Me.isValidElement(c)){const h=Kw(c),d=Xw(o,c.props);return c.type!==Me.Fragment&&(d.ref=l?zb(l,h):h),Me.cloneElement(c,d)}return Me.Children.count(c)>1?Me.Children.only(null):null});return a.displayName=`${i}.SlotClone`,a}var Yw=Symbol("radix.slottable");function Zw(i){return Me.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===Yw}function Xw(i,a){const r={...a};for(const l in a){const c=i[l],o=a[l];/^on[A-Z]/.test(l)?c&&o?r[l]=(...d)=>{const f=o(...d);return c(...d),f}:c&&(r[l]=c):l==="style"?r[l]={...c,...o}:l==="className"&&(r[l]=[c,o].filter(Boolean).join(" "))}return{...i,...r}}function Kw(i){let a=Object.getOwnPropertyDescriptor(i.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?i.ref:(a=Object.getOwnPropertyDescriptor(i,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?i.props.ref:i.props.ref||i.ref)}const Qw=rf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),He=Me.forwardRef(({className:i,variant:a,size:r,asChild:l=!1,...c},o)=>{const h=l?Vw:"button";return n.jsx(h,{className:Xr(Qw({variant:a,size:r,className:i})),ref:o,...c})});He.displayName="Button";const Jw=rf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _r({className:i,variant:a,...r}){return n.jsx("div",{className:Xr(Jw({variant:a}),i),...r})}const Ww=()=>{const{isBackendAvailable:i}=Pa();return i?n.jsxs(_r,{variant:"default",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[n.jsx(Wb,{className:"h-3 w-3 mr-1"}),"Backend Connected"]}):n.jsxs(_r,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:[n.jsx($b,{className:"h-3 w-3 mr-1"}),"Local Demo Mode"]})},C1="/tristar-logo.jpg",mn=({children:i})=>{const a=Lx(),{user:r,logout:l}=Pa(),{theme:c,toggleTheme:o}=Uw(),[h,d]=Me.useState(!1),f=[{path:"/dashboard",label:"Dashboard",icon:Ox,requiredRole:"both"},{path:"/members",label:"Members",icon:Ni,requiredRole:"both"},{path:"/invoices",label:"Invoices",icon:Mn,requiredRole:"both"},{path:"/member-checkin",label:"Check-in",icon:Js,requiredRole:"both"},{path:"/followups",label:"Follow-ups",icon:Kh,requiredRole:"both"},{path:"/protein-store",label:"Protein Store",icon:mu,requiredRole:"both"},{path:"/analytics",label:"Analytics",icon:Qh,requiredRole:"owner"},{path:"/settings",label:"Settings",icon:Jh,requiredRole:"both"}];return n.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[n.jsxs("nav",{className:"hidden md:flex w-64 bg-white dark:bg-gray-800 shadow-lg border-r border-gray-200 dark:border-gray-700 flex-col",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs(Vi,{to:"/dashboard",className:"flex items-center space-x-3 group",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110 overflow-hidden",children:n.jsx("img",{src:C1,alt:"TriStar Fitness",className:"w-full h-full object-cover rounded-lg"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white group-hover:text-green-600 dark:group-hover:text-green-400 transition-colors duration-200",children:"TriStar Fitness"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r?.role==="owner"?"Gym Owner":"Gym (Manager)"," (",r?.role,")"]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Ww,{})})]}),n.jsx("div",{className:"flex-1 px-4 py-6",children:n.jsx("nav",{className:"space-y-2",children:f.filter(p=>p.requiredRole==="both"||p.requiredRole==="owner"&&r?.role==="owner"||p.requiredRole==="semi-admin"&&r?.role==="semi-admin").map(p=>{const b=p.icon,N=a.pathname===p.path;return n.jsxs(Vi,{to:p.path,className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${N?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"text-gray-700 hover:text-green-600 hover:bg-green-50 dark:text-gray-300 dark:hover:text-green-400 dark:hover:bg-gray-700"}`,children:[n.jsx(b,{className:"h-5 w-5"}),n.jsx("span",{children:p.label})]},p.path)})})}),n.jsx("div",{className:"px-4 py-4 border-t border-gray-200 dark:border-gray-700",children:n.jsx(He,{onClick:o,variant:"outline",size:"sm",className:"w-full justify-start text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:c==="dark"?n.jsxs(n.Fragment,{children:[n.jsx(h1,{className:"h-4 w-4 mr-2"}),"Light Mode"]}):n.jsxs(n.Fragment,{children:[n.jsx(f1,{className:"h-4 w-4 mr-2"}),"Dark Mode"]})})}),n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:n.jsx(ic,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r?.name}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:r?.role})]})]}),n.jsxs(He,{onClick:l,variant:"outline",size:"sm",className:"w-full text-gray-700 hover:text-red-600 hover:bg-red-50 dark:text-gray-300 dark:hover:text-red-400 dark:hover:bg-red-900/20",children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),n.jsx("main",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 max-w-7xl",children:i})}),n.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:n.jsx(He,{variant:"outline",size:"sm",onClick:()=>d(!h),className:"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300",children:h?n.jsx(fu,{className:"h-4 w-4"}):n.jsx(ev,{className:"h-4 w-4"})})}),h&&n.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-black bg-opacity-50",onClick:()=>d(!1),children:n.jsxs("div",{className:"w-64 h-full bg-white dark:bg-gray-800 shadow-lg",children:[n.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:n.jsxs(Vi,{to:"/dashboard",className:"flex items-center space-x-3 group",onClick:()=>d(!1),children:[n.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center shadow-lg",children:n.jsx("img",{src:C1,alt:"TriStar Fitness",className:"w-full h-full object-cover rounded-lg"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"TriStar Fitness"}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r?.role==="owner"?"Gym Owner":"Gym (Manager)"," (",r?.role,")"]})]})]})}),n.jsx("div",{className:"px-4 py-6",children:n.jsx("nav",{className:"space-y-2",children:f.filter(p=>p.requiredRole==="both"||p.requiredRole==="owner"&&r?.role==="owner"||p.requiredRole==="semi-admin"&&r?.role==="semi-admin").map(p=>{const b=p.icon,N=a.pathname===p.path;return n.jsxs(Vi,{to:p.path,onClick:()=>d(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${N?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"text-gray-700 hover:text-green-600 hover:bg-green-50 dark:text-gray-300 dark:hover:text-green-400 dark:hover:bg-gray-700"}`,children:[n.jsx(b,{className:"h-5 w-5"}),n.jsx("span",{children:p.label})]},p.path)})})}),n.jsxs("div",{className:"px-4 py-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx(He,{onClick:o,variant:"outline",size:"sm",className:"w-full justify-start text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 mb-3",children:c==="dark"?n.jsxs(n.Fragment,{children:[n.jsx(h1,{className:"h-4 w-4 mr-2"}),"Light Mode"]}):n.jsxs(n.Fragment,{children:[n.jsx(f1,{className:"h-4 w-4 mr-2"}),"Dark Mode"]})}),n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:n.jsx(ic,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r?.name}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 capitalize",children:r?.role})]})]}),n.jsxs(He,{onClick:l,variant:"outline",size:"sm",className:"w-full text-gray-700 hover:text-red-600 hover:bg-red-50 dark:text-gray-300 dark:hover:text-red-400 dark:hover:bg-red-900/20",children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})]})},rt=Me.forwardRef(({className:i,...a},r)=>n.jsx("div",{ref:r,className:Xr("rounded-lg border bg-card text-card-foreground shadow-sm",i),...a}));rt.displayName="Card";const st=Me.forwardRef(({className:i,...a},r)=>n.jsx("div",{ref:r,className:Xr("flex flex-col space-y-1.5 p-6",i),...a}));st.displayName="CardHeader";const lt=Me.forwardRef(({className:i,...a},r)=>n.jsx("h3",{ref:r,className:Xr("text-2xl font-semibold leading-none tracking-tight",i),...a}));lt.displayName="CardTitle";const py=Me.forwardRef(({className:i,...a},r)=>n.jsx("p",{ref:r,className:Xr("text-sm text-muted-foreground",i),...a}));py.displayName="CardDescription";const at=Me.forwardRef(({className:i,...a},r)=>n.jsx("div",{ref:r,className:Xr("p-6 pt-0",i),...a}));at.displayName="CardContent";const $w=Me.forwardRef(({className:i,...a},r)=>n.jsx("div",{ref:r,className:Xr("flex items-center p-6 pt-0",i),...a}));$w.displayName="CardFooter";const gt=Me.forwardRef(({className:i,type:a,...r},l)=>n.jsx("input",{type:a,className:Xr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:l,...r}));gt.displayName="Input";var e4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],t4=e4.reduce((i,a)=>{const r=my(`Primitive.${a}`),l=Me.forwardRef((c,o)=>{const{asChild:h,...d}=c,f=h?r:a;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(f,{...d,ref:o})});return l.displayName=`Primitive.${a}`,{...i,[a]:l}},{}),r4="Label",gy=Me.forwardRef((i,a)=>n.jsx(t4.label,{...i,ref:a,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(i.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gy.displayName=r4;var xy=gy;const a4=rf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ot=Me.forwardRef(({className:i,...a},r)=>n.jsx(xy,{ref:r,className:Xr(a4(),i),...a}));ot.displayName=xy.displayName;const E1=()=>{const[i,a]=Me.useState({username:"",password:""}),[r,l]=Me.useState(!1),[c,o]=Me.useState(!1),{login:h}=Pa(),d=uc(),{toast:f}=cn(),p=async N=>{N.preventDefault(),o(!0);try{if(await h(i)){const g=JSON.parse(localStorage.getItem("tristar_fitness_user")||"{}");f({title:`Welcome back, ${g.name||"User"}!`,description:"Successfully logged in to TriStar Fitness."}),d("/dashboard")}else f({title:"Login failed",description:"Invalid username or password. Please try again.",variant:"destructive"})}catch{f({title:"Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}},b=(N,S)=>{a(g=>({...g,[N]:S}))};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-600 to-blue-600 rounded-full mb-6 shadow-lg",children:n.jsx(tv,{className:"w-10 h-10 text-white"})}),n.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:"TriStar Fitness"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2 text-lg",children:"Gym Management System"})]}),n.jsxs(rt,{className:"shadow-xl",children:[n.jsxs(st,{className:"text-center",children:[n.jsxs(lt,{className:"flex items-center justify-center space-x-2",children:[n.jsx(ic,{className:"h-5 w-5"}),n.jsx("span",{children:"Sign In"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Access your gym management dashboard"})]}),n.jsx(at,{children:n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"username",children:"Username"}),n.jsx(gt,{id:"username",type:"text",placeholder:"Enter your username",value:i.username,onChange:N=>b("username",N.target.value),required:!0,className:"h-11"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(gt,{id:"password",type:r?"text":"password",placeholder:"Enter your password",value:i.password,onChange:N=>b("password",N.target.value),required:!0,className:"h-11 pr-10"}),n.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:r?n.jsx(Mx,{className:"h-4 w-4"}):n.jsx(Uh,{className:"h-4 w-4"})})]})]}),n.jsx(He,{type:"submit",className:"w-full h-11 bg-green-600 hover:bg-green-700",disabled:c,children:c?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Signing In..."})]}):n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rv,{className:"h-4 w-4"}),n.jsx("span",{children:"Sign In"})]})})]})})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsx("p",{className:"text-xs text-gray-500",children:" 2024 TriStar Fitness. All rights reserved."})})]})})},n4=()=>n.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-6xl font-bold text-gray-900 mb-4",children:"404"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"The page you're looking for doesn't exist."}),n.jsx(Vi,{to:"/",children:n.jsxs(He,{className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Ox,{className:"h-4 w-4 mr-2"}),"Go Home"]})})]})}),i4={};function yy(i,a){let r;try{r=i()}catch{return}return{getItem:c=>{var o;const h=f=>f===null?null:JSON.parse(f,void 0),d=(o=r.getItem(c))!=null?o:null;return d instanceof Promise?d.then(h):h(d)},setItem:(c,o)=>r.setItem(c,JSON.stringify(o,void 0)),removeItem:c=>r.removeItem(c)}}const yd=i=>a=>{try{const r=i(a);return r instanceof Promise?r:{then(l){return yd(l)(r)},catch(l){return this}}}catch(r){return{then(l){return this},catch(l){return yd(l)(r)}}}},s4=(i,a)=>(r,l,c)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,k)=>({...k,...C}),...a},h=!1;const d=new Set,f=new Set;let p;try{p=o.getStorage()}catch{}if(!p)return i((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...C)},l,c);const b=yd(o.serialize),N=()=>{const C=o.partialize({...l()});let k;const D=b({state:C,version:o.version}).then(T=>p.setItem(o.name,T)).catch(T=>{k=T});if(k)throw k;return D},S=c.setState;c.setState=(C,k)=>{S(C,k),N()};const g=i((...C)=>{r(...C),N()},l,c);let E;const w=()=>{var C;if(!p)return;h=!1,d.forEach(D=>D(l()));const k=((C=o.onRehydrateStorage)==null?void 0:C.call(o,l()))||void 0;return yd(p.getItem.bind(p))(o.name).then(D=>{if(D)return o.deserialize(D)}).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==o.version){if(o.migrate)return o.migrate(D.state,D.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return D.state}).then(D=>{var T;return E=o.merge(D,(T=l())!=null?T:g),r(E,!0),N()}).then(()=>{k?.(E,void 0),h=!0,f.forEach(D=>D(E))}).catch(D=>{k?.(void 0,D)})};return c.persist={setOptions:C=>{o={...o,...C},C.getStorage&&(p=C.getStorage())},clearStorage:()=>{p?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>h,onHydrate:C=>(d.add(C),()=>{d.delete(C)}),onFinishHydration:C=>(f.add(C),()=>{f.delete(C)})},w(),E||g},l4=(i,a)=>(r,l,c)=>{let o={storage:yy(()=>localStorage),partialize:w=>w,version:0,merge:(w,C)=>({...C,...w}),...a},h=!1;const d=new Set,f=new Set;let p=o.storage;if(!p)return i((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...w)},l,c);const b=()=>{const w=o.partialize({...l()});return p.setItem(o.name,{state:w,version:o.version})},N=c.setState;c.setState=(w,C)=>{N(w,C),b()};const S=i((...w)=>{r(...w),b()},l,c);c.getInitialState=()=>S;let g;const E=()=>{var w,C;if(!p)return;h=!1,d.forEach(D=>{var T;return D((T=l())!=null?T:S)});const k=((C=o.onRehydrateStorage)==null?void 0:C.call(o,(w=l())!=null?w:S))||void 0;return yd(p.getItem.bind(p))(o.name).then(D=>{if(D)if(typeof D.version=="number"&&D.version!==o.version){if(o.migrate)return[!0,o.migrate(D.state,D.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,D.state];return[!1,void 0]}).then(D=>{var T;const[M,q]=D;if(g=o.merge(q,(T=l())!=null?T:S),r(g,!0),M)return b()}).then(()=>{k?.(g,void 0),g=l(),h=!0,f.forEach(D=>D(g))}).catch(D=>{k?.(void 0,D)})};return c.persist={setOptions:w=>{o={...o,...w},w.storage&&(p=w.storage)},clearStorage:()=>{p?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>E(),hasHydrated:()=>h,onHydrate:w=>(d.add(w),()=>{d.delete(w)}),onFinishHydration:w=>(f.add(w),()=>{f.delete(w)})},o.skipHydration||E(),g||S},o4=(i,a)=>"getStorage"in a||"serialize"in a||"deserialize"in a?((i4?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),s4(i,a)):l4(i,a),c4=o4,Ba=()=>{const i=Date.now().toString(36),a=Math.random().toString(36).substr(2,5);return`${i}-${a}`},Ja=av()(c4((i,a)=>({members:[],trainers:[],visitors:[],invoices:[],followUps:[],activities:[],checkIns:[],proteins:[],pricing:{monthlyFee:1999,quarterlyFee:5500,halfYearlyFee:6999,yearlyFee:8500,personalTrainingFee:5500},termsAndConditions:`TRI-STAR FITNESS TERMS AND CONDITIONS

1. MEMBERSHIP TERMS
   - All memberships are non-refundable
   - Membership fees must be paid in advance
   - Late payments may result in membership suspension

2. GYM RULES
   - Proper gym attire required
   - No food or drinks in workout areas
   - Equipment must be returned after use
   - Respect other members and staff

3. LIABILITY
   - Members use equipment at their own risk
   - Gym is not responsible for lost or stolen items
   - Medical clearance may be required for certain activities

4. CANCELLATION POLICY
   - 30 days notice required for membership cancellation
   - No refunds for unused membership time
   - Cancellation fees may apply

By signing up, you agree to these terms and conditions.`,lastInvoiceSequence:0,initializeDemoData:()=>{const r=a();r.members.length===0&&r.invoices.length===0&&r.followUps.length===0?(i({members:[],trainers:[],visitors:[],invoices:[],followUps:[],activities:[],checkIns:[],proteins:[]}),console.log("No existing data found: Initialized empty data store")):console.log("Existing data found: Skipping demo data initialization")},addMember:r=>{const l={...r,id:Ba(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i(c=>({members:[...c.members,l],activities:[...c.activities,{id:Ba(),type:"member",action:"Added new member",name:l.name,time:new Date().toISOString(),details:`Added member ${l.name} with ${l.membershipType} membership`,memberId:l.id}]}))},updateMember:(r,l)=>{i(c=>({members:c.members.map(o=>o.id===r?{...o,...l,updatedAt:new Date().toISOString()}:o),activities:[...c.activities,{id:Ba(),type:"member",action:"Updated member",name:l.name||c.members.find(o=>o.id===r)?.name||"Unknown",time:new Date().toISOString(),details:"Updated member information",memberId:r}]}))},deleteMember:r=>{const l=a().members.find(c=>c.id===r);i(c=>({members:c.members.filter(o=>o.id!==r),activities:[...c.activities,{id:Ba(),type:"member",action:"Deleted member",name:l?.name||"Unknown",time:new Date().toISOString(),details:`Deleted member ${l?.name}`,memberId:r}]}))},getMemberById:r=>a().members.find(l=>l.id===r),addInvoice:r=>{const l=r.id;let c=a().lastInvoiceSequence+1,o=`MP${c.toString().padStart(4,"0")}`;if(l&&/^MP(\d+)$/i.test(l)){const d=l.match(/^MP(\d+)$/i),f=parseInt(d[1],10)||c;o=`MP${f.toString().padStart(4,"0")}`,c=Math.max(c,f)}const h={...r,id:o,amount:r.total??r.amount,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return i(d=>({invoices:[...d.invoices,h],lastInvoiceSequence:c,activities:[...d.activities,{id:Ba(),type:"invoice",action:"Created invoice",name:h.memberName,time:new Date().toISOString(),details:`Created invoice for ${h.memberName} - Amount: ${h.amount}`,memberId:h.memberId}]})),h},updateInvoice:(r,l)=>{i(c=>({invoices:c.invoices.map(o=>o.id===r?{...o,...l,updatedAt:new Date().toISOString()}:o),activities:[...c.activities,{id:Ba(),type:"invoice",action:"Updated invoice",name:l.memberName||c.invoices.find(o=>o.id===r)?.memberName||"Unknown",time:new Date().toISOString(),details:"Updated invoice information",memberId:l.memberId||c.invoices.find(o=>o.id===r)?.memberId}]}))},deleteInvoice:r=>{const l=a().invoices.find(c=>c.id===r);i(c=>({invoices:c.invoices.filter(o=>o.id!==r),activities:[...c.activities,{id:Ba(),type:"invoice",action:"Deleted invoice",name:l?.memberName||"Unknown",time:new Date().toISOString(),details:`Deleted invoice for ${l?.memberName}`,memberId:l?.memberId}]}))},getInvoiceById:r=>a().invoices.find(l=>l.id===r),generateInvoiceNumber:()=>{const r=a().lastInvoiceSequence+1;return i(l=>({lastInvoiceSequence:r})),`MP${r.toString().padStart(4,"0")}`},addFollowUp:r=>{const l={...r,id:Ba(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i(c=>({followUps:[...c.followUps,l],activities:[...c.activities,{id:Ba(),type:"followup",action:"Added follow-up",name:l.name,time:new Date().toISOString(),details:`Added follow-up for ${l.name}`}]}))},updateFollowUp:(r,l)=>{i(c=>({followUps:c.followUps.map(o=>o.id===r?{...o,...l,updatedAt:new Date().toISOString()}:o),activities:[...c.activities,{id:Ba(),type:"followup",action:"Updated follow-up",name:l.name||c.followUps.find(o=>o.id===r)?.name||"Unknown",time:new Date().toISOString(),details:"Updated follow-up information"}]}))},deleteFollowUp:r=>{const l=a().followUps.find(c=>c.id===r);i(c=>({followUps:c.followUps.filter(o=>o.id!==r),activities:[...c.activities,{id:Ba(),type:"followup",action:"Deleted follow-up",name:l?.name||"Unknown",time:new Date().toISOString(),details:`Deleted follow-up for ${l?.name}`}]}))},getFollowUpById:r=>a().followUps.find(l=>l.id===r),addActivity:r=>{const l={...r,id:Ba()};i(c=>({activities:[...c.activities,l]}))},getActivitiesByType:r=>a().activities.filter(l=>l.type===r),addCheckIn:r=>{const l={...r,id:Ba()};i(c=>({checkIns:[...c.checkIns,l],activities:[...c.activities,{id:Ba(),type:"checkin",action:"Member checked in",name:l.memberName,time:new Date().toISOString(),details:`${l.memberName} checked in at ${l.checkInTime}`,memberId:l.memberId}]}))},getCheckInsByMember:r=>a().checkIns.filter(l=>l.memberId===r),getCheckInsByDate:r=>a().checkIns.filter(l=>l.date===r),addVisitor:r=>{const l={...r,id:Ba(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};i(c=>({visitors:[...c.visitors,l],activities:[...c.activities,{id:Ba(),type:"member",action:"Visitor registered",name:l.name||"Unknown",time:new Date().toISOString(),details:`New visitor registered: ${l.name}`}]}))},updateVisitor:(r,l)=>{i(c=>({visitors:c.visitors.map(o=>o.id===r?{...o,...l,updatedAt:new Date().toISOString()}:o),activities:[...c.activities,{id:Ba(),type:"member",action:"Visitor updated",name:l.name||c.visitors.find(o=>o.id===r)?.name||"Unknown",time:new Date().toISOString(),details:"Visitor information updated"}]}))},addProtein:r=>{const l={...r,id:Ba(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),margin:r.sellingPrice-r.basePrice,profit:(r.sellingPrice-r.basePrice)*r.unitsSold};i(c=>({proteins:[...c.proteins,l]}))},updateProtein:(r,l)=>{i(c=>({proteins:c.proteins.map(o=>o.id===r?{...o,...l,updatedAt:new Date().toISOString(),margin:l.sellingPrice?l.sellingPrice-o.basePrice:o.margin,profit:l.sellingPrice?(l.sellingPrice-o.basePrice)*o.unitsSold:o.profit}:o)}))},deleteProtein:r=>{i(l=>({proteins:l.proteins.filter(c=>c.id!==r)}))},getProteinById:r=>a().proteins.find(l=>l.id===r),recordProteinSale:(r,l)=>{const c=a().proteins.find(o=>o.id===r);if(!c)throw new Error("Protein not found");if(c.quantityInStock<l)throw new Error("Insufficient stock");i(o=>({proteins:o.proteins.map(h=>h.id===r?{...h,quantityInStock:h.quantityInStock-l,unitsSold:h.unitsSold+l,updatedAt:new Date().toISOString(),profit:(h.sellingPrice-h.basePrice)*(h.unitsSold+l)}:h),activities:[...o.activities,{id:Ba(),type:"member",action:"Protein sale recorded",name:c.name,time:new Date().toISOString(),details:`Sold ${l} units of ${c.name} for ${c.sellingPrice*l}`}]}))},updatePricing:r=>{i(l=>({pricing:{...l.pricing,...r}}))},updateTermsAndConditions:r=>{i({termsAndConditions:r})},setPricing:r=>{i(l=>({pricing:{...l.pricing,...r}}))},setTermsAndConditions:r=>{i({termsAndConditions:r})},exportData:()=>{const r=a();return JSON.stringify({members:r.members,invoices:r.invoices,followUps:r.followUps,activities:r.activities,checkIns:r.checkIns,proteins:r.proteins,pricing:r.pricing,termsAndConditions:r.termsAndConditions,lastInvoiceSequence:r.lastInvoiceSequence},null,2)},importData:r=>{try{const l=JSON.parse(r);i({members:l.members||[],trainers:l.trainers||[],visitors:l.visitors||[],invoices:l.invoices||[],followUps:l.followUps||[],activities:l.activities||[],checkIns:l.checkIns||[],proteins:l.proteins||[],pricing:l.pricing||{monthlyFee:1999,quarterlyFee:5500,halfYearlyFee:6999,yearlyFee:8500,personalTrainingFee:5500},termsAndConditions:l.termsAndConditions||"",lastInvoiceSequence:l.lastInvoiceSequence||0})}catch(l){console.error("Failed to import data:",l)}},clearAllData:()=>{i({members:[],trainers:[],visitors:[],invoices:[],followUps:[],activities:[],checkIns:[],proteins:[],lastInvoiceSequence:0})},refreshData:async()=>{try{const[r,l,c,o,h,d,f]=await Promise.all([ti("members"),ti("trainers"),ti("visitors"),ti("invoices"),ti("followups"),ti("activities"),ti("proteins")]);i(p=>{const b=(N,S)=>{if(!S||S.length===0)return N;const g=new Map;for(const E of N)g.set(E.id,E);for(const E of S)g.set(E.id,{...g.get(E.id)||{},...E});return Array.from(g.values())};return{members:b(p.members,r),trainers:l&&l.length>0?l:p.trainers,visitors:c&&c.length>0?c:p.visitors,invoices:b(p.invoices,o),followUps:b(p.followUps,h),activities:b(p.activities,d),proteins:b(p.proteins,f)}}),console.log("Refreshed data with merge")}catch(r){console.error("Failed to refresh data:",r)}},autoExpireMembers:async()=>{const r=new Date;i(l=>({members:l.members.map(c=>new Date(c.endDate)<r&&c.status==="active"?{...c,status:"expired"}:c)}))}}),{name:"tristar-fitness-storage",partialize:i=>({members:i.members,invoices:i.invoices,followUps:i.followUps,activities:i.activities,checkIns:i.checkIns,proteins:i.proteins,pricing:i.pricing,termsAndConditions:i.termsAndConditions,lastInvoiceSequence:i.lastInvoiceSequence}),storage:yy(()=>localStorage),skipHydration:!1,onRehydrateStorage:()=>i=>{console.log("Rehydration complete",i),i&&console.log("DataStore initialized with:",{members:i.members?.length||0,invoices:i.invoices?.length||0,followUps:i.followUps?.length||0,activities:i.activities?.length||0,proteins:i.proteins?.length||0})}})),u4=()=>{const{user:i}=Pa(),{toast:a}=cn(),{members:r,invoices:l,followUps:c,activities:o,checkIns:h,proteins:d,addFollowUp:f}=Ja(),p=uc(),b=P=>{const B=new Date,F=new Date(P).getTime()-B.getTime();return Math.ceil(F/(1e3*60*60*24))},N=r.length,S=r.filter(P=>P.status==="active").length;r.filter(P=>{const B=P,V=B.expiryDate||B.endDate;return V?b(V)<0:!1}).length;const g=l.filter(P=>P.status==="paid").reduce((P,B)=>P+(Number(B.amount_paid??B.amountPaid??B.total??B.amount)||0),0),E=l.filter(P=>P.status==="pending").reduce((P,B)=>P+(Number(B.amount_remaining??0)||0),0),w=l.filter(P=>P.status==="overdue").reduce((P,B)=>P+(Number(B.amount_remaining??0)||0),0),C=h.filter(P=>{const B=new Date().toDateString();return new Date(P.checkInTime).toDateString()===B}).length,k=c.filter(P=>P.status==="new").length,D=o.slice(0,5),T=d.filter(P=>P.quantityInStock<5),M=d.filter(P=>{if(!P.expiryDate)return!1;const B=new Date(P.expiryDate),V=new Date,F=B.getTime()-V.getTime(),re=Math.ceil(F/(1e3*60*60*24));return re<=30&&re>0}),q=r.filter(P=>{const B=P,V=B.expiryDate||B.endDate;if(!V)return!1;const F=b(V);return F<=10&&F>=0&&P.status==="active"}).sort((P,B)=>{const V=P,F=B,re=V.expiryDate||V.endDate,U=F.expiryDate||F.endDate;return b(re)-b(U)}).slice(0,5);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 text-white p-6 rounded-lg",children:[n.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",i?.name,"!"]}),n.jsx("p",{className:"text-green-100 mt-2",children:"Here's what's happening at Tri Star Fitness today"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>p("/members"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Members"}),n.jsx(Ni,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:N}),n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:[S," active"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>p("/analytics"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),n.jsx(Wh,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(at,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["",g.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["",E.toLocaleString()," pending"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>p("/member-checkin"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Today's Check-ins"}),n.jsx(Js,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:C}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Members checked in today"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>p("/followups"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Follow-ups"}),n.jsx(ac,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:k}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Require attention"})]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Qs,{className:"h-5 w-5 text-orange-600"}),n.jsx("span",{children:"Expiring Memberships"}),n.jsxs(_r,{variant:"outline",className:"ml-auto",children:[q.length," expiring soon"]})]})}),n.jsx(at,{children:q.length>0?n.jsxs("div",{className:"space-y-3",children:[q.map(P=>{const B=P,V=B.expiryDate||B.endDate,F=b(V),re=()=>F<=3?"text-red-600 bg-red-100":F<=7?"text-orange-600 bg-orange-100":F<=15?"text-yellow-600 bg-yellow-100":"text-blue-600 bg-blue-100";return n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:n.jsx(Ni,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:P.name}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(wd,{className:"h-3 w-3"}),n.jsx("span",{children:P.phone})]})]})]}),n.jsxs("div",{className:"text-right space-y-2",children:[n.jsx(_r,{className:`px-2 py-1 text-xs font-semibold rounded-full ${re()}`,children:F===0?"Expires Today":`${F} days left`}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Expires: ",new Date(V).toLocaleDateString()]}),n.jsx("button",{onClick:()=>{f({name:P.name,phone:P.phone,source:"membership_expiry",interest:"membership_renewal",status:"new",followUpDate:V,notes:`Membership expiring in ${F} day(s)`}),a({title:"Follow-up created",description:`${P.name} added to follow-ups`})},className:"text-sm px-3 py-1 border border-blue-300 rounded-md text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300",children:"Create Follow-up"})]})]},P.id)}),n.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:n.jsx("button",{onClick:()=>p("/members"),className:"w-full text-center py-2 text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"View All Members "})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Expiring Memberships"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"All memberships are up to date!"})]})})]}),(T.length>0||M.length>0)&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(mu,{className:"h-5 w-5 text-purple-600"}),n.jsx("span",{children:"Protein Store Alerts"}),n.jsxs(_r,{variant:"outline",className:"ml-auto",children:[T.length+M.length," alerts"]})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-4",children:[T.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium text-red-600 dark:text-red-400 mb-2 flex items-center",children:[n.jsx(wu,{className:"h-4 w-4 mr-2"}),"Low Stock Products"]}),n.jsx("div",{className:"space-y-2",children:T.map(P=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n.jsx("span",{className:"text-red-700 dark:text-red-300",children:P.name}),n.jsxs(_r,{variant:"destructive",children:[P.quantityInStock," left"]})]},P.id))})]}),M.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium text-yellow-600 dark:text-yellow-400 mb-2 flex items-center",children:[n.jsx(ji,{className:"h-4 w-4 mr-2"}),"Products Near Expiry"]}),n.jsx("div",{className:"space-y-2",children:M.map(P=>{const B=new Date(P.expiryDate),V=new Date,F=B.getTime()-V.getTime(),re=Math.ceil(F/(1e3*60*60*24));return n.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[n.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:P.name}),n.jsxs(_r,{variant:"secondary",children:[re," days left"]})]},P.id)})})]}),n.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:n.jsx("button",{onClick:()=>p("/protein-store"),className:"w-full text-center py-2 text-sm text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 font-medium",children:"Manage Protein Store "})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Qh,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Quick Actions"})]})}),n.jsx(at,{className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>p("/analytics"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"View Analytics"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Business insights"})]}),n.jsxs("button",{onClick:()=>p("/members"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Manage Members"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add, edit, view"})]}),n.jsxs("button",{onClick:()=>p("/invoices"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Generate Invoices"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Create new invoices"})]}),n.jsxs("button",{onClick:()=>p("/protein-store"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Protein Store"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage supplements"})]}),n.jsxs("button",{onClick:()=>p("/settings"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Settings"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gym configuration"})]}),n.jsxs("button",{onClick:async()=>{try{(await fetch("/api/sync-all",{method:"POST",credentials:"include"})).ok?a({title:"Sync started",description:"JSON data regenerated successfully."}):a({title:"Sync failed",description:"Unable to sync JSON files",variant:"destructive"})}catch(P){a({title:"Sync error",description:String(P),variant:"destructive"})}},className:"p-3 text-left border border-blue-300 dark:border-blue-600 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Sync All Data"}),n.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Regenerate JSON caches"})]})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(ji,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"Recent Activity"})]})}),n.jsx(at,{children:n.jsx("div",{className:"space-y-3",children:D.map(P=>n.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50 dark:bg-gray-700",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:P.action}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[P.name,"  ",new Date(P.time).toLocaleTimeString()]})]})]},P.id))})})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Nd,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"Revenue Overview"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["",g.toLocaleString()]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"})]}),n.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:["",E.toLocaleString()]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending Payments"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["",w.toLocaleString()]}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Overdue Payments"})]})]})})]})]})},L1=()=>{const{user:i}=Pa(),{members:a,followUps:r,activities:l,checkIns:c,proteins:o,addFollowUp:h}=Ja(),d=uc(),f=D=>{const T=new Date,q=new Date(D).getTime()-T.getTime();return Math.ceil(q/(1e3*60*60*24))},p=a.filter(D=>D.status==="active").length,b=a.filter(D=>{const T=D.expiryDate||D.endDate;return T?f(T)<0:!1}).length,N=a.filter(D=>D.status==="pending").length,S=c.filter(D=>{const T=new Date().toDateString();return new Date(D.checkInTime).toDateString()===T}).length,g=r.filter(D=>D.status==="pending").length,E=l.slice(0,5),w=o.filter(D=>D.quantityInStock<5),C=o.filter(D=>{if(!D.expiryDate)return!1;const T=new Date(D.expiryDate),M=new Date,q=T.getTime()-M.getTime(),P=Math.ceil(q/(1e3*60*60*24));return P<=30&&P>0}),k=a.filter(D=>{const T=D.expiryDate||D.endDate;if(!T)return!1;const M=f(T);return M<=10&&M>=0&&D.status==="active"}).sort((D,T)=>{const M=D.expiryDate||D.endDate,q=T.expiryDate||T.endDate;return f(M)-f(q)}).slice(0,5);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg",children:[n.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",i?.name,"!"]}),n.jsx("p",{className:"text-blue-100 mt-2",children:"Here's what's happening at Tri Star Fitness today"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/members"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Members"}),n.jsx(Ni,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:p}),n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:[b," expired"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/member-checkin"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Today's Check-ins"}),n.jsx(Js,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:S}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Members checked in today"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/followups"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Follow-ups"}),n.jsx(ac,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:g}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Require attention"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/members"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Members"}),n.jsx(wu,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:N}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Awaiting approval"})]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Qs,{className:"h-5 w-5 text-orange-600"}),n.jsx("span",{children:"Expiring Memberships"}),n.jsxs(_r,{variant:"outline",className:"ml-auto",children:[k.length," expiring soon"]})]})}),n.jsx(at,{children:k.length>0?n.jsxs("div",{className:"space-y-3",children:[k.map(D=>{const T=D.expiryDate||D.endDate,M=f(T),q=()=>M<=3?"text-red-600 bg-red-100":M<=7?"text-orange-600 bg-orange-100":M<=15?"text-yellow-600 bg-yellow-100":"text-blue-600 bg-blue-100";return n.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center",children:n.jsx(Ni,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:D.name}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(wd,{className:"h-3 w-3"}),n.jsx("span",{children:D.phone})]})]})]}),n.jsxs("div",{className:"text-right space-y-2",children:[n.jsx(_r,{className:`px-2 py-1 text-xs font-semibold rounded-full ${q()}`,children:M===0?"Expires Today":`${M} days left`}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Expires: ",new Date(T).toLocaleDateString()]}),n.jsx("button",{onClick:()=>h({memberId:D.id,memberName:D.name,type:"membership_renewal",status:"pending",dueDate:D.expiryDate||D.endDate,notes:`Membership expiring in ${M} day(s)`}),className:"text-sm px-3 py-1 border border-blue-300 rounded-md text-blue-700 hover:bg-blue-50 dark:border-blue-600 dark:text-blue-300",children:"Create Follow-up"})]})]},D.id)}),n.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:n.jsx("button",{onClick:()=>d("/members"),className:"w-full text-center py-2 text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 font-medium",children:"View All Members "})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Expiring Memberships"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"All memberships are up to date!"})]})})]}),(w.length>0||C.length>0)&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(mu,{className:"h-5 w-5 text-purple-600"}),n.jsx("span",{children:"Protein Store Alerts"}),n.jsxs(_r,{variant:"outline",className:"ml-auto",children:[w.length+C.length," alerts"]})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-4",children:[w.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium text-red-600 dark:text-red-400 mb-2 flex items-center",children:[n.jsx(wu,{className:"h-4 w-4 mr-2"}),"Low Stock Products"]}),n.jsx("div",{className:"space-y-2",children:w.map(D=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n.jsx("span",{className:"text-red-700 dark:text-red-300",children:D.name}),n.jsxs(_r,{variant:"destructive",children:[D.quantityInStock," left"]})]},D.id))})]}),C.length>0&&n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium text-yellow-600 dark:text-yellow-400 mb-2 flex items-center",children:[n.jsx(ji,{className:"h-4 w-4 mr-2"}),"Products Near Expiry"]}),n.jsx("div",{className:"space-y-2",children:C.map(D=>{const T=new Date(D.expiryDate),M=new Date,q=T.getTime()-M.getTime(),P=Math.ceil(q/(1e3*60*60*24));return n.jsxs("div",{className:"flex items-center justify-between p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[n.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:D.name}),n.jsxs(_r,{variant:"secondary",children:[P," days left"]})]},D.id)})})]}),n.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-600",children:n.jsx("button",{onClick:()=>d("/protein-store"),className:"w-full text-center py-2 text-sm text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 font-medium",children:"Manage Protein Store "})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Qh,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Quick Actions"})]})}),n.jsx(at,{className:"space-y-3",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("button",{onClick:()=>d("/member-checkin"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Member Check-in"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Check in members"})]}),n.jsxs("button",{onClick:()=>d("/members"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Manage Members"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View member details"})]}),n.jsxs("button",{onClick:()=>d("/followups"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Follow-ups"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage tasks"})]}),n.jsxs("button",{onClick:()=>d("/protein-store"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Protein Store"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage supplements"})]}),n.jsxs("button",{onClick:()=>d("/visitors"),className:"p-3 text-left border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Visitor Details"}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Track visitors"})]})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(ji,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"Recent Activity"})]})}),n.jsx(at,{children:n.jsx("div",{className:"space-y-3",children:E.map(D=>n.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg bg-gray-50 dark:bg-gray-700",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:D.action}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[D.name,"  ",new Date(D.time).toLocaleTimeString()]})]})]},D.id))})})]})]})]})},d4=()=>{const{user:i}=Pa();return i?.role==="owner"?n.jsx(u4,{}):i?.role==="semi-admin"?n.jsx(L1,{}):n.jsx(L1,{})},h4=()=>{const{toast:i}=cn(),{user:a}=Pa(),[r,l]=Me.useState(""),[c,o]=Me.useState("all"),{members:h,deleteMember:d,pricing:f,refreshData:p}=Ja();Me.useEffect(()=>{p()},[p]);const b=T=>{const M=h.find(q=>q.id===T);M&&(d(T),i({title:"Member Deleted",description:`${M.name} has been removed from the system.`}))},N=T=>{const M=h.find(q=>q.id===T);M&&i({title:"Membership Renewed",description:`${M.name}'s membership has been renewed successfully!`})},S=T=>{switch(T){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=T=>{if(!T)return 0;const M=new Date,P=new Date(T).getTime()-M.getTime();return Math.ceil(P/(1e3*60*60*24))},E=T=>{if(!T)return{text:"No expiry date",color:"text-gray-600 bg-gray-100",icon:""};const M=g(T);return M<0?{text:"EXPIRED",color:"text-red-600 bg-red-100",icon:""}:M<=3?{text:`${M} days left`,color:"text-red-600 bg-red-100",icon:""}:M<=7?{text:`${M} days left`,color:"text-orange-600 bg-orange-100",icon:""}:M<=30?{text:`${M} days left`,color:"text-yellow-600 bg-yellow-100",icon:""}:{text:`${M} days left`,color:"text-green-600 bg-green-100",icon:""}},w=h.filter(T=>{const M=T.name.toLowerCase().includes(r.toLowerCase())||T.email.toLowerCase().includes(r.toLowerCase())||T.phone.includes(r),q=c==="all"||T.status===c;return M&&q}),C=h.filter(T=>T.status==="active").length,k=h.filter(T=>{const M=T.expiryDate||T.endDate;return M?g(M)<0:!1}).length,D=h.filter(T=>T.status==="pending").length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Members"}),n.jsx("p",{className:"text-gray-600",children:"Manage your gym members and their memberships"})]}),(bo(a)||_1(a)||tc(a))&&n.jsx(Vi,{to:"/add-member",children:n.jsxs(He,{className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Add Member"]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(He,{variant:"outline",onClick:async()=>{try{const T=h||[];if(!T||T.length===0){i({title:"No Data",description:"No member data available to print",variant:"destructive"});return}const M=window.open("","_blank");if(!M)return;const q=["Name","Email","Phone","Membership Type","Start Date","End Date","Status","Total Visits"],P=T.map(V=>[V.name||"",V.email||"",V.phone||"",V.membershipType||"",V.startDate?new Date(V.startDate).toLocaleDateString():"",V.expiryDate||V.endDate?new Date(V.expiryDate||V.endDate).toLocaleDateString():"",V.status||"",V.totalVisits||0]),B=`
                <!DOCTYPE html>
                <html>
                <head>
                  <title>Tri Star Fitness - Members Report</title>
                  <style>
                    body { font-family: Arial, sans-serif; margin: 20px; }
                    h1 { color: #2563eb; text-align: center; }
                    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                    th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                    th { background-color: #f2f2f2; font-weight: bold; }
                    .header { text-align: center; margin-bottom: 20px; }
                    .date { color: #666; font-size: 12px; }
                  </style>
                </head>
                <body>
                  <div class="header">
                    <h1>Tri Star Fitness</h1>
                    <h2>Members Report</h2>
                    <p class="date">Generated on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>
                  </div>
                  <table>
                    <thead>
                      <tr>${q.map(V=>`<th>${V}</th>`).join("")}</tr>
                    </thead>
                    <tbody>
                      ${P.map(V=>`<tr>${V.map(F=>`<td>${F}</td>`).join("")}</tr>`).join("")}
                    </tbody>
                  </table>
                  <p style="margin-top: 20px; font-size: 12px; color: #666;">
                    Total Members: ${T.length}
                  </p>
                </body>
                </html>
              `;M.document.write(B),M.document.close(),M.focus(),M.print(),i({title:"Print Ready",description:"Member data has been prepared for printing"})}catch(T){console.error("Print error:",T),i({title:"Print Error",description:"Failed to prepare data for printing",variant:"destructive"})}},children:"Print Data"}),n.jsx(He,{variant:"outline",onClick:async()=>{try{const T=h||[];if(!T||T.length===0){i({title:"No Data",description:"No member data available to export",variant:"destructive"});return}const M=af(T),q=new Blob([M],{type:"text/csv;charset=utf-8;"}),P=URL.createObjectURL(q),B=document.createElement("a");B.href=P,B.download=`tri-star-fitness-members_${new Date().toISOString().slice(0,10)}.csv`,B.click(),URL.revokeObjectURL(P),i({title:"Export Successful",description:"Member data has been exported to CSV"})}catch(T){console.error("Export error:",T),i({title:"Export Error",description:"Failed to export member data",variant:"destructive"})}},children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs(rt,{children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium",children:"Total Members"}),n.jsx(Ni,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold",children:h.length}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[C," active"]})]})]}),n.jsxs(rt,{children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium",children:"Active Members"}),n.jsx(Js,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold",children:C}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[(C/h.length*100).toFixed(1),"% retention"]})]})]}),n.jsxs(rt,{children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium",children:"Expired"}),n.jsx(wu,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold",children:k}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Need renewal"})]})]})]}),n.jsxs(rt,{children:[n.jsx(st,{children:n.jsx(lt,{children:"Search & Filter"})}),n.jsx(at,{children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Fm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx(gt,{placeholder:"Search by name, email, or phone...",value:r,onChange:T=>l(T.target.value),className:"pl-10"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(He,{variant:c==="all"?"default":"outline",size:"sm",onClick:()=>o("all"),children:["All (",h.length,")"]}),n.jsxs(He,{variant:c==="active"?"default":"outline",size:"sm",onClick:()=>o("active"),children:["Active (",C,")"]}),n.jsxs(He,{variant:c==="expired"?"default":"outline",size:"sm",onClick:()=>o("expired"),children:["Expired (",k,")"]}),n.jsxs(He,{variant:c==="pending"?"default":"outline",size:"sm",onClick:()=>o("pending"),children:["Pending (",D,")"]})]})]})})]}),n.jsxs(rt,{children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Ni,{className:"h-5 w-5"}),n.jsxs("span",{children:["Member List (",w.length,")"]})]})}),n.jsx(at,{children:w.length===0?n.jsx("p",{className:"text-gray-600 text-center py-8",children:"No members found matching your criteria"}):n.jsx("div",{className:"space-y-4",children:w.map(T=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("h3",{className:"font-medium text-lg",children:T.name}),n.jsx(_r,{className:S(T.status),children:T.status.toUpperCase()}),n.jsxs(_r,{className:`px-2 py-1 text-xs font-semibold rounded-full ${E(T.expiryDate||T.endDate).color}`,children:[n.jsx("span",{className:"mr-1",children:E(T.expiryDate||T.endDate).icon}),E(T.expiryDate||T.endDate).text]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(Bm,{className:"h-4 w-4"}),n.jsx("span",{children:T.email})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(wd,{className:"h-4 w-4"}),n.jsx("span",{children:T.phone})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(ji,{className:"h-4 w-4"}),n.jsxs("span",{children:["Expires: ",T.expiryDate||T.endDate?Rn(vi(T.expiryDate||T.endDate),"dd MMM yyyy"):"N/A"]})]})]}),n.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[n.jsxs("span",{className:"mr-4",children:["Membership: ",T.membershipType]}),n.jsxs("span",{className:"mr-4",children:["Total Visits: ",T.totalVisits]}),T.lastVisit&&n.jsxs("span",{children:["Last Visit: ",Rn(vi(T.lastVisit),"dd MMM yyyy HH:mm")]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[T.status==="expired"&&n.jsx(He,{size:"sm",onClick:()=>N(T.id),className:"bg-green-600 hover:bg-green-700",children:"Renew"}),(bo(a)||_1(a)||tc(a))&&n.jsxs(n.Fragment,{children:[n.jsx(Vi,{to:`/edit-member/${T.id}`,children:n.jsxs(He,{variant:"outline",size:"sm",children:[n.jsx($h,{className:"h-4 w-4 mr-1"}),"Edit"]})}),n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>b(T.id),className:"text-red-600 hover:text-red-700",children:[n.jsx(ef,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})]})},T.id))})})]})]})},f4=()=>{const i=uc(),{toast:a}=cn(),{addMember:r,pricing:l,refreshData:c}=Ja(),[o,h]=Me.useState({name:"",email:"",phone:"",membershipStartDate:"",membershipType:"monthly"}),[d,f]=Me.useState(!1),p=async N=>{N.preventDefault(),f(!0);try{console.log("Form submitted with data:",o);const S=new Date(o.membershipStartDate),g=new Date(S);switch(o.membershipType){case"monthly":g.setMonth(g.getMonth()+1);break;case"quarterly":g.setMonth(g.getMonth()+3);break;case"annual":g.setFullYear(g.getFullYear()+1);break}const E={name:o.name,email:o.email,phone:o.phone,membershipType:o.membershipType,startDate:o.membershipStartDate,expiryDate:g.toISOString().split("T")[0],endDate:g.toISOString().split("T")[0],status:"pending",lastVisit:void 0,totalVisits:0};console.log("Adding new member:",E);try{const w=await vs.createMember(E);if(console.log("API response:",w),w.success)await r(E),await c(),a({title:"Success!",description:`${E.name} has been added successfully.`}),i("/members");else throw new Error(w.error||"Failed to create member")}catch(w){console.error("API error:",w),console.log("API failed, adding to local store only"),await r(E),a({title:"Member Added (Offline)",description:`${E.name} has been added locally. Will sync when backend is available.`,variant:"default"}),i("/members")}}catch(S){console.error("Error adding member:",S),a({title:"Error",description:"Failed to add member. Please try again.",variant:"destructive"})}finally{f(!1)}},b=(N,S)=>{h(g=>({...g,[N]:S}))};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Vi,{to:"/members",children:n.jsxs(He,{variant:"outline",size:"sm",children:[n.jsx(xd,{className:"h-4 w-4 mr-2"}),"Back"]})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Add Member"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Register a new gym member"})]})]})}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsxs(lt,{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[n.jsx(Ni,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"New Member Registration"})]})}),n.jsx(at,{className:"p-6",children:n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ot,{htmlFor:"name",className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300",children:[n.jsx(ic,{className:"h-4 w-4"}),n.jsx("span",{children:"Full Name *"})]}),n.jsx(gt,{id:"name",type:"text",placeholder:"Enter full name",value:o.name,onChange:N=>b("name",N.target.value),required:!0,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ot,{htmlFor:"email",className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300",children:[n.jsx(Bm,{className:"h-4 w-4"}),n.jsx("span",{children:"Email Address *"})]}),n.jsx(gt,{id:"email",type:"email",placeholder:"Enter email address",value:o.email,onChange:N=>b("email",N.target.value),required:!0,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ot,{htmlFor:"phone",className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300",children:[n.jsx(wd,{className:"h-4 w-4"}),n.jsx("span",{children:"Phone Number *"})]}),n.jsx(gt,{id:"phone",type:"tel",placeholder:"+91 98765 43210",value:o.phone,onChange:N=>b("phone",N.target.value),required:!0,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(ot,{htmlFor:"startDate",className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300",children:[n.jsx(ji,{className:"h-4 w-4"}),n.jsx("span",{children:"Membership Start Date *"})]}),n.jsx(gt,{id:"startDate",type:"date",value:o.membershipStartDate,onChange:N=>b("membershipStartDate",N.target.value),required:!0,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsxs(ot,{htmlFor:"duration",className:"flex items-center space-x-2 text-gray-700 dark:text-gray-300",children:[n.jsx(Ni,{className:"h-4 w-4"}),n.jsx("span",{children:"Membership Duration *"})]}),n.jsxs("select",{id:"duration",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:o.membershipType,onChange:N=>b("membershipType",N.target.value),required:!0,children:[n.jsxs("option",{value:"monthly",children:["1 Month - ",On(l.monthlyFee)]}),n.jsxs("option",{value:"quarterly",children:["3 Months - ",On(l.quarterlyFee)]}),n.jsxs("option",{value:"annual",children:["1 Year - ",On(l.yearlyFee)]})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[n.jsx(Vi,{to:"/members",children:n.jsx(He,{type:"button",variant:"outline",className:"hover:scale-105 transition-transform duration-200",children:"Cancel"})}),n.jsx(He,{type:"submit",className:"bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200",disabled:d,children:d?"Saving...":"Save Member"})]})]})})]})]})},bn=qb,vn=Hb,ln=Me.forwardRef(({className:i,children:a,...r},l)=>n.jsxs(jx,{ref:l,className:Xr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",i),...r,children:[a,n.jsx(Ib,{asChild:!0,children:n.jsx(Rx,{className:"h-4 w-4 opacity-50"})})]}));ln.displayName=jx.displayName;const by=Me.forwardRef(({className:i,...a},r)=>n.jsx(Sx,{ref:r,className:Xr("flex cursor-default items-center justify-center py-1",i),...a,children:n.jsx(nv,{className:"h-4 w-4"})}));by.displayName=Sx.displayName;const vy=Me.forwardRef(({className:i,...a},r)=>n.jsx(kx,{ref:r,className:Xr("flex cursor-default items-center justify-center py-1",i),...a,children:n.jsx(Rx,{className:"h-4 w-4"})}));vy.displayName=kx.displayName;const on=Me.forwardRef(({className:i,children:a,position:r="popper",...l},c)=>n.jsx(Fb,{children:n.jsxs(_x,{ref:c,className:Xr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",i),position:r,...l,children:[n.jsx(by,{}),n.jsx(Bb,{className:Xr("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),n.jsx(vy,{})]})}));on.displayName=_x.displayName;const m4=Me.forwardRef(({className:i,...a},r)=>n.jsx(Ax,{ref:r,className:Xr("py-1.5 pl-8 pr-2 text-sm font-semibold",i),...a}));m4.displayName=Ax.displayName;const Vt=Me.forwardRef(({className:i,children:a,...r},l)=>n.jsxs(Cx,{ref:l,className:Xr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",i),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Pb,{children:n.jsx(iv,{className:"h-4 w-4"})})}),n.jsx(Ub,{children:a})]}));Vt.displayName=Cx.displayName;const p4=Me.forwardRef(({className:i,...a},r)=>n.jsx(Ex,{ref:r,className:Xr("-mx-1 my-1 h-px bg-muted",i),...a}));p4.displayName=Ex.displayName;const g4=()=>{const{id:i}=Xb(),a=uc(),[r]=Kb(),{toast:l}=cn(),{members:c,pricing:o,updateMember:h,getMemberById:d}=Ja(),[f,p]=Me.useState(null),[b,N]=Me.useState(!1),[S,g]=Me.useState({name:"",email:"",phone:"",membershipType:"monthly",startDate:"",expiryDate:"",status:"active"});Me.useEffect(()=>{if(r.get("renew")==="true"){N(!0);const q=r.get("name")||"",P=r.get("email")||"",B=r.get("phone")||"",V=r.get("membershipType")||"monthly",F=new Date().toISOString().split("T")[0],re=C(F,V);g({name:q,email:P,phone:B,membershipType:V,startDate:F,expiryDate:re,status:"active"});const U={id:i||"1",name:q,email:P,phone:B,membershipType:V,startDate:F,expiryDate:re,status:"active",lastVisit:new Date().toISOString(),totalVisits:0};p(U)}else{const q=d(i||"");if(q){const P={id:q.id,name:q.name,email:q.email,phone:q.phone,membershipType:q.membershipType,startDate:q.startDate,expiryDate:q.endDate||q.expiryDate||"",status:q.status,lastVisit:q.lastVisit,totalVisits:q.totalVisits||0};p(P),g({name:P.name,email:P.email,phone:P.phone,membershipType:P.membershipType,startDate:P.startDate,expiryDate:P.expiryDate,status:P.status})}else l({title:"Error",description:"Member not found",variant:"destructive"}),a("/members")}},[i,r]);const E=M=>{const{name:q,value:P}=M.target;g(B=>({...B,[q]:P}))},w=(M,q)=>{g(P=>({...P,[M]:q}))},C=(M,q)=>{const P=new Date(M);let B=new Date(P);switch(q){case"monthly":B.setMonth(B.getMonth()+1);break;case"quarterly":B.setMonth(B.getMonth()+3);break;case"annual":B.setFullYear(B.getFullYear()+1);break}return B.toISOString().split("T")[0]},k=M=>{const q=M;g(P=>{const B=C(P.startDate,q);return{...P,membershipType:q,expiryDate:B}})},D=M=>{g(q=>{const P=C(M,q.membershipType);return{...q,startDate:M,expiryDate:P}})},T=()=>{if(!S.name||!S.email||!S.phone){l({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}f&&(h(f.id,{name:S.name,email:S.email,phone:S.phone,membershipType:S.membershipType,startDate:S.startDate,endDate:S.expiryDate,status:S.status}),l(b?{title:"Success",description:`Membership renewed successfully for ${S.name}`}:{title:"Success",description:`Member ${S.name} updated successfully`}),a("/members"))};return f?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(Vi,{to:"/members",children:n.jsxs(He,{variant:"outline",size:"sm",children:[n.jsx(xd,{className:"h-4 w-4 mr-2"}),"Back"]})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:b?"Renew Membership":"Edit Member"}),n.jsx("p",{className:"text-gray-600",children:b?"Renew membership with updated details":"Update member information"})]})]})}),b&&n.jsx(rt,{className:"border-green-200 bg-green-50",children:n.jsx(at,{className:"pt-6",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(ji,{className:"h-4 w-4 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-green-800",children:"Membership Renewal"}),n.jsxs("p",{className:"text-sm text-green-700",children:["Renewing membership for ",f.name,". All personal details are pre-filled. You can modify the membership type and dates as needed."]})]})]})})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2",children:n.jsxs(rt,{children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Ni,{className:"h-5 w-5"}),n.jsx("span",{children:b?"Renew Membership Details":"Edit Member Details"})]})}),n.jsxs(at,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"name",children:"Full Name *"}),n.jsx(gt,{id:"name",name:"name",value:S.name,onChange:E,placeholder:"Enter member's full name"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"email",children:"Email *"}),n.jsx(gt,{id:"email",name:"email",type:"email",value:S.email,onChange:E,placeholder:"member@email.com"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"phone",children:"Phone Number *"}),n.jsx(gt,{id:"phone",name:"phone",value:S.phone,onChange:E,placeholder:"+91 98765 43210"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"status",children:"Status *"}),n.jsxs(bn,{value:S.status,onValueChange:M=>w("status",M),children:[n.jsx(ln,{children:n.jsx(vn,{})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"active",children:"Active"}),n.jsx(Vt,{value:"expired",children:"Expired"}),n.jsx(Vt,{value:"pending",children:"Pending"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"membershipType",children:"Membership Type *"}),n.jsxs(bn,{value:S.membershipType,onValueChange:k,children:[n.jsx(ln,{children:n.jsx(vn,{})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"monthly",children:"Monthly"}),n.jsx(Vt,{value:"quarterly",children:"Quarterly"}),n.jsx(Vt,{value:"annual",children:"Annual"})]})]})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"startDate",children:"Start Date *"}),n.jsx(gt,{id:"startDate",name:"startDate",type:"date",value:S.startDate,onChange:M=>D(M.target.value),disabled:!b}),!b&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Start date cannot be changed for existing memberships"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"expiryDate",children:"Expiry Date"}),n.jsx(gt,{id:"expiryDate",name:"expiryDate",type:"date",value:S.expiryDate,onChange:E,disabled:!0})]})]}),n.jsxs("div",{className:"flex space-x-2 pt-4",children:[n.jsxs(He,{onClick:T,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),b?"Renew Membership":"Save Changes"]}),n.jsx(Vi,{to:"/members",children:n.jsx(He,{variant:"outline",children:"Cancel"})})]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(rt,{children:[n.jsx(st,{children:n.jsx(lt,{children:b?"New Membership":"Current Membership"})}),n.jsxs(at,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Type:"}),n.jsx("span",{className:"font-medium",children:f.membershipType})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${f.status==="active"?"bg-green-100 text-green-800":f.status==="expired"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:f.status.toUpperCase()})]}),b&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Start Date:"}),n.jsx("span",{className:"font-medium",children:new Date(S.startDate).toLocaleDateString()})]}),b&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Expiry Date:"}),n.jsx("span",{className:"font-medium",children:new Date(S.expiryDate).toLocaleDateString()})]})]})]}),n.jsxs(rt,{children:[n.jsx(st,{children:n.jsx(lt,{children:"Activity"})}),n.jsxs(at,{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Total Visits:"}),n.jsx("span",{className:"font-medium",children:f.totalVisits})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Last Visit:"}),n.jsx("span",{className:"font-medium",children:f.lastVisit?new Date(f.lastVisit).toLocaleDateString():"Never"})]})]})]}),n.jsxs(rt,{children:[n.jsx(st,{children:n.jsx(lt,{children:"Quick Actions"})}),n.jsxs(at,{className:"space-y-2",children:[!b&&n.jsxs(He,{variant:"outline",className:"w-full",size:"sm",onClick:()=>{const M=new Date().toISOString().split("T")[0];C(M,S.membershipType),a(`/edit-member/${f?.id}?renew=true&name=${encodeURIComponent(S.name)}&email=${encodeURIComponent(S.email)}&phone=${encodeURIComponent(S.phone)}&membershipType=${S.membershipType}`)},children:[n.jsx(ji,{className:"h-4 w-4 mr-2"}),"Renew Membership"]}),n.jsx(He,{variant:"outline",className:"w-full",size:"sm",onClick:()=>{l({title:"Reminder Sent",description:`Payment reminder sent to ${f?.name} at ${f?.email}`})},children:"Send Reminder"}),b&&n.jsxs(He,{variant:"outline",className:"w-full",size:"sm",onClick:()=>a("/members"),children:[n.jsx(xd,{className:"h-4 w-4 mr-2"}),"Back to Members"]})]})]})]})]})]}):n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-green-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading member details..."})]})})},lc=Me.forwardRef(({className:i,...a},r)=>n.jsx("textarea",{className:Xr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:r,...a}));lc.displayName="Textarea";var iu={},L0,T1;function x4(){return T1||(T1=1,L0=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),L0}var T0={},go={},D1;function dc(){if(D1)return go;D1=1;let i;const a=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return go.getSymbolSize=function(l){if(!l)throw new Error('"version" cannot be null or undefined');if(l<1||l>40)throw new Error('"version" should be in range from 1 to 40');return l*4+17},go.getSymbolTotalCodewords=function(l){return a[l]},go.getBCHDigit=function(r){let l=0;for(;r!==0;)l++,r>>>=1;return l},go.setToSJISFunction=function(l){if(typeof l!="function")throw new Error('"toSJISFunc" is not a valid function.');i=l},go.isKanjiModeEnabled=function(){return typeof i<"u"},go.toSJIS=function(l){return i(l)},go}var D0={},O1;function Vm(){return O1||(O1=1,(function(i){i.L={bit:1},i.M={bit:0},i.Q={bit:3},i.H={bit:2};function a(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return i.L;case"m":case"medium":return i.M;case"q":case"quartile":return i.Q;case"h":case"high":return i.H;default:throw new Error("Unknown EC Level: "+r)}}i.isValid=function(l){return l&&typeof l.bit<"u"&&l.bit>=0&&l.bit<4},i.from=function(l,c){if(i.isValid(l))return l;try{return a(l)}catch{return c}}})(D0)),D0}var O0,M1;function y4(){if(M1)return O0;M1=1;function i(){this.buffer=[],this.length=0}return i.prototype={get:function(a){const r=Math.floor(a/8);return(this.buffer[r]>>>7-a%8&1)===1},put:function(a,r){for(let l=0;l<r;l++)this.putBit((a>>>r-l-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(a){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),a&&(this.buffer[r]|=128>>>this.length%8),this.length++}},O0=i,O0}var M0,R1;function b4(){if(R1)return M0;R1=1;function i(a){if(!a||a<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=a,this.data=new Uint8Array(a*a),this.reservedBit=new Uint8Array(a*a)}return i.prototype.set=function(a,r,l,c){const o=a*this.size+r;this.data[o]=l,c&&(this.reservedBit[o]=!0)},i.prototype.get=function(a,r){return this.data[a*this.size+r]},i.prototype.xor=function(a,r,l){this.data[a*this.size+r]^=l},i.prototype.isReserved=function(a,r){return this.reservedBit[a*this.size+r]},M0=i,M0}var R0={},z1;function v4(){return z1||(z1=1,(function(i){const a=dc().getSymbolSize;i.getRowColCoords=function(l){if(l===1)return[];const c=Math.floor(l/7)+2,o=a(l),h=o===145?26:Math.ceil((o-13)/(2*c-2))*2,d=[o-7];for(let f=1;f<c-1;f++)d[f]=d[f-1]-h;return d.push(6),d.reverse()},i.getPositions=function(l){const c=[],o=i.getRowColCoords(l),h=o.length;for(let d=0;d<h;d++)for(let f=0;f<h;f++)d===0&&f===0||d===0&&f===h-1||d===h-1&&f===0||c.push([o[d],o[f]]);return c}})(R0)),R0}var z0={},I1;function w4(){if(I1)return z0;I1=1;const i=dc().getSymbolSize,a=7;return z0.getPositions=function(l){const c=i(l);return[[0,0],[c-a,0],[0,c-a]]},z0}var I0={},F1;function N4(){return F1||(F1=1,(function(i){i.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const a={N1:3,N2:3,N3:40,N4:10};i.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},i.from=function(c){return i.isValid(c)?parseInt(c,10):void 0},i.getPenaltyN1=function(c){const o=c.size;let h=0,d=0,f=0,p=null,b=null;for(let N=0;N<o;N++){d=f=0,p=b=null;for(let S=0;S<o;S++){let g=c.get(N,S);g===p?d++:(d>=5&&(h+=a.N1+(d-5)),p=g,d=1),g=c.get(S,N),g===b?f++:(f>=5&&(h+=a.N1+(f-5)),b=g,f=1)}d>=5&&(h+=a.N1+(d-5)),f>=5&&(h+=a.N1+(f-5))}return h},i.getPenaltyN2=function(c){const o=c.size;let h=0;for(let d=0;d<o-1;d++)for(let f=0;f<o-1;f++){const p=c.get(d,f)+c.get(d,f+1)+c.get(d+1,f)+c.get(d+1,f+1);(p===4||p===0)&&h++}return h*a.N2},i.getPenaltyN3=function(c){const o=c.size;let h=0,d=0,f=0;for(let p=0;p<o;p++){d=f=0;for(let b=0;b<o;b++)d=d<<1&2047|c.get(p,b),b>=10&&(d===1488||d===93)&&h++,f=f<<1&2047|c.get(b,p),b>=10&&(f===1488||f===93)&&h++}return h*a.N3},i.getPenaltyN4=function(c){let o=0;const h=c.data.length;for(let f=0;f<h;f++)o+=c.data[f];return Math.abs(Math.ceil(o*100/h/5)-10)*a.N4};function r(l,c,o){switch(l){case i.Patterns.PATTERN000:return(c+o)%2===0;case i.Patterns.PATTERN001:return c%2===0;case i.Patterns.PATTERN010:return o%3===0;case i.Patterns.PATTERN011:return(c+o)%3===0;case i.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(o/3))%2===0;case i.Patterns.PATTERN101:return c*o%2+c*o%3===0;case i.Patterns.PATTERN110:return(c*o%2+c*o%3)%2===0;case i.Patterns.PATTERN111:return(c*o%3+(c+o)%2)%2===0;default:throw new Error("bad maskPattern:"+l)}}i.applyMask=function(c,o){const h=o.size;for(let d=0;d<h;d++)for(let f=0;f<h;f++)o.isReserved(f,d)||o.xor(f,d,r(c,f,d))},i.getBestMask=function(c,o){const h=Object.keys(i.Patterns).length;let d=0,f=1/0;for(let p=0;p<h;p++){o(p),i.applyMask(p,c);const b=i.getPenaltyN1(c)+i.getPenaltyN2(c)+i.getPenaltyN3(c)+i.getPenaltyN4(c);i.applyMask(p,c),b<f&&(f=b,d=p)}return d}})(I0)),I0}var bh={},B1;function wy(){if(B1)return bh;B1=1;const i=Vm(),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return bh.getBlocksCount=function(c,o){switch(o){case i.L:return a[(c-1)*4+0];case i.M:return a[(c-1)*4+1];case i.Q:return a[(c-1)*4+2];case i.H:return a[(c-1)*4+3];default:return}},bh.getTotalCodewordsCount=function(c,o){switch(o){case i.L:return r[(c-1)*4+0];case i.M:return r[(c-1)*4+1];case i.Q:return r[(c-1)*4+2];case i.H:return r[(c-1)*4+3];default:return}},bh}var F0={},dd={},P1;function j4(){if(P1)return dd;P1=1;const i=new Uint8Array(512),a=new Uint8Array(256);return(function(){let l=1;for(let c=0;c<255;c++)i[c]=l,a[l]=c,l<<=1,l&256&&(l^=285);for(let c=255;c<512;c++)i[c]=i[c-255]})(),dd.log=function(l){if(l<1)throw new Error("log("+l+")");return a[l]},dd.exp=function(l){return i[l]},dd.mul=function(l,c){return l===0||c===0?0:i[a[l]+a[c]]},dd}var U1;function S4(){return U1||(U1=1,(function(i){const a=j4();i.mul=function(l,c){const o=new Uint8Array(l.length+c.length-1);for(let h=0;h<l.length;h++)for(let d=0;d<c.length;d++)o[h+d]^=a.mul(l[h],c[d]);return o},i.mod=function(l,c){let o=new Uint8Array(l);for(;o.length-c.length>=0;){const h=o[0];for(let f=0;f<c.length;f++)o[f]^=a.mul(c[f],h);let d=0;for(;d<o.length&&o[d]===0;)d++;o=o.slice(d)}return o},i.generateECPolynomial=function(l){let c=new Uint8Array([1]);for(let o=0;o<l;o++)c=i.mul(c,new Uint8Array([1,a.exp(o)]));return c}})(F0)),F0}var B0,q1;function k4(){if(q1)return B0;q1=1;const i=S4();function a(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return a.prototype.initialize=function(l){this.degree=l,this.genPoly=i.generateECPolynomial(this.degree)},a.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const c=new Uint8Array(l.length+this.degree);c.set(l);const o=i.mod(c,this.genPoly),h=this.degree-o.length;if(h>0){const d=new Uint8Array(this.degree);return d.set(o,h),d}return o},B0=a,B0}var P0={},U0={},q0={},H1;function Ny(){return H1||(H1=1,q0.isValid=function(a){return!isNaN(a)&&a>=1&&a<=40}),q0}var Gs={},V1;function jy(){if(V1)return Gs;V1=1;const i="[0-9]+",a="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const l="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;Gs.KANJI=new RegExp(r,"g"),Gs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Gs.BYTE=new RegExp(l,"g"),Gs.NUMERIC=new RegExp(i,"g"),Gs.ALPHANUMERIC=new RegExp(a,"g");const c=new RegExp("^"+r+"$"),o=new RegExp("^"+i+"$"),h=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Gs.testKanji=function(f){return c.test(f)},Gs.testNumeric=function(f){return o.test(f)},Gs.testAlphanumeric=function(f){return h.test(f)},Gs}var G1;function hc(){return G1||(G1=1,(function(i){const a=Ny(),r=jy();i.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},i.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},i.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},i.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},i.MIXED={bit:-1},i.getCharCountIndicator=function(o,h){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!a.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?o.ccBits[0]:h<27?o.ccBits[1]:o.ccBits[2]},i.getBestModeForData=function(o){return r.testNumeric(o)?i.NUMERIC:r.testAlphanumeric(o)?i.ALPHANUMERIC:r.testKanji(o)?i.KANJI:i.BYTE},i.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},i.isValid=function(o){return o&&o.bit&&o.ccBits};function l(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return i.NUMERIC;case"alphanumeric":return i.ALPHANUMERIC;case"kanji":return i.KANJI;case"byte":return i.BYTE;default:throw new Error("Unknown mode: "+c)}}i.from=function(o,h){if(i.isValid(o))return o;try{return l(o)}catch{return h}}})(U0)),U0}var Y1;function _4(){return Y1||(Y1=1,(function(i){const a=dc(),r=wy(),l=Vm(),c=hc(),o=Ny(),h=7973,d=a.getBCHDigit(h);function f(S,g,E){for(let w=1;w<=40;w++)if(g<=i.getCapacity(w,E,S))return w}function p(S,g){return c.getCharCountIndicator(S,g)+4}function b(S,g){let E=0;return S.forEach(function(w){const C=p(w.mode,g);E+=C+w.getBitsLength()}),E}function N(S,g){for(let E=1;E<=40;E++)if(b(S,E)<=i.getCapacity(E,g,c.MIXED))return E}i.from=function(g,E){return o.isValid(g)?parseInt(g,10):E},i.getCapacity=function(g,E,w){if(!o.isValid(g))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=c.BYTE);const C=a.getSymbolTotalCodewords(g),k=r.getTotalCodewordsCount(g,E),D=(C-k)*8;if(w===c.MIXED)return D;const T=D-p(w,g);switch(w){case c.NUMERIC:return Math.floor(T/10*3);case c.ALPHANUMERIC:return Math.floor(T/11*2);case c.KANJI:return Math.floor(T/13);case c.BYTE:default:return Math.floor(T/8)}},i.getBestVersionForData=function(g,E){let w;const C=l.from(E,l.M);if(Array.isArray(g)){if(g.length>1)return N(g,C);if(g.length===0)return 1;w=g[0]}else w=g;return f(w.mode,w.getLength(),C)},i.getEncodedBits=function(g){if(!o.isValid(g)||g<7)throw new Error("Invalid QR Code version");let E=g<<12;for(;a.getBCHDigit(E)-d>=0;)E^=h<<a.getBCHDigit(E)-d;return g<<12|E}})(P0)),P0}var H0={},Z1;function A4(){if(Z1)return H0;Z1=1;const i=dc(),a=1335,r=21522,l=i.getBCHDigit(a);return H0.getEncodedBits=function(o,h){const d=o.bit<<3|h;let f=d<<10;for(;i.getBCHDigit(f)-l>=0;)f^=a<<i.getBCHDigit(f)-l;return(d<<10|f)^r},H0}var V0={},G0,X1;function C4(){if(X1)return G0;X1=1;const i=hc();function a(r){this.mode=i.NUMERIC,this.data=r.toString()}return a.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){let c,o,h;for(c=0;c+3<=this.data.length;c+=3)o=this.data.substr(c,3),h=parseInt(o,10),l.put(h,10);const d=this.data.length-c;d>0&&(o=this.data.substr(c),h=parseInt(o,10),l.put(h,d*3+1))},G0=a,G0}var Y0,K1;function E4(){if(K1)return Y0;K1=1;const i=hc(),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(l){this.mode=i.ALPHANUMERIC,this.data=l}return r.getBitsLength=function(c){return 11*Math.floor(c/2)+6*(c%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(c){let o;for(o=0;o+2<=this.data.length;o+=2){let h=a.indexOf(this.data[o])*45;h+=a.indexOf(this.data[o+1]),c.put(h,11)}this.data.length%2&&c.put(a.indexOf(this.data[o]),6)},Y0=r,Y0}var Z0,Q1;function L4(){if(Q1)return Z0;Q1=1;const i=hc();function a(r){this.mode=i.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return a.getBitsLength=function(l){return l*8},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(r){for(let l=0,c=this.data.length;l<c;l++)r.put(this.data[l],8)},Z0=a,Z0}var X0,J1;function T4(){if(J1)return X0;J1=1;const i=hc(),a=dc();function r(l){this.mode=i.KANJI,this.data=l}return r.getBitsLength=function(c){return c*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(l){let c;for(c=0;c<this.data.length;c++){let o=a.toSJIS(this.data[c]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[c]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),l.put(o,13)}},X0=r,X0}var K0={exports:{}},W1;function D4(){return W1||(W1=1,(function(i){var a={single_source_shortest_paths:function(r,l,c){var o={},h={};h[l]=0;var d=a.PriorityQueue.make();d.push(l,0);for(var f,p,b,N,S,g,E,w,C;!d.empty();){f=d.pop(),p=f.value,N=f.cost,S=r[p]||{};for(b in S)S.hasOwnProperty(b)&&(g=S[b],E=N+g,w=h[b],C=typeof h[b]>"u",(C||w>E)&&(h[b]=E,d.push(b,E),o[b]=p))}if(typeof c<"u"&&typeof h[c]>"u"){var k=["Could not find a path from ",l," to ",c,"."].join("");throw new Error(k)}return o},extract_shortest_path_from_predecessor_list:function(r,l){for(var c=[],o=l;o;)c.push(o),r[o],o=r[o];return c.reverse(),c},find_path:function(r,l,c){var o=a.single_source_shortest_paths(r,l,c);return a.extract_shortest_path_from_predecessor_list(o,c)},PriorityQueue:{make:function(r){var l=a.PriorityQueue,c={},o;r=r||{};for(o in l)l.hasOwnProperty(o)&&(c[o]=l[o]);return c.queue=[],c.sorter=r.sorter||l.default_sorter,c},default_sorter:function(r,l){return r.cost-l.cost},push:function(r,l){var c={value:r,cost:l};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};i.exports=a})(K0)),K0.exports}var $1;function O4(){return $1||($1=1,(function(i){const a=hc(),r=C4(),l=E4(),c=L4(),o=T4(),h=jy(),d=dc(),f=D4();function p(k){return unescape(encodeURIComponent(k)).length}function b(k,D,T){const M=[];let q;for(;(q=k.exec(T))!==null;)M.push({data:q[0],index:q.index,mode:D,length:q[0].length});return M}function N(k){const D=b(h.NUMERIC,a.NUMERIC,k),T=b(h.ALPHANUMERIC,a.ALPHANUMERIC,k);let M,q;return d.isKanjiModeEnabled()?(M=b(h.BYTE,a.BYTE,k),q=b(h.KANJI,a.KANJI,k)):(M=b(h.BYTE_KANJI,a.BYTE,k),q=[]),D.concat(T,M,q).sort(function(B,V){return B.index-V.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function S(k,D){switch(D){case a.NUMERIC:return r.getBitsLength(k);case a.ALPHANUMERIC:return l.getBitsLength(k);case a.KANJI:return o.getBitsLength(k);case a.BYTE:return c.getBitsLength(k)}}function g(k){return k.reduce(function(D,T){const M=D.length-1>=0?D[D.length-1]:null;return M&&M.mode===T.mode?(D[D.length-1].data+=T.data,D):(D.push(T),D)},[])}function E(k){const D=[];for(let T=0;T<k.length;T++){const M=k[T];switch(M.mode){case a.NUMERIC:D.push([M,{data:M.data,mode:a.ALPHANUMERIC,length:M.length},{data:M.data,mode:a.BYTE,length:M.length}]);break;case a.ALPHANUMERIC:D.push([M,{data:M.data,mode:a.BYTE,length:M.length}]);break;case a.KANJI:D.push([M,{data:M.data,mode:a.BYTE,length:p(M.data)}]);break;case a.BYTE:D.push([{data:M.data,mode:a.BYTE,length:p(M.data)}])}}return D}function w(k,D){const T={},M={start:{}};let q=["start"];for(let P=0;P<k.length;P++){const B=k[P],V=[];for(let F=0;F<B.length;F++){const re=B[F],U=""+P+F;V.push(U),T[U]={node:re,lastCount:0},M[U]={};for(let A=0;A<q.length;A++){const H=q[A];T[H]&&T[H].node.mode===re.mode?(M[H][U]=S(T[H].lastCount+re.length,re.mode)-S(T[H].lastCount,re.mode),T[H].lastCount+=re.length):(T[H]&&(T[H].lastCount=re.length),M[H][U]=S(re.length,re.mode)+4+a.getCharCountIndicator(re.mode,D))}}q=V}for(let P=0;P<q.length;P++)M[q[P]].end=0;return{map:M,table:T}}function C(k,D){let T;const M=a.getBestModeForData(k);if(T=a.from(D,M),T!==a.BYTE&&T.bit<M.bit)throw new Error('"'+k+'" cannot be encoded with mode '+a.toString(T)+`.
 Suggested mode is: `+a.toString(M));switch(T===a.KANJI&&!d.isKanjiModeEnabled()&&(T=a.BYTE),T){case a.NUMERIC:return new r(k);case a.ALPHANUMERIC:return new l(k);case a.KANJI:return new o(k);case a.BYTE:return new c(k)}}i.fromArray=function(D){return D.reduce(function(T,M){return typeof M=="string"?T.push(C(M,null)):M.data&&T.push(C(M.data,M.mode)),T},[])},i.fromString=function(D,T){const M=N(D,d.isKanjiModeEnabled()),q=E(M),P=w(q,T),B=f.find_path(P.map,"start","end"),V=[];for(let F=1;F<B.length-1;F++)V.push(P.table[B[F]].node);return i.fromArray(g(V))},i.rawSplit=function(D){return i.fromArray(N(D,d.isKanjiModeEnabled()))}})(V0)),V0}var e2;function M4(){if(e2)return T0;e2=1;const i=dc(),a=Vm(),r=y4(),l=b4(),c=v4(),o=w4(),h=N4(),d=wy(),f=k4(),p=_4(),b=A4(),N=hc(),S=O4();function g(P,B){const V=P.size,F=o.getPositions(B);for(let re=0;re<F.length;re++){const U=F[re][0],A=F[re][1];for(let H=-1;H<=7;H++)if(!(U+H<=-1||V<=U+H))for(let j=-1;j<=7;j++)A+j<=-1||V<=A+j||(H>=0&&H<=6&&(j===0||j===6)||j>=0&&j<=6&&(H===0||H===6)||H>=2&&H<=4&&j>=2&&j<=4?P.set(U+H,A+j,!0,!0):P.set(U+H,A+j,!1,!0))}}function E(P){const B=P.size;for(let V=8;V<B-8;V++){const F=V%2===0;P.set(V,6,F,!0),P.set(6,V,F,!0)}}function w(P,B){const V=c.getPositions(B);for(let F=0;F<V.length;F++){const re=V[F][0],U=V[F][1];for(let A=-2;A<=2;A++)for(let H=-2;H<=2;H++)A===-2||A===2||H===-2||H===2||A===0&&H===0?P.set(re+A,U+H,!0,!0):P.set(re+A,U+H,!1,!0)}}function C(P,B){const V=P.size,F=p.getEncodedBits(B);let re,U,A;for(let H=0;H<18;H++)re=Math.floor(H/3),U=H%3+V-8-3,A=(F>>H&1)===1,P.set(re,U,A,!0),P.set(U,re,A,!0)}function k(P,B,V){const F=P.size,re=b.getEncodedBits(B,V);let U,A;for(U=0;U<15;U++)A=(re>>U&1)===1,U<6?P.set(U,8,A,!0):U<8?P.set(U+1,8,A,!0):P.set(F-15+U,8,A,!0),U<8?P.set(8,F-U-1,A,!0):U<9?P.set(8,15-U-1+1,A,!0):P.set(8,15-U-1,A,!0);P.set(F-8,8,1,!0)}function D(P,B){const V=P.size;let F=-1,re=V-1,U=7,A=0;for(let H=V-1;H>0;H-=2)for(H===6&&H--;;){for(let j=0;j<2;j++)if(!P.isReserved(re,H-j)){let $=!1;A<B.length&&($=(B[A]>>>U&1)===1),P.set(re,H-j,$),U--,U===-1&&(A++,U=7)}if(re+=F,re<0||V<=re){re-=F,F=-F;break}}}function T(P,B,V){const F=new r;V.forEach(function(j){F.put(j.mode.bit,4),F.put(j.getLength(),N.getCharCountIndicator(j.mode,P)),j.write(F)});const re=i.getSymbolTotalCodewords(P),U=d.getTotalCodewordsCount(P,B),A=(re-U)*8;for(F.getLengthInBits()+4<=A&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const H=(A-F.getLengthInBits())/8;for(let j=0;j<H;j++)F.put(j%2?17:236,8);return M(F,P,B)}function M(P,B,V){const F=i.getSymbolTotalCodewords(B),re=d.getTotalCodewordsCount(B,V),U=F-re,A=d.getBlocksCount(B,V),H=F%A,j=A-H,$=Math.floor(F/A),W=Math.floor(U/A),ie=W+1,ee=$-W,ue=new f(ee);let ve=0;const ce=new Array(A),z=new Array(A);let Q=0;const ae=new Uint8Array(P.buffer);for(let Ae=0;Ae<A;Ae++){const Be=Ae<j?W:ie;ce[Ae]=ae.slice(ve,ve+Be),z[Ae]=ue.encode(ce[Ae]),ve+=Be,Q=Math.max(Q,Be)}const oe=new Uint8Array(F);let ye=0,Se,_e;for(Se=0;Se<Q;Se++)for(_e=0;_e<A;_e++)Se<ce[_e].length&&(oe[ye++]=ce[_e][Se]);for(Se=0;Se<ee;Se++)for(_e=0;_e<A;_e++)oe[ye++]=z[_e][Se];return oe}function q(P,B,V,F){let re;if(Array.isArray(P))re=S.fromArray(P);else if(typeof P=="string"){let $=B;if(!$){const W=S.rawSplit(P);$=p.getBestVersionForData(W,V)}re=S.fromString(P,$||40)}else throw new Error("Invalid data");const U=p.getBestVersionForData(re,V);if(!U)throw new Error("The amount of data is too big to be stored in a QR Code");if(!B)B=U;else if(B<U)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+U+`.
`);const A=T(B,V,re),H=i.getSymbolSize(B),j=new l(H);return g(j,B),E(j),w(j,B),k(j,V,0),B>=7&&C(j,B),D(j,A),isNaN(F)&&(F=h.getBestMask(j,k.bind(null,j,V))),h.applyMask(F,j),k(j,V,F),{modules:j,version:B,errorCorrectionLevel:V,maskPattern:F,segments:re}}return T0.create=function(B,V){if(typeof B>"u"||B==="")throw new Error("No input text");let F=a.M,re,U;return typeof V<"u"&&(F=a.from(V.errorCorrectionLevel,a.M),re=p.from(V.version),U=h.from(V.maskPattern),V.toSJISFunc&&i.setToSJISFunction(V.toSJISFunc)),q(B,re,F,U)},T0}var Q0={},J0={},t2;function Sy(){return t2||(t2=1,(function(i){function a(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let l=r.slice().replace("#","").split("");if(l.length<3||l.length===5||l.length>8)throw new Error("Invalid hex color: "+r);(l.length===3||l.length===4)&&(l=Array.prototype.concat.apply([],l.map(function(o){return[o,o]}))),l.length===6&&l.push("F","F");const c=parseInt(l.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+l.slice(0,6).join("")}}i.getOptions=function(l){l||(l={}),l.color||(l.color={});const c=typeof l.margin>"u"||l.margin===null||l.margin<0?4:l.margin,o=l.width&&l.width>=21?l.width:void 0,h=l.scale||4;return{width:o,scale:o?4:h,margin:c,color:{dark:a(l.color.dark||"#000000ff"),light:a(l.color.light||"#ffffffff")},type:l.type,rendererOpts:l.rendererOpts||{}}},i.getScale=function(l,c){return c.width&&c.width>=l+c.margin*2?c.width/(l+c.margin*2):c.scale},i.getImageWidth=function(l,c){const o=i.getScale(l,c);return Math.floor((l+c.margin*2)*o)},i.qrToImageData=function(l,c,o){const h=c.modules.size,d=c.modules.data,f=i.getScale(h,o),p=Math.floor((h+o.margin*2)*f),b=o.margin*f,N=[o.color.light,o.color.dark];for(let S=0;S<p;S++)for(let g=0;g<p;g++){let E=(S*p+g)*4,w=o.color.light;if(S>=b&&g>=b&&S<p-b&&g<p-b){const C=Math.floor((S-b)/f),k=Math.floor((g-b)/f);w=N[d[C*h+k]?1:0]}l[E++]=w.r,l[E++]=w.g,l[E++]=w.b,l[E]=w.a}}})(J0)),J0}var r2;function R4(){return r2||(r2=1,(function(i){const a=Sy();function r(c,o,h){c.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=h,o.width=h,o.style.height=h+"px",o.style.width=h+"px"}function l(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}i.render=function(o,h,d){let f=d,p=h;typeof f>"u"&&(!h||!h.getContext)&&(f=h,h=void 0),h||(p=l()),f=a.getOptions(f);const b=a.getImageWidth(o.modules.size,f),N=p.getContext("2d"),S=N.createImageData(b,b);return a.qrToImageData(S.data,o,f),r(N,p,b),N.putImageData(S,0,0),p},i.renderToDataURL=function(o,h,d){let f=d;typeof f>"u"&&(!h||!h.getContext)&&(f=h,h=void 0),f||(f={});const p=i.render(o,h,f),b=f.type||"image/png",N=f.rendererOpts||{};return p.toDataURL(b,N.quality)}})(Q0)),Q0}var W0={},a2;function z4(){if(a2)return W0;a2=1;const i=Sy();function a(c,o){const h=c.a/255,d=o+'="'+c.hex+'"';return h<1?d+" "+o+'-opacity="'+h.toFixed(2).slice(1)+'"':d}function r(c,o,h){let d=c+o;return typeof h<"u"&&(d+=" "+h),d}function l(c,o,h){let d="",f=0,p=!1,b=0;for(let N=0;N<c.length;N++){const S=Math.floor(N%o),g=Math.floor(N/o);!S&&!p&&(p=!0),c[N]?(b++,N>0&&S>0&&c[N-1]||(d+=p?r("M",S+h,.5+g+h):r("m",f,0),f=0,p=!1),S+1<o&&c[N+1]||(d+=r("h",b),b=0)):f++}return d}return W0.render=function(o,h,d){const f=i.getOptions(h),p=o.modules.size,b=o.modules.data,N=p+f.margin*2,S=f.color.light.a?"<path "+a(f.color.light,"fill")+' d="M0 0h'+N+"v"+N+'H0z"/>':"",g="<path "+a(f.color.dark,"stroke")+' d="'+l(b,p,f.margin)+'"/>',E='viewBox="0 0 '+N+" "+N+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+E+' shape-rendering="crispEdges">'+S+g+`</svg>
`;return typeof d=="function"&&d(null,C),C},W0}var n2;function I4(){if(n2)return iu;n2=1;const i=x4(),a=M4(),r=R4(),l=z4();function c(o,h,d,f,p){const b=[].slice.call(arguments,1),N=b.length,S=typeof b[N-1]=="function";if(!S&&!i())throw new Error("Callback required as last argument");if(S){if(N<2)throw new Error("Too few arguments provided");N===2?(p=d,d=h,h=f=void 0):N===3&&(h.getContext&&typeof p>"u"?(p=f,f=void 0):(p=f,f=d,d=h,h=void 0))}else{if(N<1)throw new Error("Too few arguments provided");return N===1?(d=h,h=f=void 0):N===2&&!h.getContext&&(f=d,d=h,h=void 0),new Promise(function(g,E){try{const w=a.create(d,f);g(o(w,h,f))}catch(w){E(w)}})}try{const g=a.create(d,f);p(null,o(g,h,f))}catch(g){p(g)}}return iu.create=a.create,iu.toCanvas=c.bind(null,r.render),iu.toDataURL=c.bind(null,r.renderToDataURL),iu.toString=c.bind(null,function(o,h,d){return l.render(o,d)}),iu}var F4=I4();const B4=Tx(F4),P4=()=>{const{toast:i}=cn(),{visitors:a,addVisitor:r,updateVisitor:l,addFollowUp:c,addActivity:o}=Ja(),[h,d]=Me.useState(!1),[f,p]=Me.useState(!1),[b,N]=Me.useState({name:"",phone:"",email:"",purpose:""}),S=async P=>{try{const B=JSON.stringify({visitorId:P.id,name:P.name,phone:P.phone,purpose:P.purpose,timestamp:new Date().toISOString(),type:"visitor_registration"});return await B4.toDataURL(B,{width:200,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(B){return console.error("QR Code generation error:",B),""}},g=P=>{const{name:B,value:V}=P.target;N(F=>({...F,[B]:V}))},E=async()=>{if(!b.name||!b.phone||!b.purpose){i({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const P={name:b.name,phone:b.phone,email:b.email,purpose:b.purpose,checkInTime:new Date().toISOString(),status:"checked-in"};await S(P),r(P),N({name:"",phone:"",email:"",purpose:""}),d(!1),i({title:"Success",description:`${P.name} has been checked in successfully.`})},w=()=>{const P=`${window.location.origin}/visitor-register`,B=window.open("","_blank","width=400,height=500");B&&B.document.write(`
        <html>
          <head>
            <title>Visitor Registration QR Code</title>
            <style>
              body { 
                font-family: Arial, sans-serif; 
                text-align: center; 
                padding: 20px;
                background: #f5f5f5;
              }
              .qr-container {
                background: white;
                padding: 30px;
                border-radius: 10px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                margin: 20px auto;
                max-width: 300px;
              }
              .qr-code {
                margin: 20px 0;
              }
              .info {
                color: #666;
                margin: 10px 0;
              }
              .url {
                background: #f0f0f0;
                padding: 10px;
                border-radius: 5px;
                word-break: break-all;
                font-size: 12px;
                margin: 10px 0;
              }
            </style>
          </head>
          <body>
            <div class="qr-container">
              <h2> TriStar Fitness</h2>
              <h3>Visitor Registration QR Code</h3>
              <div class="qr-code">
                <div id="qrcode"></div>
              </div>
              <p class="info">Scan this QR code to register as a visitor</p>
              <div class="url">${P}</div>
              <p class="info">Or visit the URL directly</p>
            </div>
            <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"><\/script>
            <script>
              QRCode.toCanvas(document.getElementById('qrcode'), '${P}', {
                width: 200,
                margin: 2,
                color: {
                  dark: '#000000',
                  light: '#FFFFFF'
                }
              }, function (error) {
                if (error) console.error(error)
              })
            <\/script>
          </body>
        </html>
      `),i({title:"QR Code Generated",description:"QR code opened in new window. Visitors can scan to register."})},C=async P=>{if(P.qrCodeDataUrl)try{const B=document.createElement("a");B.href=P.qrCodeDataUrl,B.download=`QR_${P.name.replace(/\s+/g,"_")}.png`,document.body.appendChild(B),B.click(),document.body.removeChild(B),i({title:"QR Code Downloaded",description:`QR code for ${P.name} has been downloaded.`})}catch(B){console.error("Download error:",B),i({title:"Download Failed",description:"Failed to download QR code. Please try again.",variant:"destructive"})}},k=P=>{l(P,{status:"checked-out",checkOutTime:new Date().toISOString()}),i({title:"Visitor Checked Out",description:"Visitor has been successfully checked out."})},D=P=>{const B={id:`FU-${Date.now()}`,memberId:P.id,memberName:P.name,type:"membership_expiry",status:"pending",dueDate:new Date(Date.now()+6048e5).toISOString().split("T")[0],notes:`CONVERT TO MEMBER: ${P.name} (${P.phone}). Purpose: ${P.purpose}. High priority conversion candidate.`,createdAt:new Date().toISOString()};c(B),o({type:"followup",action:"Member Conversion",name:`Visitor ${P.name} marked for member conversion`,time:new Date().toISOString(),details:`High priority follow-up for member conversion scheduled for ${B.dueDate}`,memberId:P.id}),i({title:"Conversion Follow-up Added",description:`${P.name} has been added to high-priority member conversion follow-ups.`})},T=P=>{l(P,{status:"checked-in",checkOutTime:void 0}),i({title:"Visitor Checked In",description:"Visitor has been successfully checked in."})},M=a.filter(P=>P.status==="checked-in"),q=a.filter(P=>P.status==="checked-out");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Visitor Management"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:"Track gym visitors and manage check-ins"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsxs(He,{onClick:w,variant:"outline",className:"hover:scale-105 transition-transform duration-200 text-sm sm:text-base",size:"sm",children:[n.jsx(sv,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Generate Visitor QR"}),n.jsx("span",{className:"sm:hidden",children:"QR Code"})]}),n.jsxs(He,{onClick:()=>d(!0),className:"bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200 text-sm sm:text-base",size:"sm",children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Visitor"}),n.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:n.jsxs(at,{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-blue-600 dark:text-blue-400",children:M.length}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Currently Checked In"})]})}),n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:n.jsxs(at,{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-green-600 dark:text-green-400",children:a.length}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Total Visitors Today"})]})}),n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg sm:col-span-2 lg:col-span-1",children:n.jsxs(at,{className:"p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-orange-600 dark:text-orange-400",children:q.length}),n.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:"Checked Out"})]})})]}),h&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg animate-in slide-in-from-top-2 duration-300",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsx(lt,{className:"text-gray-900 dark:text-white",children:"Add New Visitor"})}),n.jsxs(at,{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"name",className:"text-gray-700 dark:text-gray-300",children:"Full Name *"}),n.jsx(gt,{id:"name",name:"name",value:b.name,onChange:g,placeholder:"Enter visitor name",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"phone",className:"text-gray-700 dark:text-gray-300",children:"Phone Number *"}),n.jsx(gt,{id:"phone",name:"phone",value:b.phone,onChange:g,placeholder:"+91 98765 43210",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300",children:"Email Address"}),n.jsx(gt,{id:"email",name:"email",type:"email",value:b.email,onChange:g,placeholder:"visitor@email.com",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"purpose",className:"text-gray-700 dark:text-gray-300",children:"Purpose of Visit *"}),n.jsx(gt,{id:"purpose",name:"purpose",value:b.purpose,onChange:g,placeholder:"Gym tour, consultation, etc.",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(ot,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300",children:"Additional Notes"}),n.jsx(lc,{id:"notes",placeholder:"Any additional information about the visitor...",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(He,{variant:"outline",onClick:()=>d(!1),className:"hover:scale-105 transition-transform duration-200",children:"Cancel"}),n.jsxs(He,{onClick:E,className:"bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200",children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Add Visitor"]})]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsx(lt,{className:"text-gray-900 dark:text-white",children:"Currently Checked In"})}),n.jsx(at,{className:"p-6",children:M.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No visitors currently checked in."}):n.jsx("div",{className:"space-y-4",children:M.map(P=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:shadow-md transition-shadow duration-200",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:n.jsx(Js,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:P.name}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[P.phone,"  ",P.email]}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Purpose: ",P.purpose]}),n.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Checked in: ",new Date(P.checkInTime).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[P.qrCodeDataUrl&&n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>C(P),className:"hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300 dark:hover:bg-blue-900/30 dark:hover:text-blue-300 transition-all duration-200",children:[n.jsx(sc,{className:"h-4 w-4 mr-1"}),"QR"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>D(P),className:"hover:bg-green-50 hover:text-green-700 hover:border-green-300 dark:hover:bg-green-900/30 dark:hover:text-green-300 transition-all duration-200",children:[n.jsx(Kh,{className:"h-4 w-4 mr-1"}),"Follow-up"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>D(P),className:"hover:bg-purple-50 hover:text-purple-700 hover:border-purple-300 dark:hover:bg-purple-900/30 dark:hover:text-purple-300 transition-all duration-200",children:[n.jsx(lv,{className:"h-4 w-4 mr-1"}),"Convert"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>k(P.id),className:"hover:bg-red-50 hover:text-red-700 hover:border-red-300 dark:hover:bg-red-900/30 dark:hover:text-red-300 transition-all duration-200",children:[n.jsx(Ph,{className:"h-4 w-4 mr-1"}),"Check Out"]})]})]},P.id))})})]}),q.length>0&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsx(lt,{className:"text-gray-900 dark:text-white",children:"Recently Checked Out"})}),n.jsx(at,{className:"p-6",children:n.jsx("div",{className:"space-y-4",children:q.slice(0,5).map(P=>n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx(Qs,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:P.name}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[P.phone,"  ",P.purpose]}),n.jsxs("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Checked out: ",P.checkOutTime?new Date(P.checkOutTime).toLocaleString():"Unknown"]})]})]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>T(P.id),className:"hover:bg-green-50 hover:text-green-700 hover:border-green-300 dark:hover:bg-green-900/30 dark:hover:text-green-300 transition-all duration-200",children:[n.jsx(Js,{className:"h-4 w-4 mr-1"}),"Check In"]})]},P.id))})})]})]})},U4=()=>{const{user:i,logout:a,updateUser:r}=Pa(),{toast:l}=cn(),c=uc(),[o,h]=Me.useState(!1),[d,f]=Me.useState(!1),[p,b]=Me.useState({name:i?.name||"",email:i?.email||"",phone:i?.phone||"",username:i?.username||""}),[N,S]=Me.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,E]=Me.useState(!1),[w,C]=Me.useState({name:"",email:"",phone:"",username:"",password:"",role:"trainer"});if(Me.useEffect(()=>{i&&b({name:i.name||"",email:i.email||"",phone:i.phone||"",username:i.username||""})},[i]),!i)return c("/login"),null;const k=()=>{if(!p.name||!p.email){l({title:"Error",description:"Name and email are required",variant:"destructive"});return}const A={...i,name:p.name,email:p.email,phone:p.phone};r&&r(A),localStorage.setItem("tristar_fitness_user",JSON.stringify(A)),l({title:"Profile Updated",description:"Your profile has been updated successfully!"}),h(!1)},D=()=>{if(!N.currentPassword||!N.newPassword||!N.confirmPassword){l({title:"Error",description:"All password fields are required",variant:"destructive"});return}if(N.newPassword!==N.confirmPassword){l({title:"Error",description:"New passwords do not match",variant:"destructive"});return}if(N.newPassword.length<6){l({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}l({title:"Password Changed",description:"Your password has been changed successfully!"}),S({currentPassword:"",newPassword:"",confirmPassword:""})},T=()=>{if(i?.role!=="owner"){l({title:"Access Denied",description:"Only owners can generate login credentials",variant:"destructive"});return}const A=`trainer_${Math.random().toString(36).substr(2,6)}`,H=M();C(j=>({...j,username:A,password:H})),E(!0)},M=()=>{const A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let H="";for(let j=0;j<12;j++)H+=A.charAt(Math.floor(Math.random()*A.length));return H},q=()=>{const A=M();C(H=>({...H,password:A}))},P=()=>{const A=`Username: ${w.username}
Password: ${w.password}`;navigator.clipboard.writeText(A).then(()=>{l({title:"Credentials Copied",description:"Login credentials copied to clipboard"})}).catch(()=>{l({title:"Copy Failed",description:"Could not copy to clipboard. Please copy manually.",variant:"destructive"})})},B=A=>{const{name:H,value:j}=A.target;C($=>({...$,[H]:j}))},V=A=>{C(H=>({...H,role:A}))},F=()=>{if(!w.name||!w.email||!w.phone||!w.username||!w.password){l({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}l({title:"Trainer Created Successfully",description:`Account created for ${w.name} with username: ${w.username}`}),setTimeout(()=>{l({title:"Account Details",description:`Username: ${w.username} | Password: ${w.password} | Role: ${w.role.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase())}`})},1e3),C({name:"",email:"",phone:"",username:"",password:"",role:"trainer"}),E(!1)},re=()=>{E(!1),C({name:"",email:"",phone:"",username:"",password:"",role:"trainer"})},U=()=>{a(),c("/login")};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs(He,{variant:"ghost",size:"sm",onClick:()=>c(-1),className:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[n.jsx(xd,{className:"h-5 w-5 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Back"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:n.jsx(ic,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Management"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 hidden sm:block",children:"Manage your account settings"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 hidden sm:inline",children:["Role: ",i.role]}),n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]})})}),n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",children:n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs(rt,{className:"profile-section bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsxs(st,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between border-b border-gray-200 dark:border-gray-600 space-y-2 sm:space-y-0",children:[n.jsxs(lt,{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-tristar-500 to-tristar-600 rounded-full flex items-center justify-center",children:n.jsx(ic,{className:"h-4 w-4 text-white"})}),n.jsx("span",{children:"Profile Information"})]}),n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>h(!o),className:"hover:bg-tristar-50 hover:text-tristar-700 hover:border-tristar-300 dark:hover:bg-tristar-900/30 dark:hover:text-tristar-300 transition-all duration-200 w-full sm:w-auto",children:[n.jsx($h,{className:"h-4 w-4 mr-2"}),o?"Cancel":"Edit"]})]}),n.jsxs(at,{className:"space-y-4 p-4 sm:p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"name",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Full Name"}),n.jsx(gt,{id:"name",value:p.name,onChange:A=>b({...p,name:A.target.value}),disabled:!o,className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"email",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Email"}),n.jsx(gt,{id:"email",type:"email",value:p.email,onChange:A=>b({...p,email:A.target.value}),disabled:!o,className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"phone",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Phone Number"}),n.jsx(gt,{id:"phone",value:p.phone,onChange:A=>b({...p,phone:A.target.value}),disabled:!o,className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"username",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Username"}),n.jsx(gt,{id:"username",value:p.username,disabled:!0,className:"form-input bg-gray-50 dark:bg-gray-600 dark:border-gray-500 dark:text-gray-300"})]})]}),o&&n.jsxs(He,{onClick:k,className:"btn-primary bg-tristar-600 hover:bg-tristar-700 hover:scale-105 transition-transform duration-200 w-full sm:w-auto",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]}),n.jsxs(rt,{className:"profile-section bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsxs(lt,{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:n.jsx(ld,{className:"h-4 w-4 text-white"})}),n.jsx("span",{children:"Change Password"})]})}),n.jsxs(at,{className:"space-y-4 p-4 sm:p-6",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"currentPassword",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(gt,{id:"currentPassword",type:d?"text":"password",value:N.currentPassword,onChange:A=>S({...N,currentPassword:A.target.value}),className:"form-input pr-10 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),n.jsx(He,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>f(!d),children:d?n.jsx(Mx,{className:"h-4 w-4"}):n.jsx(Uh,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"newPassword",className:"text-gray-700 dark:text-gray-300 font-medium",children:"New Password"}),n.jsx(gt,{id:"newPassword",type:d?"text":"password",value:N.newPassword,onChange:A=>S({...N,newPassword:A.target.value}),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"confirmPassword",className:"text-gray-700 dark:text-gray-300 font-medium",children:"Confirm New Password"}),n.jsx(gt,{id:"confirmPassword",type:d?"text":"password",value:N.confirmPassword,onChange:A=>S({...N,confirmPassword:A.target.value}),className:"form-input dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),n.jsxs(He,{onClick:D,className:"btn-secondary bg-blue-600 hover:bg-blue-700 hover:scale-105 transition-transform duration-200 w-full sm:w-auto",children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Change Password"]})]})]}),i.role==="owner"&&n.jsxs(rt,{className:"profile-section",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Jh,{className:"h-5 w-5 text-purple-600"}),n.jsx("span",{children:"Owner Tools"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:"3"}),n.jsx("div",{className:"text-sm text-green-700",children:"Total Trainers"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"2"}),n.jsx("div",{className:"text-sm text-blue-700",children:"Active Today"})]}),n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"1"}),n.jsx("div",{className:"text-sm text-purple-700",children:"Senior Trainers"})]})]}),g?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"New Trainer Details"}),n.jsx(He,{variant:"outline",size:"sm",onClick:re,children:"Cancel"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"trainerName",children:"Full Name *"}),n.jsx(gt,{id:"trainerName",name:"name",value:w.name,onChange:B,placeholder:"Enter trainer's full name",className:"form-input"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"trainerEmail",children:"Email *"}),n.jsx(gt,{id:"trainerEmail",name:"email",type:"email",value:w.email,onChange:B,placeholder:"trainer@email.com",className:"form-input"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"trainerPhone",children:"Phone Number *"}),n.jsx(gt,{id:"trainerPhone",name:"phone",value:w.phone,onChange:B,placeholder:"+91 98765 43210",className:"form-input"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"trainerRole",children:"Role *"}),n.jsxs(bn,{value:w.role,onValueChange:V,children:[n.jsx(ln,{children:n.jsx(vn,{})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"trainer",children:"Trainer"}),n.jsx(Vt,{value:"senior_trainer",children:"Senior Trainer"}),n.jsx(Vt,{value:"assistant_trainer",children:"Assistant Trainer"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"trainerUsername",children:"Username *"}),n.jsx(gt,{id:"trainerUsername",name:"username",value:w.username,onChange:B,placeholder:"Unique username",className:"form-input"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"trainerPassword",children:"Password *"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(gt,{id:"trainerPassword",name:"password",type:"text",value:w.password,onChange:B,placeholder:"Secure password",className:"form-input flex-1"}),n.jsx(He,{type:"button",variant:"outline",size:"sm",onClick:q,className:"px-3",children:n.jsx(ld,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the key icon to generate a new secure password"}),w.password&&n.jsx("div",{className:"mt-2",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-600",children:"Password Strength:"}),n.jsx("div",{className:"flex space-x-1",children:[...Array(4)].map((A,H)=>n.jsx("div",{className:`w-2 h-2 rounded-full ${H<Math.min(4,Math.floor(w.password.length/3))?"bg-green-500":"bg-gray-300"}`},H))}),n.jsx("span",{className:"text-xs text-gray-600",children:w.password.length>=12?"Strong":w.password.length>=8?"Good":w.password.length>=6?"Fair":"Weak"})]})})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Account Preview"})]}),n.jsxs(He,{variant:"outline",size:"sm",onClick:P,disabled:!w.username||!w.password,children:[n.jsx(ld,{className:"h-3 w-3 mr-1"}),"Copy Credentials"]})]}),n.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",w.name||"Not specified"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",w.email||"Not specified"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",w.phone||"Not specified"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Role:"})," ",w.role.replace("_"," ").replace(/\b\w/g,A=>A.toUpperCase())]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Username:"})," ",w.username||"Not generated"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Password:"})," ",w.password||"Not generated"]})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs(He,{onClick:F,className:"btn-primary",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),"Create Trainer Account"]}),n.jsx(He,{variant:"outline",onClick:re,children:"Cancel"})]})]}):n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Create New Trainer Account"}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Create complete trainer accounts with personal details, login credentials, and role assignment."}),n.jsxs(He,{onClick:T,className:"btn-primary",children:[n.jsx(ld,{className:"h-4 w-4 mr-2"}),"Create Trainer Account"]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Manage Existing Trainers"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Yash"}),n.jsx("p",{className:"text-sm text-gray-600",children:"yash@tristarfitness.com  Trainer"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(He,{variant:"outline",size:"sm",children:"Edit"}),n.jsx(He,{variant:"outline",size:"sm",children:"Reset Password"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Mohit Sen"}),n.jsx("p",{className:"text-sm text-gray-600",children:"mohit@tristarfitness.com  Senior Trainer"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(He,{variant:"outline",size:"sm",children:"Edit"}),n.jsx(He,{variant:"outline",size:"sm",children:"Reset Password"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Palak Dubey"}),n.jsx("p",{className:"text-sm text-gray-600",children:"palak@tristarfitness.com  Assistant Trainer"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(He,{variant:"outline",size:"sm",children:"Edit"}),n.jsx(He,{variant:"outline",size:"sm",children:"Reset Password"})]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Vi,{to:"/trainers",children:n.jsx(He,{variant:"outline",className:"w-full",children:"View All Trainers"})})})]})]})})]}),n.jsxs(rt,{className:"profile-section",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(ov,{className:"h-5 w-5 text-indigo-600"}),n.jsx("span",{children:"Security & Privacy"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),n.jsx(He,{variant:"outline",size:"sm",children:"Enable"})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Login Notifications"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Get notified of new login attempts"})]}),n.jsx(He,{variant:"outline",size:"sm",children:"Configure"})]})]})})]}),n.jsxs(rt,{className:"profile-section",children:[n.jsx(st,{children:n.jsx(lt,{children:"Account Actions"})}),n.jsx(at,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[n.jsxs(He,{variant:"outline",onClick:()=>c(-1),children:[n.jsx(xd,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),n.jsxs(He,{variant:"destructive",onClick:U,className:"bg-red-600 hover:bg-red-700",children:[n.jsx(Ph,{className:"h-4 w-4 mr-2"}),"Logout"]})]})})]})]})})]})},q4="modulepreload",H4=function(i){return"/tristar-fitness-clean/"+i},i2={},$0=function(a,r,l){let c=Promise.resolve();if(r&&r.length>0){let f=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(N=>({status:"fulfilled",value:N}),N=>({status:"rejected",reason:N}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");c=f(r.map(p=>{if(p=H4(p),p in i2)return;i2[p]=!0;const b=p.endsWith(".css"),N=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${N}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":q4,b||(S.as="script"),S.crossOrigin="",S.href=p,d&&S.setAttribute("nonce",d),document.head.appendChild(S),b)return new Promise((g,E)=>{S.addEventListener("load",g),S.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(h){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=h,window.dispatchEvent(d),!d.defaultPrevented)throw h}return c.then(h=>{for(const d of h||[])d.status==="rejected"&&o(d.reason);return a().catch(o)})};function kr(i){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},kr(i)}var ws=Uint8Array,wi=Uint16Array,Gm=Int32Array,Ym=new ws([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zm=new ws([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s2=new ws([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ky=function(i,a){for(var r=new wi(31),l=0;l<31;++l)r[l]=a+=1<<i[l-1];for(var c=new Gm(r[30]),l=1;l<30;++l)for(var o=r[l];o<r[l+1];++o)c[o]=o-r[l]<<5|l;return{b:r,r:c}},_y=ky(Ym,2),V4=_y.b,Am=_y.r;V4[28]=258,Am[258]=28;var G4=ky(Zm,0),l2=G4.r,Cm=new wi(32768);for(var Zr=0;Zr<32768;++Zr){var xo=(Zr&43690)>>1|(Zr&21845)<<1;xo=(xo&52428)>>2|(xo&13107)<<2,xo=(xo&61680)>>4|(xo&3855)<<4,Cm[Zr]=((xo&65280)>>8|(xo&255)<<8)>>1}var pd=(function(i,a,r){for(var l=i.length,c=0,o=new wi(a);c<l;++c)i[c]&&++o[i[c]-1];var h=new wi(a);for(c=1;c<a;++c)h[c]=h[c-1]+o[c-1]<<1;var d;if(r){d=new wi(1<<a);var f=15-a;for(c=0;c<l;++c)if(i[c])for(var p=c<<4|i[c],b=a-i[c],N=h[i[c]-1]++<<b,S=N|(1<<b)-1;N<=S;++N)d[Cm[N]>>f]=p}else for(d=new wi(l),c=0;c<l;++c)i[c]&&(d[c]=Cm[h[i[c]-1]++]>>15-i[c]);return d}),oc=new ws(288);for(var Zr=0;Zr<144;++Zr)oc[Zr]=8;for(var Zr=144;Zr<256;++Zr)oc[Zr]=9;for(var Zr=256;Zr<280;++Zr)oc[Zr]=7;for(var Zr=280;Zr<288;++Zr)oc[Zr]=8;var Vh=new ws(32);for(var Zr=0;Zr<32;++Zr)Vh[Zr]=5;var Y4=pd(oc,9,0),Z4=pd(Vh,5,0),Ay=function(i){return(i+7)/8|0},X4=function(i,a,r){return(r==null||r>i.length)&&(r=i.length),new ws(i.subarray(a,r))},Ll=function(i,a,r){r<<=a&7;var l=a/8|0;i[l]|=r,i[l+1]|=r>>8},hd=function(i,a,r){r<<=a&7;var l=a/8|0;i[l]|=r,i[l+1]|=r>>8,i[l+2]|=r>>16},em=function(i,a){for(var r=[],l=0;l<i.length;++l)i[l]&&r.push({s:l,f:i[l]});var c=r.length,o=r.slice();if(!c)return{t:Ey,l:0};if(c==1){var h=new ws(r[0].s+1);return h[r[0].s]=1,{t:h,l:1}}r.sort(function(q,P){return q.f-P.f}),r.push({s:-1,f:25001});var d=r[0],f=r[1],p=0,b=1,N=2;for(r[0]={s:-1,f:d.f+f.f,l:d,r:f};b!=c-1;)d=r[r[p].f<r[N].f?p++:N++],f=r[p!=b&&r[p].f<r[N].f?p++:N++],r[b++]={s:-1,f:d.f+f.f,l:d,r:f};for(var S=o[0].s,l=1;l<c;++l)o[l].s>S&&(S=o[l].s);var g=new wi(S+1),E=Em(r[b-1],g,0);if(E>a){var l=0,w=0,C=E-a,k=1<<C;for(o.sort(function(P,B){return g[B.s]-g[P.s]||P.f-B.f});l<c;++l){var D=o[l].s;if(g[D]>a)w+=k-(1<<E-g[D]),g[D]=a;else break}for(w>>=C;w>0;){var T=o[l].s;g[T]<a?w-=1<<a-g[T]++-1:++l}for(;l>=0&&w;--l){var M=o[l].s;g[M]==a&&(--g[M],++w)}E=a}return{t:new ws(g),l:E}},Em=function(i,a,r){return i.s==-1?Math.max(Em(i.l,a,r+1),Em(i.r,a,r+1)):a[i.s]=r},o2=function(i){for(var a=i.length;a&&!i[--a];);for(var r=new wi(++a),l=0,c=i[0],o=1,h=function(f){r[l++]=f},d=1;d<=a;++d)if(i[d]==c&&d!=a)++o;else{if(!c&&o>2){for(;o>138;o-=138)h(32754);o>2&&(h(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(h(c),--o;o>6;o-=6)h(8304);o>2&&(h(o-3<<5|8208),o=0)}for(;o--;)h(c);o=1,c=i[d]}return{c:r.subarray(0,l),n:a}},fd=function(i,a){for(var r=0,l=0;l<a.length;++l)r+=i[l]*a[l];return r},Cy=function(i,a,r){var l=r.length,c=Ay(a+2);i[c]=l&255,i[c+1]=l>>8,i[c+2]=i[c]^255,i[c+3]=i[c+1]^255;for(var o=0;o<l;++o)i[c+o+4]=r[o];return(c+4+l)*8},c2=function(i,a,r,l,c,o,h,d,f,p,b){Ll(a,b++,r),++c[256];for(var N=em(c,15),S=N.t,g=N.l,E=em(o,15),w=E.t,C=E.l,k=o2(S),D=k.c,T=k.n,M=o2(w),q=M.c,P=M.n,B=new wi(19),V=0;V<D.length;++V)++B[D[V]&31];for(var V=0;V<q.length;++V)++B[q[V]&31];for(var F=em(B,7),re=F.t,U=F.l,A=19;A>4&&!re[s2[A-1]];--A);var H=p+5<<3,j=fd(c,oc)+fd(o,Vh)+h,$=fd(c,S)+fd(o,w)+h+14+3*A+fd(B,re)+2*B[16]+3*B[17]+7*B[18];if(f>=0&&H<=j&&H<=$)return Cy(a,b,i.subarray(f,f+p));var W,ie,ee,ue;if(Ll(a,b,1+($<j)),b+=2,$<j){W=pd(S,g,0),ie=S,ee=pd(w,C,0),ue=w;var ve=pd(re,U,0);Ll(a,b,T-257),Ll(a,b+5,P-1),Ll(a,b+10,A-4),b+=14;for(var V=0;V<A;++V)Ll(a,b+3*V,re[s2[V]]);b+=3*A;for(var ce=[D,q],z=0;z<2;++z)for(var Q=ce[z],V=0;V<Q.length;++V){var ae=Q[V]&31;Ll(a,b,ve[ae]),b+=re[ae],ae>15&&(Ll(a,b,Q[V]>>5&127),b+=Q[V]>>12)}}else W=Y4,ie=oc,ee=Z4,ue=Vh;for(var V=0;V<d;++V){var oe=l[V];if(oe>255){var ae=oe>>18&31;hd(a,b,W[ae+257]),b+=ie[ae+257],ae>7&&(Ll(a,b,oe>>23&31),b+=Ym[ae]);var ye=oe&31;hd(a,b,ee[ye]),b+=ue[ye],ye>3&&(hd(a,b,oe>>5&8191),b+=Zm[ye])}else hd(a,b,W[oe]),b+=ie[oe]}return hd(a,b,W[256]),b+ie[256]},K4=new Gm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ey=new ws(0),Q4=function(i,a,r,l,c,o){var h=o.z||i.length,d=new ws(l+h+5*(1+Math.ceil(h/7e3))+c),f=d.subarray(l,d.length-c),p=o.l,b=(o.r||0)&7;if(a){b&&(f[0]=o.r>>3);for(var N=K4[a-1],S=N>>13,g=N&8191,E=(1<<r)-1,w=o.p||new wi(32768),C=o.h||new wi(E+1),k=Math.ceil(r/3),D=2*k,T=function(O){return(i[O]^i[O+1]<<k^i[O+2]<<D)&E},M=new Gm(25e3),q=new wi(288),P=new wi(32),B=0,V=0,F=o.i||0,re=0,U=o.w||0,A=0;F+2<h;++F){var H=T(F),j=F&32767,$=C[H];if(w[j]=$,C[H]=j,U<=F){var W=h-F;if((B>7e3||re>24576)&&(W>423||!p)){b=c2(i,f,0,M,q,P,V,re,A,F-A,b),re=B=V=0,A=F;for(var ie=0;ie<286;++ie)q[ie]=0;for(var ie=0;ie<30;++ie)P[ie]=0}var ee=2,ue=0,ve=g,ce=j-$&32767;if(W>2&&H==T(F-ce))for(var z=Math.min(S,W)-1,Q=Math.min(32767,F),ae=Math.min(258,W);ce<=Q&&--ve&&j!=$;){if(i[F+ee]==i[F+ee-ce]){for(var oe=0;oe<ae&&i[F+oe]==i[F+oe-ce];++oe);if(oe>ee){if(ee=oe,ue=ce,oe>z)break;for(var ye=Math.min(ce,oe-2),Se=0,ie=0;ie<ye;++ie){var _e=F-ce+ie&32767,Ae=w[_e],Be=_e-Ae&32767;Be>Se&&(Se=Be,$=_e)}}}j=$,$=w[j],ce+=j-$&32767}if(ue){M[re++]=268435456|Am[ee]<<18|l2[ue];var Ke=Am[ee]&31,pe=l2[ue]&31;V+=Ym[Ke]+Zm[pe],++q[257+Ke],++P[pe],U=F+ee,++B}else M[re++]=i[F],++q[i[F]]}}for(F=Math.max(F,U);F<h;++F)M[re++]=i[F],++q[i[F]];b=c2(i,f,p,M,q,P,V,re,A,F-A,b),p||(o.r=b&7|f[b/8|0]<<3,b-=7,o.h=C,o.p=w,o.i=F,o.w=U)}else{for(var F=o.w||0;F<h+p;F+=65535){var Ue=F+65535;Ue>=h&&(f[b/8|0]=p,Ue=h),b=Cy(f,b+1,i.subarray(F,Ue))}o.i=h}return X4(d,0,l+Ay(b)+c)},Ly=function(){var i=1,a=0;return{p:function(r){for(var l=i,c=a,o=r.length|0,h=0;h!=o;){for(var d=Math.min(h+2655,o);h<d;++h)c+=l+=r[h];l=(l&65535)+15*(l>>16),c=(c&65535)+15*(c>>16)}i=l,a=c},d:function(){return i%=65521,a%=65521,(i&255)<<24|(i&65280)<<8|(a&255)<<8|a>>8}}},J4=function(i,a,r,l,c){if(!c&&(c={l:1},a.dictionary)){var o=a.dictionary.subarray(-32768),h=new ws(o.length+i.length);h.set(o),h.set(i,o.length),i=h,c.w=o.length}return Q4(i,a.level==null?6:a.level,a.mem==null?c.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+a.mem,r,l,c)},Ty=function(i,a,r){for(;r;++a)i[a]=r,r>>>=8},W4=function(i,a){var r=a.level,l=r==0?0:r<6?1:r==9?3:2;if(i[0]=120,i[1]=l<<6|(a.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,a.dictionary){var c=Ly();c.p(a.dictionary),Ty(i,2,c.d())}};function Lm(i,a){a||(a={});var r=Ly();r.p(i);var l=J4(i,a,a.dictionary?6:2,4);return W4(l,a),Ty(l,l.length-4,r.d()),l}var $4=typeof TextDecoder<"u"&&new TextDecoder,e3=0;try{$4.decode(Ey,{stream:!0}),e3=1}catch{}function t3(i){if(Array.isArray(i))return i}function r3(i,a){var r=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(r!=null){var l,c,o,h,d=[],f=!0,p=!1;try{if(o=(r=r.call(i)).next,a!==0)for(;!(f=(l=o.call(r)).done)&&(d.push(l.value),d.length!==a);f=!0);}catch(b){p=!0,c=b}finally{try{if(!f&&r.return!=null&&(h=r.return(),Object(h)!==h))return}finally{if(p)throw c}}return d}}function u2(i,a){(a==null||a>i.length)&&(a=i.length);for(var r=0,l=Array(a);r<a;r++)l[r]=i[r];return l}function a3(i,a){if(i){if(typeof i=="string")return u2(i,a);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u2(i,a):void 0}}function n3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2(i,a){return t3(i)||r3(i,a)||a3(i,a)||n3()}function h2(i,a="utf8"){return new TextDecoder(a).decode(i)}const i3=new TextEncoder;function s3(i){return i3.encode(i)}const l3=1024*8,o3=(()=>{const i=new Uint8Array(4),a=new Uint32Array(i.buffer);return!((a[0]=1)&i[0])})(),tm={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Xm{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(a=l3,r={}){let l=!1;typeof a=="number"?a=new ArrayBuffer(a):(l=!0,this.lastWrittenByte=a.byteLength);const c=r.offset?r.offset>>>0:0,o=a.byteLength-c;let h=c;(ArrayBuffer.isView(a)||a instanceof Xm)&&(a.byteLength!==a.buffer.byteLength&&(h=a.byteOffset+c),a=a.buffer),l?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=a,this.length=o,this.byteLength=o,this.byteOffset=h,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,h,o),this._mark=0,this._marks=[]}available(a=1){return this.offset+a<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(a=1){return this.offset+=a,this}back(a=1){return this.offset-=a,this}seek(a){return this.offset=a,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const a=this._marks.pop();if(a===void 0)throw new Error("Mark stack empty");return this.seek(a),this}rewind(){return this.offset=0,this}ensureAvailable(a=1){if(!this.available(a)){const l=(this.offset+a)*2,c=new Uint8Array(l);c.set(new Uint8Array(this.buffer)),this.buffer=c.buffer,this.length=l,this.byteLength=l,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(a=1){return this.readArray(a,"uint8")}readArray(a,r){const l=tm[r].BYTES_PER_ELEMENT*a,c=this.byteOffset+this.offset,o=this.buffer.slice(c,c+l);if(this.littleEndian===o3&&r!=="uint8"&&r!=="int8"){const d=new Uint8Array(this.buffer.slice(c,c+l));d.reverse();const f=new tm[r](d.buffer);return this.offset+=l,f.reverse(),f}const h=new tm[r](o);return this.offset+=l,h}readInt16(){const a=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,a}readUint16(){const a=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,a}readInt32(){const a=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,a}readUint32(){const a=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat32(){const a=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,a}readFloat64(){const a=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,a}readBigInt64(){const a=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,a}readBigUint64(){const a=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,a}readChar(){return String.fromCharCode(this.readInt8())}readChars(a=1){let r="";for(let l=0;l<a;l++)r+=this.readChar();return r}readUtf8(a=1){return h2(this.readBytes(a))}decodeText(a=1,r="utf8"){return h2(this.readBytes(a),r)}writeBoolean(a){return this.writeUint8(a?255:0),this}writeInt8(a){return this.ensureAvailable(1),this._data.setInt8(this.offset++,a),this._updateLastWrittenByte(),this}writeUint8(a){return this.ensureAvailable(1),this._data.setUint8(this.offset++,a),this._updateLastWrittenByte(),this}writeByte(a){return this.writeUint8(a)}writeBytes(a){this.ensureAvailable(a.length);for(let r=0;r<a.length;r++)this._data.setUint8(this.offset++,a[r]);return this._updateLastWrittenByte(),this}writeInt16(a){return this.ensureAvailable(2),this._data.setInt16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(a){return this.ensureAvailable(2),this._data.setUint16(this.offset,a,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(a){return this.ensureAvailable(4),this._data.setInt32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(a){return this.ensureAvailable(4),this._data.setUint32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(a){return this.ensureAvailable(4),this._data.setFloat32(this.offset,a,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(a){return this.ensureAvailable(8),this._data.setFloat64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(a){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(a){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,a,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(a){return this.writeUint8(a.charCodeAt(0))}writeChars(a){for(let r=0;r<a.length;r++)this.writeUint8(a.charCodeAt(r));return this}writeUtf8(a){return this.writeBytes(s3(a))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ku(i){let a=i.length;for(;--a>=0;)i[a]=0}const c3=3,u3=258,Dy=29,d3=256,h3=d3+1+Dy,Oy=30,f3=512,m3=new Array((h3+2)*2);ku(m3);const p3=new Array(Oy*2);ku(p3);const g3=new Array(f3);ku(g3);const x3=new Array(u3-c3+1);ku(x3);const y3=new Array(Dy);ku(y3);const b3=new Array(Oy);ku(b3);const v3=(i,a,r,l)=>{let c=i&65535|0,o=i>>>16&65535|0,h=0;for(;r!==0;){h=r>2e3?2e3:r,r-=h;do c=c+a[l++]|0,o=o+c|0;while(--h);c%=65521,o%=65521}return c|o<<16|0};var Tm=v3;const w3=()=>{let i,a=[];for(var r=0;r<256;r++){i=r;for(var l=0;l<8;l++)i=i&1?3988292384^i>>>1:i>>>1;a[r]=i}return a},N3=new Uint32Array(w3()),j3=(i,a,r,l)=>{const c=N3,o=l+r;i^=-1;for(let h=l;h<o;h++)i=i>>>8^c[(i^a[h])&255];return i^-1};var Ys=j3,Dm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},My={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const S3=(i,a)=>Object.prototype.hasOwnProperty.call(i,a);var k3=function(i){const a=Array.prototype.slice.call(arguments,1);for(;a.length;){const r=a.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const l in r)S3(r,l)&&(i[l]=r[l])}}return i},_3=i=>{let a=0;for(let l=0,c=i.length;l<c;l++)a+=i[l].length;const r=new Uint8Array(a);for(let l=0,c=0,o=i.length;l<o;l++){let h=i[l];r.set(h,c),c+=h.length}return r},Ry={assign:k3,flattenChunks:_3};let zy=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zy=!1}const bd=new Uint8Array(256);for(let i=0;i<256;i++)bd[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;bd[254]=bd[254]=1;var A3=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let a,r,l,c,o,h=i.length,d=0;for(c=0;c<h;c++)r=i.charCodeAt(c),(r&64512)===55296&&c+1<h&&(l=i.charCodeAt(c+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),c++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(a=new Uint8Array(d),o=0,c=0;o<d;c++)r=i.charCodeAt(c),(r&64512)===55296&&c+1<h&&(l=i.charCodeAt(c+1),(l&64512)===56320&&(r=65536+(r-55296<<10)+(l-56320),c++)),r<128?a[o++]=r:r<2048?(a[o++]=192|r>>>6,a[o++]=128|r&63):r<65536?(a[o++]=224|r>>>12,a[o++]=128|r>>>6&63,a[o++]=128|r&63):(a[o++]=240|r>>>18,a[o++]=128|r>>>12&63,a[o++]=128|r>>>6&63,a[o++]=128|r&63);return a};const C3=(i,a)=>{if(a<65534&&i.subarray&&zy)return String.fromCharCode.apply(null,i.length===a?i:i.subarray(0,a));let r="";for(let l=0;l<a;l++)r+=String.fromCharCode(i[l]);return r};var E3=(i,a)=>{const r=a||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,a));let l,c;const o=new Array(r*2);for(c=0,l=0;l<r;){let h=i[l++];if(h<128){o[c++]=h;continue}let d=bd[h];if(d>4){o[c++]=65533,l+=d-1;continue}for(h&=d===2?31:d===3?15:7;d>1&&l<r;)h=h<<6|i[l++]&63,d--;if(d>1){o[c++]=65533;continue}h<65536?o[c++]=h:(h-=65536,o[c++]=55296|h>>10&1023,o[c++]=56320|h&1023)}return C3(o,c)},L3=(i,a)=>{a=a||i.length,a>i.length&&(a=i.length);let r=a-1;for(;r>=0&&(i[r]&192)===128;)r--;return r<0||r===0?a:r+bd[i[r]]>a?r:a},Om={string2buf:A3,buf2string:E3,utf8border:L3};function T3(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var D3=T3;const vh=16209,O3=16191;var M3=function(a,r){let l,c,o,h,d,f,p,b,N,S,g,E,w,C,k,D,T,M,q,P,B,V,F,re;const U=a.state;l=a.next_in,F=a.input,c=l+(a.avail_in-5),o=a.next_out,re=a.output,h=o-(r-a.avail_out),d=o+(a.avail_out-257),f=U.dmax,p=U.wsize,b=U.whave,N=U.wnext,S=U.window,g=U.hold,E=U.bits,w=U.lencode,C=U.distcode,k=(1<<U.lenbits)-1,D=(1<<U.distbits)-1;e:do{E<15&&(g+=F[l++]<<E,E+=8,g+=F[l++]<<E,E+=8),T=w[g&k];t:for(;;){if(M=T>>>24,g>>>=M,E-=M,M=T>>>16&255,M===0)re[o++]=T&65535;else if(M&16){q=T&65535,M&=15,M&&(E<M&&(g+=F[l++]<<E,E+=8),q+=g&(1<<M)-1,g>>>=M,E-=M),E<15&&(g+=F[l++]<<E,E+=8,g+=F[l++]<<E,E+=8),T=C[g&D];r:for(;;){if(M=T>>>24,g>>>=M,E-=M,M=T>>>16&255,M&16){if(P=T&65535,M&=15,E<M&&(g+=F[l++]<<E,E+=8,E<M&&(g+=F[l++]<<E,E+=8)),P+=g&(1<<M)-1,P>f){a.msg="invalid distance too far back",U.mode=vh;break e}if(g>>>=M,E-=M,M=o-h,P>M){if(M=P-M,M>b&&U.sane){a.msg="invalid distance too far back",U.mode=vh;break e}if(B=0,V=S,N===0){if(B+=p-M,M<q){q-=M;do re[o++]=S[B++];while(--M);B=o-P,V=re}}else if(N<M){if(B+=p+N-M,M-=N,M<q){q-=M;do re[o++]=S[B++];while(--M);if(B=0,N<q){M=N,q-=M;do re[o++]=S[B++];while(--M);B=o-P,V=re}}}else if(B+=N-M,M<q){q-=M;do re[o++]=S[B++];while(--M);B=o-P,V=re}for(;q>2;)re[o++]=V[B++],re[o++]=V[B++],re[o++]=V[B++],q-=3;q&&(re[o++]=V[B++],q>1&&(re[o++]=V[B++]))}else{B=o-P;do re[o++]=re[B++],re[o++]=re[B++],re[o++]=re[B++],q-=3;while(q>2);q&&(re[o++]=re[B++],q>1&&(re[o++]=re[B++]))}}else if((M&64)===0){T=C[(T&65535)+(g&(1<<M)-1)];continue r}else{a.msg="invalid distance code",U.mode=vh;break e}break}}else if((M&64)===0){T=w[(T&65535)+(g&(1<<M)-1)];continue t}else if(M&32){U.mode=O3;break e}else{a.msg="invalid literal/length code",U.mode=vh;break e}break}}while(l<c&&o<d);q=E>>3,l-=q,E-=q<<3,g&=(1<<E)-1,a.next_in=l,a.next_out=o,a.avail_in=l<c?5+(c-l):5-(l-c),a.avail_out=o<d?257+(d-o):257-(o-d),U.hold=g,U.bits=E};const su=15,f2=852,m2=592,p2=0,rm=1,g2=2,R3=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),z3=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),I3=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),F3=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),B3=(i,a,r,l,c,o,h,d)=>{const f=d.bits;let p=0,b=0,N=0,S=0,g=0,E=0,w=0,C=0,k=0,D=0,T,M,q,P,B,V=null,F;const re=new Uint16Array(su+1),U=new Uint16Array(su+1);let A=null,H,j,$;for(p=0;p<=su;p++)re[p]=0;for(b=0;b<l;b++)re[a[r+b]]++;for(g=f,S=su;S>=1&&re[S]===0;S--);if(g>S&&(g=S),S===0)return c[o++]=1<<24|64<<16|0,c[o++]=1<<24|64<<16|0,d.bits=1,0;for(N=1;N<S&&re[N]===0;N++);for(g<N&&(g=N),C=1,p=1;p<=su;p++)if(C<<=1,C-=re[p],C<0)return-1;if(C>0&&(i===p2||S!==1))return-1;for(U[1]=0,p=1;p<su;p++)U[p+1]=U[p]+re[p];for(b=0;b<l;b++)a[r+b]!==0&&(h[U[a[r+b]]++]=b);if(i===p2?(V=A=h,F=20):i===rm?(V=R3,A=z3,F=257):(V=I3,A=F3,F=0),D=0,b=0,p=N,B=o,E=g,w=0,q=-1,k=1<<g,P=k-1,i===rm&&k>f2||i===g2&&k>m2)return 1;for(;;){H=p-w,h[b]+1<F?(j=0,$=h[b]):h[b]>=F?(j=A[h[b]-F],$=V[h[b]-F]):(j=96,$=0),T=1<<p-w,M=1<<E,N=M;do M-=T,c[B+(D>>w)+M]=H<<24|j<<16|$|0;while(M!==0);for(T=1<<p-1;D&T;)T>>=1;if(T!==0?(D&=T-1,D+=T):D=0,b++,--re[p]===0){if(p===S)break;p=a[r+h[b]]}if(p>g&&(D&P)!==q){for(w===0&&(w=g),B+=N,E=p-w,C=1<<E;E+w<S&&(C-=re[E+w],!(C<=0));)E++,C<<=1;if(k+=1<<E,i===rm&&k>f2||i===g2&&k>m2)return 1;q=D&P,c[q]=g<<24|E<<16|B-o|0}}return D!==0&&(c[B+D]=p-w<<24|64<<16|0),d.bits=g,0};var gd=B3;const P3=0,Iy=1,Fy=2,{Z_FINISH:x2,Z_BLOCK:U3,Z_TREES:wh,Z_OK:cc,Z_STREAM_END:q3,Z_NEED_DICT:H3,Z_STREAM_ERROR:Yi,Z_DATA_ERROR:By,Z_MEM_ERROR:Py,Z_BUF_ERROR:V3,Z_DEFLATED:y2}=My,nf=16180,b2=16181,v2=16182,w2=16183,N2=16184,j2=16185,S2=16186,k2=16187,_2=16188,A2=16189,Gh=16190,Tl=16191,am=16192,C2=16193,nm=16194,E2=16195,L2=16196,T2=16197,D2=16198,Nh=16199,jh=16200,O2=16201,M2=16202,R2=16203,z2=16204,I2=16205,im=16206,F2=16207,B2=16208,ea=16209,Uy=16210,qy=16211,G3=852,Y3=592,Z3=15,X3=Z3,P2=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function K3(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const fc=i=>{if(!i)return 1;const a=i.state;return!a||a.strm!==i||a.mode<nf||a.mode>qy?1:0},Hy=i=>{if(fc(i))return Yi;const a=i.state;return i.total_in=i.total_out=a.total=0,i.msg="",a.wrap&&(i.adler=a.wrap&1),a.mode=nf,a.last=0,a.havedict=0,a.flags=-1,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new Int32Array(G3),a.distcode=a.distdyn=new Int32Array(Y3),a.sane=1,a.back=-1,cc},Vy=i=>{if(fc(i))return Yi;const a=i.state;return a.wsize=0,a.whave=0,a.wnext=0,Hy(i)},Gy=(i,a)=>{let r;if(fc(i))return Yi;const l=i.state;return a<0?(r=0,a=-a):(r=(a>>4)+5,a<48&&(a&=15)),a&&(a<8||a>15)?Yi:(l.window!==null&&l.wbits!==a&&(l.window=null),l.wrap=r,l.wbits=a,Vy(i))},Yy=(i,a)=>{if(!i)return Yi;const r=new K3;i.state=r,r.strm=i,r.window=null,r.mode=nf;const l=Gy(i,a);return l!==cc&&(i.state=null),l},Q3=i=>Yy(i,X3);let U2=!0,sm,lm;const J3=i=>{if(U2){sm=new Int32Array(512),lm=new Int32Array(32);let a=0;for(;a<144;)i.lens[a++]=8;for(;a<256;)i.lens[a++]=9;for(;a<280;)i.lens[a++]=7;for(;a<288;)i.lens[a++]=8;for(gd(Iy,i.lens,0,288,sm,0,i.work,{bits:9}),a=0;a<32;)i.lens[a++]=5;gd(Fy,i.lens,0,32,lm,0,i.work,{bits:5}),U2=!1}i.lencode=sm,i.lenbits=9,i.distcode=lm,i.distbits=5},Zy=(i,a,r,l)=>{let c;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),l>=o.wsize?(o.window.set(a.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(c=o.wsize-o.wnext,c>l&&(c=l),o.window.set(a.subarray(r-l,r-l+c),o.wnext),l-=c,l?(o.window.set(a.subarray(r-l,r),0),o.wnext=l,o.whave=o.wsize):(o.wnext+=c,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=c))),0},W3=(i,a)=>{let r,l,c,o,h,d,f,p,b,N,S,g,E,w,C=0,k,D,T,M,q,P,B,V;const F=new Uint8Array(4);let re,U;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(fc(i)||!i.output||!i.input&&i.avail_in!==0)return Yi;r=i.state,r.mode===Tl&&(r.mode=am),h=i.next_out,c=i.output,f=i.avail_out,o=i.next_in,l=i.input,d=i.avail_in,p=r.hold,b=r.bits,N=d,S=f,V=cc;e:for(;;)switch(r.mode){case nf:if(r.wrap===0){r.mode=am;break}for(;b<16;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(r.wrap&2&&p===35615){r.wbits===0&&(r.wbits=15),r.check=0,F[0]=p&255,F[1]=p>>>8&255,r.check=Ys(r.check,F,2,0),p=0,b=0,r.mode=b2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((p&255)<<8)+(p>>8))%31){i.msg="incorrect header check",r.mode=ea;break}if((p&15)!==y2){i.msg="unknown compression method",r.mode=ea;break}if(p>>>=4,b-=4,B=(p&15)+8,r.wbits===0&&(r.wbits=B),B>15||B>r.wbits){i.msg="invalid window size",r.mode=ea;break}r.dmax=1<<r.wbits,r.flags=0,i.adler=r.check=1,r.mode=p&512?A2:Tl,p=0,b=0;break;case b2:for(;b<16;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(r.flags=p,(r.flags&255)!==y2){i.msg="unknown compression method",r.mode=ea;break}if(r.flags&57344){i.msg="unknown header flags set",r.mode=ea;break}r.head&&(r.head.text=p>>8&1),r.flags&512&&r.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,r.check=Ys(r.check,F,2,0)),p=0,b=0,r.mode=v2;case v2:for(;b<32;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}r.head&&(r.head.time=p),r.flags&512&&r.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,F[2]=p>>>16&255,F[3]=p>>>24&255,r.check=Ys(r.check,F,4,0)),p=0,b=0,r.mode=w2;case w2:for(;b<16;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}r.head&&(r.head.xflags=p&255,r.head.os=p>>8),r.flags&512&&r.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,r.check=Ys(r.check,F,2,0)),p=0,b=0,r.mode=N2;case N2:if(r.flags&1024){for(;b<16;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}r.length=p,r.head&&(r.head.extra_len=p),r.flags&512&&r.wrap&4&&(F[0]=p&255,F[1]=p>>>8&255,r.check=Ys(r.check,F,2,0)),p=0,b=0}else r.head&&(r.head.extra=null);r.mode=j2;case j2:if(r.flags&1024&&(g=r.length,g>d&&(g=d),g&&(r.head&&(B=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(l.subarray(o,o+g),B)),r.flags&512&&r.wrap&4&&(r.check=Ys(r.check,l,g,o)),d-=g,o+=g,r.length-=g),r.length))break e;r.length=0,r.mode=S2;case S2:if(r.flags&2048){if(d===0)break e;g=0;do B=l[o+g++],r.head&&B&&r.length<65536&&(r.head.name+=String.fromCharCode(B));while(B&&g<d);if(r.flags&512&&r.wrap&4&&(r.check=Ys(r.check,l,g,o)),d-=g,o+=g,B)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=k2;case k2:if(r.flags&4096){if(d===0)break e;g=0;do B=l[o+g++],r.head&&B&&r.length<65536&&(r.head.comment+=String.fromCharCode(B));while(B&&g<d);if(r.flags&512&&r.wrap&4&&(r.check=Ys(r.check,l,g,o)),d-=g,o+=g,B)break e}else r.head&&(r.head.comment=null);r.mode=_2;case _2:if(r.flags&512){for(;b<16;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(r.wrap&4&&p!==(r.check&65535)){i.msg="header crc mismatch",r.mode=ea;break}p=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),i.adler=r.check=0,r.mode=Tl;break;case A2:for(;b<32;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}i.adler=r.check=P2(p),p=0,b=0,r.mode=Gh;case Gh:if(r.havedict===0)return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=d,r.hold=p,r.bits=b,H3;i.adler=r.check=1,r.mode=Tl;case Tl:if(a===U3||a===wh)break e;case am:if(r.last){p>>>=b&7,b-=b&7,r.mode=im;break}for(;b<3;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}switch(r.last=p&1,p>>>=1,b-=1,p&3){case 0:r.mode=C2;break;case 1:if(J3(r),r.mode=Nh,a===wh){p>>>=2,b-=2;break e}break;case 2:r.mode=L2;break;case 3:i.msg="invalid block type",r.mode=ea}p>>>=2,b-=2;break;case C2:for(p>>>=b&7,b-=b&7;b<32;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if((p&65535)!==(p>>>16^65535)){i.msg="invalid stored block lengths",r.mode=ea;break}if(r.length=p&65535,p=0,b=0,r.mode=nm,a===wh)break e;case nm:r.mode=E2;case E2:if(g=r.length,g){if(g>d&&(g=d),g>f&&(g=f),g===0)break e;c.set(l.subarray(o,o+g),h),d-=g,o+=g,f-=g,h+=g,r.length-=g;break}r.mode=Tl;break;case L2:for(;b<14;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(r.nlen=(p&31)+257,p>>>=5,b-=5,r.ndist=(p&31)+1,p>>>=5,b-=5,r.ncode=(p&15)+4,p>>>=4,b-=4,r.nlen>286||r.ndist>30){i.msg="too many length or distance symbols",r.mode=ea;break}r.have=0,r.mode=T2;case T2:for(;r.have<r.ncode;){for(;b<3;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}r.lens[A[r.have++]]=p&7,p>>>=3,b-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,re={bits:r.lenbits},V=gd(P3,r.lens,0,19,r.lencode,0,r.work,re),r.lenbits=re.bits,V){i.msg="invalid code lengths set",r.mode=ea;break}r.have=0,r.mode=D2;case D2:for(;r.have<r.nlen+r.ndist;){for(;C=r.lencode[p&(1<<r.lenbits)-1],k=C>>>24,D=C>>>16&255,T=C&65535,!(k<=b);){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(T<16)p>>>=k,b-=k,r.lens[r.have++]=T;else{if(T===16){for(U=k+2;b<U;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(p>>>=k,b-=k,r.have===0){i.msg="invalid bit length repeat",r.mode=ea;break}B=r.lens[r.have-1],g=3+(p&3),p>>>=2,b-=2}else if(T===17){for(U=k+3;b<U;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}p>>>=k,b-=k,B=0,g=3+(p&7),p>>>=3,b-=3}else{for(U=k+7;b<U;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}p>>>=k,b-=k,B=0,g=11+(p&127),p>>>=7,b-=7}if(r.have+g>r.nlen+r.ndist){i.msg="invalid bit length repeat",r.mode=ea;break}for(;g--;)r.lens[r.have++]=B}}if(r.mode===ea)break;if(r.lens[256]===0){i.msg="invalid code -- missing end-of-block",r.mode=ea;break}if(r.lenbits=9,re={bits:r.lenbits},V=gd(Iy,r.lens,0,r.nlen,r.lencode,0,r.work,re),r.lenbits=re.bits,V){i.msg="invalid literal/lengths set",r.mode=ea;break}if(r.distbits=6,r.distcode=r.distdyn,re={bits:r.distbits},V=gd(Fy,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,re),r.distbits=re.bits,V){i.msg="invalid distances set",r.mode=ea;break}if(r.mode=Nh,a===wh)break e;case Nh:r.mode=jh;case jh:if(d>=6&&f>=258){i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=d,r.hold=p,r.bits=b,M3(i,S),h=i.next_out,c=i.output,f=i.avail_out,o=i.next_in,l=i.input,d=i.avail_in,p=r.hold,b=r.bits,r.mode===Tl&&(r.back=-1);break}for(r.back=0;C=r.lencode[p&(1<<r.lenbits)-1],k=C>>>24,D=C>>>16&255,T=C&65535,!(k<=b);){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(D&&(D&240)===0){for(M=k,q=D,P=T;C=r.lencode[P+((p&(1<<M+q)-1)>>M)],k=C>>>24,D=C>>>16&255,T=C&65535,!(M+k<=b);){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}p>>>=M,b-=M,r.back+=M}if(p>>>=k,b-=k,r.back+=k,r.length=T,D===0){r.mode=I2;break}if(D&32){r.back=-1,r.mode=Tl;break}if(D&64){i.msg="invalid literal/length code",r.mode=ea;break}r.extra=D&15,r.mode=O2;case O2:if(r.extra){for(U=r.extra;b<U;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}r.length+=p&(1<<r.extra)-1,p>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=M2;case M2:for(;C=r.distcode[p&(1<<r.distbits)-1],k=C>>>24,D=C>>>16&255,T=C&65535,!(k<=b);){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if((D&240)===0){for(M=k,q=D,P=T;C=r.distcode[P+((p&(1<<M+q)-1)>>M)],k=C>>>24,D=C>>>16&255,T=C&65535,!(M+k<=b);){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}p>>>=M,b-=M,r.back+=M}if(p>>>=k,b-=k,r.back+=k,D&64){i.msg="invalid distance code",r.mode=ea;break}r.offset=T,r.extra=D&15,r.mode=R2;case R2:if(r.extra){for(U=r.extra;b<U;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}r.offset+=p&(1<<r.extra)-1,p>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){i.msg="invalid distance too far back",r.mode=ea;break}r.mode=z2;case z2:if(f===0)break e;if(g=S-f,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){i.msg="invalid distance too far back",r.mode=ea;break}g>r.wnext?(g-=r.wnext,E=r.wsize-g):E=r.wnext-g,g>r.length&&(g=r.length),w=r.window}else w=c,E=h-r.offset,g=r.length;g>f&&(g=f),f-=g,r.length-=g;do c[h++]=w[E++];while(--g);r.length===0&&(r.mode=jh);break;case I2:if(f===0)break e;c[h++]=r.length,f--,r.mode=jh;break;case im:if(r.wrap){for(;b<32;){if(d===0)break e;d--,p|=l[o++]<<b,b+=8}if(S-=f,i.total_out+=S,r.total+=S,r.wrap&4&&S&&(i.adler=r.check=r.flags?Ys(r.check,c,S,h-S):Tm(r.check,c,S,h-S)),S=f,r.wrap&4&&(r.flags?p:P2(p))!==r.check){i.msg="incorrect data check",r.mode=ea;break}p=0,b=0}r.mode=F2;case F2:if(r.wrap&&r.flags){for(;b<32;){if(d===0)break e;d--,p+=l[o++]<<b,b+=8}if(r.wrap&4&&p!==(r.total&4294967295)){i.msg="incorrect length check",r.mode=ea;break}p=0,b=0}r.mode=B2;case B2:V=q3;break e;case ea:V=By;break e;case Uy:return Py;case qy:default:return Yi}return i.next_out=h,i.avail_out=f,i.next_in=o,i.avail_in=d,r.hold=p,r.bits=b,(r.wsize||S!==i.avail_out&&r.mode<ea&&(r.mode<im||a!==x2))&&Zy(i,i.output,i.next_out,S-i.avail_out),N-=i.avail_in,S-=i.avail_out,i.total_in+=N,i.total_out+=S,r.total+=S,r.wrap&4&&S&&(i.adler=r.check=r.flags?Ys(r.check,c,S,i.next_out-S):Tm(r.check,c,S,i.next_out-S)),i.data_type=r.bits+(r.last?64:0)+(r.mode===Tl?128:0)+(r.mode===Nh||r.mode===nm?256:0),(N===0&&S===0||a===x2)&&V===cc&&(V=V3),V},$3=i=>{if(fc(i))return Yi;let a=i.state;return a.window&&(a.window=null),i.state=null,cc},e6=(i,a)=>{if(fc(i))return Yi;const r=i.state;return(r.wrap&2)===0?Yi:(r.head=a,a.done=!1,cc)},t6=(i,a)=>{const r=a.length;let l,c,o;return fc(i)||(l=i.state,l.wrap!==0&&l.mode!==Gh)?Yi:l.mode===Gh&&(c=1,c=Tm(c,a,r,0),c!==l.check)?By:(o=Zy(i,a,r,r),o?(l.mode=Uy,Py):(l.havedict=1,cc))};var r6=Vy,a6=Gy,n6=Hy,i6=Q3,s6=Yy,l6=W3,o6=$3,c6=e6,u6=t6,d6="pako inflate (from Nodeca project)",Dl={inflateReset:r6,inflateReset2:a6,inflateResetKeep:n6,inflateInit:i6,inflateInit2:s6,inflate:l6,inflateEnd:o6,inflateGetHeader:c6,inflateSetDictionary:u6,inflateInfo:d6};function h6(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var f6=h6;const Xy=Object.prototype.toString,{Z_NO_FLUSH:m6,Z_FINISH:p6,Z_OK:vd,Z_STREAM_END:om,Z_NEED_DICT:cm,Z_STREAM_ERROR:g6,Z_DATA_ERROR:q2,Z_MEM_ERROR:x6}=My;function Sd(i){this.options=Ry.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(i&&i.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D3,this.strm.avail_out=0;let r=Dl.inflateInit2(this.strm,a.windowBits);if(r!==vd)throw new Error(Dm[r]);if(this.header=new f6,Dl.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=Om.string2buf(a.dictionary):Xy.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(r=Dl.inflateSetDictionary(this.strm,a.dictionary),r!==vd)))throw new Error(Dm[r])}Sd.prototype.push=function(i,a){const r=this.strm,l=this.options.chunkSize,c=this.options.dictionary;let o,h,d;if(this.ended)return!1;for(a===~~a?h=a:h=a===!0?p6:m6,Xy.call(i)==="[object ArrayBuffer]"?r.input=new Uint8Array(i):r.input=i,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(l),r.next_out=0,r.avail_out=l),o=Dl.inflate(r,h),o===cm&&c&&(o=Dl.inflateSetDictionary(r,c),o===vd?o=Dl.inflate(r,h):o===q2&&(o=cm));r.avail_in>0&&o===om&&r.state.wrap>0&&i[r.next_in]!==0;)Dl.inflateReset(r),o=Dl.inflate(r,h);switch(o){case g6:case q2:case cm:case x6:return this.onEnd(o),this.ended=!0,!1}if(d=r.avail_out,r.next_out&&(r.avail_out===0||o===om))if(this.options.to==="string"){let f=Om.utf8border(r.output,r.next_out),p=r.next_out-f,b=Om.buf2string(r.output,f);r.next_out=p,r.avail_out=l-p,p&&r.output.set(r.output.subarray(f,f+p),0),this.onData(b)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===vd&&d===0)){if(o===om)return o=Dl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Sd.prototype.onData=function(i){this.chunks.push(i)};Sd.prototype.onEnd=function(i){i===vd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ry.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function y6(i,a){const r=new Sd(a);if(r.push(i),r.err)throw r.msg||Dm[r.err];return r.result}var b6=Sd,v6=y6,w6={Inflate:b6,inflate:v6};const{Inflate:N6,inflate:j6}=w6;var H2=N6,S6=j6;const Ky=[];for(let i=0;i<256;i++){let a=i;for(let r=0;r<8;r++)a&1?a=3988292384^a>>>1:a=a>>>1;Ky[i]=a}const V2=4294967295;function k6(i,a,r){let l=i;for(let c=0;c<r;c++)l=Ky[(l^a[c])&255]^l>>>8;return l}function _6(i,a){return(k6(V2,i,a)^V2)>>>0}function G2(i,a,r){const l=i.readUint32(),c=_6(new Uint8Array(i.buffer,i.byteOffset+i.offset-a-4,a),a);if(c!==l)throw new Error(`CRC mismatch for chunk ${r}. Expected ${l}, found ${c}`)}function Qy(i,a,r){for(let l=0;l<r;l++)a[l]=i[l]}function Jy(i,a,r,l){let c=0;for(;c<l;c++)a[c]=i[c];for(;c<r;c++)a[c]=i[c]+a[c-l]&255}function Wy(i,a,r,l){let c=0;if(r.length===0)for(;c<l;c++)a[c]=i[c];else for(;c<l;c++)a[c]=i[c]+r[c]&255}function $y(i,a,r,l,c){let o=0;if(r.length===0){for(;o<c;o++)a[o]=i[o];for(;o<l;o++)a[o]=i[o]+(a[o-c]>>1)&255}else{for(;o<c;o++)a[o]=i[o]+(r[o]>>1)&255;for(;o<l;o++)a[o]=i[o]+(a[o-c]+r[o]>>1)&255}}function e5(i,a,r,l,c){let o=0;if(r.length===0){for(;o<c;o++)a[o]=i[o];for(;o<l;o++)a[o]=i[o]+a[o-c]&255}else{for(;o<c;o++)a[o]=i[o]+r[o]&255;for(;o<l;o++)a[o]=i[o]+A6(a[o-c],r[o],r[o-c])&255}}function A6(i,a,r){const l=i+a-r,c=Math.abs(l-i),o=Math.abs(l-a),h=Math.abs(l-r);return c<=o&&c<=h?i:o<=h?a:r}function C6(i,a,r,l,c,o){switch(i){case 0:Qy(a,r,c);break;case 1:Jy(a,r,c,o);break;case 2:Wy(a,r,l,c);break;case 3:$y(a,r,l,c,o);break;case 4:e5(a,r,l,c,o);break;default:throw new Error(`Unsupported filter: ${i}`)}}const E6=new Uint16Array([255]),L6=new Uint8Array(E6.buffer),T6=L6[0]===255;function D6(i){const{data:a,width:r,height:l,channels:c,depth:o}=i,h=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(o/8)*c,f=new Uint8Array(l*r*d);let p=0;for(let b=0;b<7;b++){const N=h[b],S=Math.ceil((r-N.x)/N.xStep),g=Math.ceil((l-N.y)/N.yStep);if(S<=0||g<=0)continue;const E=S*d,w=new Uint8Array(E);for(let C=0;C<g;C++){const k=a[p++],D=a.subarray(p,p+E);p+=E;const T=new Uint8Array(E);C6(k,D,T,w,E,d),w.set(T);for(let M=0;M<S;M++){const q=N.x+M*N.xStep,P=N.y+C*N.yStep;if(!(q>=r||P>=l))for(let B=0;B<d;B++)f[(P*r+q)*d+B]=T[M*d+B]}}}if(o===16){const b=new Uint16Array(f.buffer);if(T6)for(let N=0;N<b.length;N++)b[N]=O6(b[N]);return b}else return f}function O6(i){return(i&255)<<8|i>>8&255}const M6=new Uint16Array([255]),R6=new Uint8Array(M6.buffer),z6=R6[0]===255,I6=new Uint8Array(0);function Y2(i){const{data:a,width:r,height:l,channels:c,depth:o}=i,h=Math.ceil(o/8)*c,d=Math.ceil(o/8*c*r),f=new Uint8Array(l*d);let p=I6,b=0,N,S;for(let g=0;g<l;g++){switch(N=a.subarray(b+1,b+1+d),S=f.subarray(g*d,(g+1)*d),a[b]){case 0:Qy(N,S,d);break;case 1:Jy(N,S,d,h);break;case 2:Wy(N,S,p,d);break;case 3:$y(N,S,p,d,h);break;case 4:e5(N,S,p,d,h);break;default:throw new Error(`Unsupported filter: ${a[b]}`)}p=S,b+=d+1}if(o===16){const g=new Uint16Array(f.buffer);if(z6)for(let E=0;E<g.length;E++)g[E]=F6(g[E]);return g}else return f}function F6(i){return(i&255)<<8|i>>8&255}const Oh=Uint8Array.of(137,80,78,71,13,10,26,10);function Z2(i){if(!B6(i.readBytes(Oh.length)))throw new Error("wrong PNG signature")}function B6(i){if(i.length<Oh.length)return!1;for(let a=0;a<Oh.length;a++)if(i[a]!==Oh[a])return!1;return!0}const P6="tEXt",U6=0,t5=new TextDecoder("latin1");function q6(i){if(V6(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const H6=/^[\u0000-\u00FF]*$/;function V6(i){if(!H6.test(i))throw new Error("invalid latin1 text")}function G6(i,a,r){const l=r5(a);i[l]=Y6(a,r-l.length-1)}function r5(i){for(i.mark();i.readByte()!==U6;);const a=i.offset;i.reset();const r=t5.decode(i.readBytes(a-i.offset-1));return i.skip(1),q6(r),r}function Y6(i,a){return t5.decode(i.readBytes(a))}const bi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},um={UNKNOWN:-1,DEFLATE:0},X2={UNKNOWN:-1,ADAPTIVE:0},dm={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Sh={NONE:0,BACKGROUND:1,PREVIOUS:2},hm={SOURCE:0,OVER:1};class Z6 extends Xm{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(a,r={}){super(a);const{checkCrc:l=!1}=r;this._checkCrc=l,this._inflator=new H2,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=um.UNKNOWN,this._filterMethod=X2.UNKNOWN,this._interlaceMethod=dm.UNKNOWN,this._colorType=bi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z2(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeChunk(a,r)}return this.decodeImage(),this._png}decodeApng(){for(Z2(this);!this._end;){const a=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(a,r)}return this.decodeApngImage(),this._apng}decodeChunk(a,r){const l=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(a);break;case"IDAT":this.decodeIDAT(a);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(a);break;case"iCCP":this.decodeiCCP(a);break;case P6:G6(this._png.text,this,a);break;case"pHYs":this.decodepHYs();break;default:this.skip(a);break}if(this.offset-l!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?G2(this,a+4,r):this.skip(4)}decodeApngChunk(a,r){const l=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(a);break;default:this.decodeChunk(a,r),this.offset=l+a;break}if(this.offset-l!==a)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?G2(this,a+4,r):this.skip(4)}decodeIHDR(){const a=this._png;a.width=this.readUint32(),a.height=this.readUint32(),a.depth=X6(this.readUint8());const r=this.readUint8();this._colorType=r;let l;switch(r){case bi.GREYSCALE:l=1;break;case bi.TRUECOLOUR:l=3;break;case bi.INDEXED_COLOUR:l=1;break;case bi.GREYSCALE_ALPHA:l=2;break;case bi.TRUECOLOUR_ALPHA:l=4;break;case bi.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=l,this._compressionMethod=this.readUint8(),this._compressionMethod!==um.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const a={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(a)}decodePLTE(a){if(a%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${a}`);const r=a/3;this._hasPalette=!0;const l=[];this._palette=l;for(let c=0;c<r;c++)l.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(a){this._writingDataChunks=!0;const r=a,l=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodeFDAT(a){this._writingDataChunks=!0;let r=a,l=this.offset+this.byteOffset;if(l+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,l,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(a)}decodetRNS(a){switch(this._colorType){case bi.GREYSCALE:case bi.TRUECOLOUR:{if(a%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${a}`);if(a/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${a/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(a/2);for(let r=0;r<a/2;r++)this._transparency[r]=this.readUint16();break}case bi.INDEXED_COLOUR:{if(a>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${a} vs ${this._palette.length})`);let r=0;for(;r<a;r++){const l=this.readByte();this._palette[r].push(l)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case bi.UNKNOWN:case bi.GREYSCALE_ALPHA:case bi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(a){const r=r5(this),l=this.readUint8();if(l!==um.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${l}`);const c=this.readBytes(a-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:S6(c)}}decodepHYs(){const a=this.readUint32(),r=this.readUint32(),l=this.readByte();this._png.resolution={x:a,y:r,unit:l}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let a=0;a<this._numberOfFrames;a++){const r={sequenceNumber:this._frames[a].sequenceNumber,delayNumber:this._frames[a].delayNumber,delayDenominator:this._frames[a].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},l=this._frames.at(a);if(l){if(l.data=Y2({data:l.data,width:l.width,height:l.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),a===0||l.xOffset===0&&l.yOffset===0&&l.width===this._png.width&&l.height===this._png.height)r.data=l.data;else{const c=this._apng.frames.at(a-1);this.disposeFrame(l,c,r),this.addFrameDataToCanvas(r,l)}this._apng.frames.push(r)}}return this._apng}disposeFrame(a,r,l){switch(a.disposeOp){case Sh.NONE:break;case Sh.BACKGROUND:for(let c=0;c<this._png.height;c++)for(let o=0;o<this._png.width;o++){const h=(c*a.width+o)*this._png.channels;for(let d=0;d<this._png.channels;d++)l.data[h+d]=0}break;case Sh.PREVIOUS:l.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(a,r){const l=1<<this._png.depth,c=(o,h)=>{const d=((o+r.yOffset)*this._png.width+r.xOffset+h)*this._png.channels,f=(o*r.width+h)*this._png.channels;return{index:d,frameIndex:f}};switch(r.blendOp){case hm.SOURCE:for(let o=0;o<r.height;o++)for(let h=0;h<r.width;h++){const{index:d,frameIndex:f}=c(o,h);for(let p=0;p<this._png.channels;p++)a.data[d+p]=r.data[f+p]}break;case hm.OVER:for(let o=0;o<r.height;o++)for(let h=0;h<r.width;h++){const{index:d,frameIndex:f}=c(o,h);for(let p=0;p<this._png.channels;p++){const b=r.data[f+this._png.channels-1]/l,N=p%(this._png.channels-1)===0?1:r.data[f+p],S=Math.floor(b*N+(1-b)*a.data[d+p]);a.data[d+p]+=S}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const a=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==X2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===dm.NO_INTERLACE)this._png.data=Y2({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===dm.ADAM7)this._png.data=D6({data:a,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const a=this._inflator.result,r=this._frames.at(-1);r?r.data=a:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Sh.NONE,blendOp:hm.SOURCE,data:a}),this._inflator=new H2,this._writingDataChunks=!1}}function X6(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var K2;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(K2||(K2={}));function K6(i,a){return new Z6(i,a).decode()}var qt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function fm(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var Fr={log:fm,warn:function(i){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):fm.call(null,arguments))},error:function(i){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):fm(i))}};function mm(i,a,r){var l=new XMLHttpRequest;l.open("GET",i),l.responseType="blob",l.onload=function(){ec(l.response,a,r)},l.onerror=function(){Fr.error("could not download file")},l.send()}function Q2(i){var a=new XMLHttpRequest;a.open("HEAD",i,!1);try{a.send()}catch{}return a.status>=200&&a.status<=299}function kh(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(a)}}var ec=qt.saveAs||((typeof window>"u"?"undefined":kr(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,a,r){var l=qt.URL||qt.webkitURL,c=document.createElement("a");a=a||i.name||"download",c.download=a,c.rel="noopener",typeof i=="string"?(c.href=i,c.origin!==location.origin?Q2(c.href)?mm(i,a,r):kh(c,c.target="_blank"):kh(c)):(c.href=l.createObjectURL(i),setTimeout(function(){l.revokeObjectURL(c.href)},4e4),setTimeout(function(){kh(c)},0))}:"msSaveOrOpenBlob"in navigator?function(i,a,r){if(a=a||i.name||"download",typeof i=="string")if(Q2(i))mm(i,a,r);else{var l=document.createElement("a");l.href=i,l.target="_blank",setTimeout(function(){kh(l)})}else navigator.msSaveOrOpenBlob((function(c,o){return o===void 0?o={autoBom:!1}:kr(o)!=="object"&&(Fr.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c})(i,r),a)}:function(i,a,r,l){if((l=l||open("","_blank"))&&(l.document.title=l.document.body.innerText="downloading..."),typeof i=="string")return mm(i,a,r);var c=i.type==="application/octet-stream",o=/constructor/i.test(qt.HTMLElement)||qt.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||c&&o)&&(typeof FileReader>"u"?"undefined":kr(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var b=d.result;b=h?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=b:location=b,l=null},d.readAsDataURL(i)}else{var f=qt.URL||qt.webkitURL,p=f.createObjectURL(i);l?l.location=p:location.href=p,l=null,setTimeout(function(){f.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function a5(i){var a;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],l=0;l<r.length;l++){var c=r[l].re,o=r[l].process,h=c.exec(i);h&&(a=o(h),this.r=a[0],this.g=a[1],this.b=a[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+d+f+p}}var Mh=qt.atob.bind(qt),J2=qt.btoa.bind(qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pm(i,a){var r=i[0],l=i[1],c=i[2],o=i[3];r=pn(r,l,c,o,a[0],7,-680876936),o=pn(o,r,l,c,a[1],12,-389564586),c=pn(c,o,r,l,a[2],17,606105819),l=pn(l,c,o,r,a[3],22,-1044525330),r=pn(r,l,c,o,a[4],7,-176418897),o=pn(o,r,l,c,a[5],12,1200080426),c=pn(c,o,r,l,a[6],17,-1473231341),l=pn(l,c,o,r,a[7],22,-45705983),r=pn(r,l,c,o,a[8],7,1770035416),o=pn(o,r,l,c,a[9],12,-1958414417),c=pn(c,o,r,l,a[10],17,-42063),l=pn(l,c,o,r,a[11],22,-1990404162),r=pn(r,l,c,o,a[12],7,1804603682),o=pn(o,r,l,c,a[13],12,-40341101),c=pn(c,o,r,l,a[14],17,-1502002290),r=gn(r,l=pn(l,c,o,r,a[15],22,1236535329),c,o,a[1],5,-165796510),o=gn(o,r,l,c,a[6],9,-1069501632),c=gn(c,o,r,l,a[11],14,643717713),l=gn(l,c,o,r,a[0],20,-373897302),r=gn(r,l,c,o,a[5],5,-701558691),o=gn(o,r,l,c,a[10],9,38016083),c=gn(c,o,r,l,a[15],14,-660478335),l=gn(l,c,o,r,a[4],20,-405537848),r=gn(r,l,c,o,a[9],5,568446438),o=gn(o,r,l,c,a[14],9,-1019803690),c=gn(c,o,r,l,a[3],14,-187363961),l=gn(l,c,o,r,a[8],20,1163531501),r=gn(r,l,c,o,a[13],5,-1444681467),o=gn(o,r,l,c,a[2],9,-51403784),c=gn(c,o,r,l,a[7],14,1735328473),r=xn(r,l=gn(l,c,o,r,a[12],20,-1926607734),c,o,a[5],4,-378558),o=xn(o,r,l,c,a[8],11,-2022574463),c=xn(c,o,r,l,a[11],16,1839030562),l=xn(l,c,o,r,a[14],23,-35309556),r=xn(r,l,c,o,a[1],4,-1530992060),o=xn(o,r,l,c,a[4],11,1272893353),c=xn(c,o,r,l,a[7],16,-155497632),l=xn(l,c,o,r,a[10],23,-1094730640),r=xn(r,l,c,o,a[13],4,681279174),o=xn(o,r,l,c,a[0],11,-358537222),c=xn(c,o,r,l,a[3],16,-722521979),l=xn(l,c,o,r,a[6],23,76029189),r=xn(r,l,c,o,a[9],4,-640364487),o=xn(o,r,l,c,a[12],11,-421815835),c=xn(c,o,r,l,a[15],16,530742520),r=yn(r,l=xn(l,c,o,r,a[2],23,-995338651),c,o,a[0],6,-198630844),o=yn(o,r,l,c,a[7],10,1126891415),c=yn(c,o,r,l,a[14],15,-1416354905),l=yn(l,c,o,r,a[5],21,-57434055),r=yn(r,l,c,o,a[12],6,1700485571),o=yn(o,r,l,c,a[3],10,-1894986606),c=yn(c,o,r,l,a[10],15,-1051523),l=yn(l,c,o,r,a[1],21,-2054922799),r=yn(r,l,c,o,a[8],6,1873313359),o=yn(o,r,l,c,a[15],10,-30611744),c=yn(c,o,r,l,a[6],15,-1560198380),l=yn(l,c,o,r,a[13],21,1309151649),r=yn(r,l,c,o,a[4],6,-145523070),o=yn(o,r,l,c,a[11],10,-1120210379),c=yn(c,o,r,l,a[2],15,718787259),l=yn(l,c,o,r,a[9],21,-343485551),i[0]=vo(r,i[0]),i[1]=vo(l,i[1]),i[2]=vo(c,i[2]),i[3]=vo(o,i[3])}function sf(i,a,r,l,c,o){return a=vo(vo(a,i),vo(l,o)),vo(a<<c|a>>>32-c,r)}function pn(i,a,r,l,c,o,h){return sf(a&r|~a&l,i,a,c,o,h)}function gn(i,a,r,l,c,o,h){return sf(a&l|r&~l,i,a,c,o,h)}function xn(i,a,r,l,c,o,h){return sf(a^r^l,i,a,c,o,h)}function yn(i,a,r,l,c,o,h){return sf(r^(a|~l),i,a,c,o,h)}function n5(i){var a,r=i.length,l=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=i.length;a+=64)pm(l,Q6(i.substring(a-64,a)));i=i.substring(a-64);var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<i.length;a++)c[a>>2]|=i.charCodeAt(a)<<(a%4<<3);if(c[a>>2]|=128<<(a%4<<3),a>55)for(pm(l,c),a=0;a<16;a++)c[a]=0;return c[14]=8*r,pm(l,c),l}function Q6(i){var a,r=[];for(a=0;a<64;a+=4)r[a>>2]=i.charCodeAt(a)+(i.charCodeAt(a+1)<<8)+(i.charCodeAt(a+2)<<16)+(i.charCodeAt(a+3)<<24);return r}var W2="0123456789abcdef".split("");function J6(i){for(var a="",r=0;r<4;r++)a+=W2[i>>8*r+4&15]+W2[i>>8*r&15];return a}function W6(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function Mm(i){return n5(i).map(W6).join("")}var $6=(function(i){for(var a=0;a<i.length;a++)i[a]=J6(i[a]);return i.join("")})(n5("hello"))!="5d41402abc4b2a76b9719d911017c592";function vo(i,a){if($6){var r=(65535&i)+(65535&a);return(i>>16)+(a>>16)+(r>>16)<<16|65535&r}return i+a&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Rm(i,a){var r,l,c,o;if(i!==r){for(var h=(c=i,o=1+(256/i.length|0),new Array(o+1).join(c)),d=[],f=0;f<256;f++)d[f]=f;var p=0;for(f=0;f<256;f++){var b=d[f];p=(p+b+h.charCodeAt(f))%256,d[f]=d[p],d[p]=b}r=i,l=d}else d=l;var N=a.length,S=0,g=0,E="";for(f=0;f<N;f++)g=(g+(b=d[S=(S+1)%256]))%256,d[S]=d[g],d[g]=b,h=d[(d[S]+d[g])%256],E+=String.fromCharCode(a.charCodeAt(f)^h);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $2={print:4,modify:8,copy:16,"annot-forms":32};function uu(i,a,r,l){this.v=1,this.r=2;var c=192;i.forEach(function(d){if($2.perm!==void 0)throw new Error("Invalid permission: "+d);c+=$2[d]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(a+this.padding).substr(0,32),h=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,h),this.P=-(1+(255^c)),this.encryptionKey=Mm(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(l)).substr(0,5),this.U=Rm(this.encryptionKey,this.padding)}function du(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var a="",r=i.length,l=0;l<r;l++){var c=i.charCodeAt(l);a+=c<33||c===35||c===37||c===40||c===41||c===47||c===60||c===62||c===91||c===93||c===123||c===125||c>126?"#"+("0"+c.toString(16)).slice(-2):i[l]}return a}function ex(i){if(kr(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var a={};this.subscribe=function(r,l,c){if(c=c||!1,typeof r!="string"||typeof l!="function"||typeof c!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");a.hasOwnProperty(r)||(a[r]={});var o=Math.random().toString(35);return a[r][o]=[l,!!c],o},this.unsubscribe=function(r){for(var l in a)if(a[l][r])return delete a[l][r],Object.keys(a[l]).length===0&&delete a[l],!0;return!1},this.publish=function(r){if(a.hasOwnProperty(r)){var l=Array.prototype.slice.call(arguments,1),c=[];for(var o in a[r]){var h=a[r][o];try{h[0].apply(i,l)}catch(d){qt.console&&Fr.error("jsPDF PubSub Error",d.message,d)}h[1]&&c.push(o)}c.length&&c.forEach(this.unsubscribe)}},this.getTopics=function(){return a}}function Yh(i){if(!(this instanceof Yh))return new Yh(i);var a="opacity,stroke-opacity".split(",");for(var r in i)i.hasOwnProperty(r)&&a.indexOf(r)>=0&&(this[r]=i[r]);this.id="",this.objectNumber=-1}function i5(i,a){this.gState=i,this.matrix=a,this.id="",this.objectNumber=-1}function rc(i,a,r,l,c){if(!(this instanceof rc))return new rc(i,a,r,l,c);this.type=i==="axial"?2:3,this.coords=a,this.colors=r,i5.call(this,l,c)}function hu(i,a,r,l,c){if(!(this instanceof hu))return new hu(i,a,r,l,c);this.boundingBox=i,this.xStep=a,this.yStep=r,this.stream="",this.cloneIndex=0,i5.call(this,l,c)}function At(i){var a,r=typeof arguments[0]=="string"?arguments[0]:"p",l=arguments[1],c=arguments[2],o=arguments[3],h=[],d=1,f=16,p="S",b=null;kr(i=i||{})==="object"&&(r=i.orientation,l=i.unit||l,c=i.format||c,o=i.compress||i.compressPdf||o,(b=i.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),d=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(a=i.precision),i.floatPrecision!==void 0&&(f=i.floatPrecision),p=i.defaultPathOperation||"S"),h=i.filters||(o===!0?["FlateEncode"]:h),l=l||"mm",r=(""+(r||"P")).toLowerCase();var N=i.putOnlyUsedFonts||!1,S={},g={internal:{},__private__:{}};g.__private__.PubSub=ex;var E="1.3",w=g.__private__.getPdfVersion=function(){return E};g.__private__.setPdfVersion=function(_){E=_};var C={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return C};var k=g.__private__.getPageFormat=function(_){return C[_]};c=c||"a4";var D="compat",T="advanced",M=D;function q(){this.saveGraphicsState(),Z(new Lt(Ct,0,0,-Ct,0,as()*Ct).toString()+" cm"),this.setFontSize(this.getFontSize()/Ct),p="n",M=T}function P(){this.restoreGraphicsState(),p="S",M=D}var B=g.__private__.combineFontStyleAndFontWeight=function(_,G){if(_=="bold"&&G=="normal"||_=="bold"&&G==400||_=="normal"&&G=="italic"||_=="bold"&&G=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return G&&(_=G==400||G==="normal"?_==="italic"?"italic":"normal":G!=700&&G!=="bold"||_!=="normal"?(G==700?"bold":G)+""+_:"bold"),_};g.advancedAPI=function(_){var G=M===D;return G&&q.call(this),typeof _!="function"||(_(this),G&&P.call(this)),this},g.compatAPI=function(_){var G=M===T;return G&&P.call(this),typeof _!="function"||(_(this),G&&q.call(this)),this},g.isAdvancedAPI=function(){return M===T};var V,F=function(_){if(M!==T)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=g.roundToPrecision=g.__private__.roundToPrecision=function(_,G){var me=a||G;if(isNaN(_)||isNaN(me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(me).replace(/0+$/,"")};V=g.hpf=g.__private__.hpf=typeof f=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return re(_,f)}:f==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return re(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return re(_,16)};var U=g.f2=g.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return re(_,2)},A=g.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return re(_,3)},H=g.scale=g.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return M===D?_*Ct:M===T?_:void 0},j=function(_){return H((function(G){return M===D?as()-G:M===T?G:void 0})(_))};g.__private__.setPrecision=g.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(a=parseInt(_,10))};var $,W="00000000000000000000000000000000",ie=g.__private__.getFileId=function(){return W},ee=g.__private__.setFileId=function(_){return W=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(ra=new uu(b.userPermissions,b.userPassword,b.ownerPassword,W)),W};g.setFileId=function(_){return ee(_),this},g.getFileId=function(){return ie()};var ue=g.__private__.convertDateToPDFDate=function(_){var G=_.getTimezoneOffset(),me=G<0?"+":"-",xe=Math.floor(Math.abs(G/60)),Ce=Math.abs(G%60),Xe=[me,ae(xe),"'",ae(Ce),"'"].join("");return["D:",_.getFullYear(),ae(_.getMonth()+1),ae(_.getDate()),ae(_.getHours()),ae(_.getMinutes()),ae(_.getSeconds()),Xe].join("")},ve=g.__private__.convertPDFDateToDate=function(_){var G=parseInt(_.substr(2,4),10),me=parseInt(_.substr(6,2),10)-1,xe=parseInt(_.substr(8,2),10),Ce=parseInt(_.substr(10,2),10),Xe=parseInt(_.substr(12,2),10),tt=parseInt(_.substr(14,2),10);return new Date(G,me,xe,Ce,Xe,tt,0)},ce=g.__private__.setCreationDate=function(_){var G;if(_===void 0&&(_=new Date),_ instanceof Date)G=ue(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");G=_}return $=G},z=g.__private__.getCreationDate=function(_){var G=$;return _==="jsDate"&&(G=ve($)),G};g.setCreationDate=function(_){return ce(_),this},g.getCreationDate=function(_){return z(_)};var Q,ae=g.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},oe=g.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},ye=0,Se=[],_e=[],Ae=0,Be=[],Ke=[],pe=!1,Ue=_e;g.__private__.setCustomOutputDestination=function(_){pe=!0,Ue=_};var O=function(_){pe||(Ue=_)};g.__private__.resetCustomOutputDestination=function(){pe=!1,Ue=_e};var Z=g.__private__.out=function(_){return _=_.toString(),Ae+=_.length+1,Ue.push(_),Ue},ke=g.__private__.write=function(_){return Z(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},se=g.__private__.getArrayBuffer=function(_){for(var G=_.length,me=new ArrayBuffer(G),xe=new Uint8Array(me);G--;)xe[G]=_.charCodeAt(G);return me},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return te};var he=i.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(_){return he=M===T?_/Ct:_,this};var Oe,Le=g.__private__.getFontSize=g.getFontSize=function(){return M===D?he:he*Ct},Ne=i.R2L||!1;g.__private__.setR2L=g.setR2L=function(_){return Ne=_,this},g.__private__.getR2L=g.getR2L=function(){return Ne};var Pe,et=g.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))Oe=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');Oe=_}else Oe=parseInt(_,10)};g.__private__.getZoomMode=function(){return Oe};var Ye,it=g.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Pe=_};g.__private__.getPageMode=function(){return Pe};var kt=g.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Ye=_};g.__private__.getLayoutMode=function(){return Ye},g.__private__.setDisplayMode=g.setDisplayMode=function(_,G,me){return et(_),kt(G),it(me),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(_){if(Object.keys(ut).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[_]},g.__private__.getDocumentProperties=function(){return ut},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(_){for(var G in ut)ut.hasOwnProperty(G)&&_[G]&&(ut[G]=_[G]);return this},g.__private__.setDocumentProperty=function(_,G){if(Object.keys(ut).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[_]=G};var ht,Ct,pt,or,St,dt={},Et={},It=[],Dt={},Jt={},Pt={},Ar={},Mr=null,Wt=0,_t=[],ir=new ex(g),ai=i.hotfixes||[],Ua={},Si={},zn=[],Lt=function _(G,me,xe,Ce,Xe,tt){if(!(this instanceof _))return new _(G,me,xe,Ce,Xe,tt);isNaN(G)&&(G=1),isNaN(me)&&(me=0),isNaN(xe)&&(xe=0),isNaN(Ce)&&(Ce=1),isNaN(Xe)&&(Xe=0),isNaN(tt)&&(tt=0),this._matrix=[G,me,xe,Ce,Xe,tt]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(V).join(_)},Lt.prototype.multiply=function(_){var G=_.sx*this.sx+_.shy*this.shx,me=_.sx*this.shy+_.shy*this.sy,xe=_.shx*this.sx+_.sy*this.shx,Ce=_.shx*this.shy+_.sy*this.sy,Xe=_.tx*this.sx+_.ty*this.shx+this.tx,tt=_.tx*this.shy+_.ty*this.sy+this.ty;return new Lt(G,me,xe,Ce,Xe,tt)},Lt.prototype.decompose=function(){var _=this.sx,G=this.shy,me=this.shx,xe=this.sy,Ce=this.tx,Xe=this.ty,tt=Math.sqrt(_*_+G*G),yt=(_/=tt)*me+(G/=tt)*xe;me-=_*yt,xe-=G*yt;var Nt=Math.sqrt(me*me+xe*xe);return yt/=Nt,_*(xe/=Nt)<G*(me/=Nt)&&(_=-_,G=-G,yt=-yt,tt=-tt),{scale:new Lt(tt,0,0,Nt,0,0),translate:new Lt(1,0,0,1,Ce,Xe),rotate:new Lt(_,G,-G,_,0,0),skew:new Lt(1,0,yt,1,0,0)}},Lt.prototype.toString=function(_){return this.join(" ")},Lt.prototype.inversed=function(){var _=this.sx,G=this.shy,me=this.shx,xe=this.sy,Ce=this.tx,Xe=this.ty,tt=1/(_*xe-G*me),yt=xe*tt,Nt=-G*tt,Bt=-me*tt,Ht=_*tt;return new Lt(yt,Nt,Bt,Ht,-yt*Ce-Bt*Xe,-Nt*Ce-Ht*Xe)},Lt.prototype.applyToPoint=function(_){var G=_.x*this.sx+_.y*this.shx+this.tx,me=_.x*this.shy+_.y*this.sy+this.ty;return new Ei(G,me)},Lt.prototype.applyToRectangle=function(_){var G=this.applyToPoint(_),me=this.applyToPoint(new Ei(_.x+_.w,_.y+_.h));return new es(G.x,G.y,me.x-G.x,me.y-G.y)},Lt.prototype.clone=function(){var _=this.sx,G=this.shy,me=this.shx,xe=this.sy,Ce=this.tx,Xe=this.ty;return new Lt(_,G,me,xe,Ce,Xe)},g.Matrix=Lt;var Zi=g.matrixMult=function(_,G){return G.multiply(_)},ki=new Lt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ki;var wn=function(_,G){if(!Jt[_]){var me=(G instanceof rc?"Sh":"P")+(Object.keys(Dt).length+1).toString(10);G.id=me,Jt[_]=me,Dt[me]=G,ir.publish("addPattern",G)}};g.ShadingPattern=rc,g.TilingPattern=hu,g.addShadingPattern=function(_,G){return F("addShadingPattern()"),wn(_,G),this},g.beginTilingPattern=function(_){F("beginTilingPattern()"),sl(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},g.endTilingPattern=function(_,G){F("endTilingPattern()"),G.stream=Ke[Q].join(`
`),wn(_,G),ir.publish("endTilingPattern",G),zn.pop().restore()};var Nn,Br=g.__private__.newObject=function(){var _=oa();return ja(_,!0),_},oa=g.__private__.newObjectDeferred=function(){return ye++,Se[ye]=function(){return Ae},ye},ja=function(_,G){return G=typeof G=="boolean"&&G,Se[_]=Ae,G&&Z(_+" 0 obj"),_},Ss=g.__private__.newAdditionalObject=function(){var _={objId:oa(),content:""};return Be.push(_),_},Wa=oa(),wr=oa(),Pr=g.__private__.decodeColorString=function(_){var G=_.split(" ");if(G.length!==2||G[1]!=="g"&&G[1]!=="G")G.length!==5||G[4]!=="k"&&G[4]!=="K"||(G=[(1-G[0])*(1-G[3]),(1-G[1])*(1-G[3]),(1-G[2])*(1-G[3]),"r"]);else{var me=parseFloat(G[0]);G=[me,me,me,"r"]}for(var xe="#",Ce=0;Ce<3;Ce++)xe+=("0"+Math.floor(255*parseFloat(G[Ce])).toString(16)).slice(-2);return xe},qa=g.__private__.encodeColorString=function(_){var G;typeof _=="string"&&(_={ch1:_});var me=_.ch1,xe=_.ch2,Ce=_.ch3,Xe=_.ch4,tt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof me=="string"&&me.charAt(0)!=="#"){var yt=new a5(me);if(yt.ok)me=yt.toHex();else if(!/^\d*\.?\d*$/.test(me))throw new Error('Invalid color "'+me+'" passed to jsPDF.encodeColorString.')}if(typeof me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(me)&&(me="#"+me[1]+me[1]+me[2]+me[2]+me[3]+me[3]),typeof me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(me)){var Nt=parseInt(me.substr(1),16);me=Nt>>16&255,xe=Nt>>8&255,Ce=255&Nt}if(xe===void 0||Xe===void 0&&me===xe&&xe===Ce)G=typeof me=="string"?me+" "+tt[0]:_.precision===2?U(me/255)+" "+tt[0]:A(me/255)+" "+tt[0];else if(Xe===void 0||kr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",tt[1]].join(" ");G=typeof me=="string"?[me,xe,Ce,tt[1]].join(" "):_.precision===2?[U(me/255),U(xe/255),U(Ce/255),tt[1]].join(" "):[A(me/255),A(xe/255),A(Ce/255),tt[1]].join(" ")}else G=typeof me=="string"?[me,xe,Ce,Xe,tt[2]].join(" "):_.precision===2?[U(me),U(xe),U(Ce),U(Xe),tt[2]].join(" "):[A(me),A(xe),A(Ce),A(Xe),tt[2]].join(" ");return G},jn=g.__private__.getFilters=function(){return h},In=g.__private__.putStream=function(_){var G=(_=_||{}).data||"",me=_.filters||jn(),xe=_.alreadyAppliedFilters||[],Ce=_.addLength1||!1,Xe=G.length,tt=_.objectId,yt=function(xa){return xa};if(b!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(yt=ra.encryptor(tt,0));var Nt={};me===!0&&(me=["FlateEncode"]);var Bt=_.additionalKeyValues||[],Ht=(Nt=At.API.processDataByFilters!==void 0?At.API.processDataByFilters(G,me):{data:G,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(Nt.data.length!==0&&(Bt.push({key:"Length",value:Nt.data.length}),Ce===!0&&Bt.push({key:"Length1",value:Xe})),Ht.length!=0)if(Ht.split("/").length-1==1)Bt.push({key:"Filter",value:Ht});else{Bt.push({key:"Filter",value:"["+Ht+"]"});for(var hr=0;hr<Bt.length;hr+=1)if(Bt[hr].key==="DecodeParms"){for(var Ur=[],aa=0;aa<Nt.reverseChain.split("/").length-1;aa+=1)Ur.push("null");Ur.push(Bt[hr].value),Bt[hr].value="["+Ur.join(" ")+"]"}}Z("<<");for(var Cr=0;Cr<Bt.length;Cr++)Z("/"+Bt[Cr].key+" "+Bt[Cr].value);Z(">>"),Nt.data.length!==0&&(Z("stream"),Z(yt(Nt.data)),Z("endstream"))},$s=g.__private__.putPage=function(_){var G=_.number,me=_.data,xe=_.objId,Ce=_.contentsObjId;ja(xe,!0),Z("<</Type /Page"),Z("/Parent "+_.rootDictionaryObjId+" 0 R"),Z("/Resources "+_.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(V(_.mediaBox.bottomLeftX))+" "+parseFloat(V(_.mediaBox.bottomLeftY))+" "+V(_.mediaBox.topRightX)+" "+V(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&Z("/CropBox ["+V(_.cropBox.bottomLeftX)+" "+V(_.cropBox.bottomLeftY)+" "+V(_.cropBox.topRightX)+" "+V(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&Z("/BleedBox ["+V(_.bleedBox.bottomLeftX)+" "+V(_.bleedBox.bottomLeftY)+" "+V(_.bleedBox.topRightX)+" "+V(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&Z("/TrimBox ["+V(_.trimBox.bottomLeftX)+" "+V(_.trimBox.bottomLeftY)+" "+V(_.trimBox.topRightX)+" "+V(_.trimBox.topRightY)+"]"),_.artBox!==null&&Z("/ArtBox ["+V(_.artBox.bottomLeftX)+" "+V(_.artBox.bottomLeftY)+" "+V(_.artBox.topRightX)+" "+V(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&Z("/UserUnit "+_.userUnit),ir.publish("putPage",{objId:xe,pageContext:_t[G],pageNumber:G,page:me}),Z("/Contents "+Ce+" 0 R"),Z(">>"),Z("endobj");var Xe=me.join(`
`);return M===T&&(Xe+=`
Q`),ja(Ce,!0),In({data:Xe,filters:jn(),objectId:Ce}),Z("endobj"),xe},ni=g.__private__.putPages=function(){var _,G,me=[];for(_=1;_<=Wt;_++)_t[_].objId=oa(),_t[_].contentsObjId=oa();for(_=1;_<=Wt;_++)me.push($s({number:_,data:Ke[_],objId:_t[_].objId,contentsObjId:_t[_].contentsObjId,mediaBox:_t[_].mediaBox,cropBox:_t[_].cropBox,bleedBox:_t[_].bleedBox,trimBox:_t[_].trimBox,artBox:_t[_].artBox,userUnit:_t[_].userUnit,rootDictionaryObjId:Wa,resourceDictionaryObjId:wr}));ja(Wa,!0),Z("<</Type /Pages");var xe="/Kids [";for(G=0;G<Wt;G++)xe+=me[G]+" 0 R ";Z(xe+"]"),Z("/Count "+Wt),Z(">>"),Z("endobj"),ir.publish("postPutPages")},ii=function(_){ir.publish("putFont",{font:_,out:Z,newObject:Br,putStream:In}),_.isAlreadyPutted!==!0&&(_.objectNumber=Br(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+du(_.postScriptName)),Z("/Subtype /Type1"),typeof _.encoding=="string"&&Z("/Encoding /"+_.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},ks=function(_){_.objectNumber=Br();var G=[];G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Form"}),G.push({key:"BBox",value:"["+[V(_.x),V(_.y),V(_.x+_.width),V(_.y+_.height)].join(" ")+"]"}),G.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var me=_.pages[1].join(`
`);In({data:me,additionalKeyValues:G,objectId:_.objectNumber}),Z("endobj")},si=function(_,G){G||(G=21);var me=Br(),xe=(function(tt,yt){var Nt,Bt=[],Ht=1/(yt-1);for(Nt=0;Nt<1;Nt+=Ht)Bt.push(Nt);if(Bt.push(1),tt[0].offset!=0){var hr={offset:0,color:tt[0].color};tt.unshift(hr)}if(tt[tt.length-1].offset!=1){var Ur={offset:1,color:tt[tt.length-1].color};tt.push(Ur)}for(var aa="",Cr=0,xa=0;xa<Bt.length;xa++){for(Nt=Bt[xa];Nt>tt[Cr+1].offset;)Cr++;var ca=tt[Cr].offset,Ea=(Nt-ca)/(tt[Cr+1].offset-ca),Bn=tt[Cr].color,un=tt[Cr+1].color;aa+=oe(Math.round((1-Ea)*Bn[0]+Ea*un[0]).toString(16))+oe(Math.round((1-Ea)*Bn[1]+Ea*un[1]).toString(16))+oe(Math.round((1-Ea)*Bn[2]+Ea*un[2]).toString(16))}return aa.trim()})(_.colors,G),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+G+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),In({data:xe,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:me}),Z("endobj"),_.objectNumber=Br(),Z("<< /ShadingType "+_.type),Z("/ColorSpace /DeviceRGB");var Xe="/Coords ["+V(parseFloat(_.coords[0]))+" "+V(parseFloat(_.coords[1]))+" ";_.type===2?Xe+=V(parseFloat(_.coords[2]))+" "+V(parseFloat(_.coords[3])):Xe+=V(parseFloat(_.coords[2]))+" "+V(parseFloat(_.coords[3]))+" "+V(parseFloat(_.coords[4]))+" "+V(parseFloat(_.coords[5])),Z(Xe+="]"),_.matrix&&Z("/Matrix ["+_.matrix.toString()+"]"),Z("/Function "+me+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},li=function(_,G){var me=oa(),xe=Br();G.push({resourcesOid:me,objectOid:xe}),_.objectNumber=xe;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+_.boundingBox.map(V).join(" ")+"]"}),Ce.push({key:"XStep",value:V(_.xStep)}),Ce.push({key:"YStep",value:V(_.yStep)}),Ce.push({key:"Resources",value:me+" 0 R"}),_.matrix&&Ce.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),In({data:_.stream,additionalKeyValues:Ce,objectId:_.objectNumber}),Z("endobj")},el=function(_){for(var G in _.objectNumber=Br(),Z("<<"),_)switch(G){case"opacity":Z("/ca "+U(_[G]));break;case"stroke-opacity":Z("/CA "+U(_[G]))}Z(">>"),Z("endobj")},_i=function(_){ja(_.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var G in Z("/Font <<"),dt)dt.hasOwnProperty(G)&&(N===!1||N===!0&&S.hasOwnProperty(G))&&Z("/"+G+" "+dt[G].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(Dt).length>0){for(var G in Z("/Shading <<"),Dt)Dt.hasOwnProperty(G)&&Dt[G]instanceof rc&&Dt[G].objectNumber>=0&&Z("/"+G+" "+Dt[G].objectNumber+" 0 R");ir.publish("putShadingPatternDict"),Z(">>")}})(),(function(G){if(Object.keys(Dt).length>0){for(var me in Z("/Pattern <<"),Dt)Dt.hasOwnProperty(me)&&Dt[me]instanceof g.TilingPattern&&Dt[me].objectNumber>=0&&Dt[me].objectNumber<G&&Z("/"+me+" "+Dt[me].objectNumber+" 0 R");ir.publish("putTilingPatternDict"),Z(">>")}})(_.objectOid),(function(){if(Object.keys(Pt).length>0){var G;for(G in Z("/ExtGState <<"),Pt)Pt.hasOwnProperty(G)&&Pt[G].objectNumber>=0&&Z("/"+G+" "+Pt[G].objectNumber+" 0 R");ir.publish("putGStateDict"),Z(">>")}})(),(function(){for(var G in Z("/XObject <<"),Ua)Ua.hasOwnProperty(G)&&Ua[G].objectNumber>=0&&Z("/"+G+" "+Ua[G].objectNumber+" 0 R");ir.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},ta=function(_){Et[_.fontName]=Et[_.fontName]||{},Et[_.fontName][_.fontStyle]=_.id},jo=function(_,G,me,xe,Ce){var Xe={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:_,fontName:G,fontStyle:me,encoding:xe,isStandardFont:Ce||!1,metadata:{}};return ir.publish("addFont",{font:Xe,instance:this}),dt[Xe.id]=Xe,ta(Xe),Xe.id},Sn=g.__private__.pdfEscape=g.pdfEscape=function(_,G){return(function(me,xe){var Ce,Xe,tt,yt,Nt,Bt,Ht,hr,Ur;if(tt=(xe=xe||{}).sourceEncoding||"Unicode",Nt=xe.outputEncoding,(xe.autoencode||Nt)&&dt[ht].metadata&&dt[ht].metadata[tt]&&dt[ht].metadata[tt].encoding&&(yt=dt[ht].metadata[tt].encoding,!Nt&&dt[ht].encoding&&(Nt=dt[ht].encoding),!Nt&&yt.codePages&&(Nt=yt.codePages[0]),typeof Nt=="string"&&(Nt=yt[Nt]),Nt)){for(Ht=!1,Bt=[],Ce=0,Xe=me.length;Ce<Xe;Ce++)(hr=Nt[me.charCodeAt(Ce)])?Bt.push(String.fromCharCode(hr)):Bt.push(me[Ce]),Bt[Ce].charCodeAt(0)>>8&&(Ht=!0);me=Bt.join("")}for(Ce=me.length;Ht===void 0&&Ce!==0;)me.charCodeAt(Ce-1)>>8&&(Ht=!0),Ce--;if(!Ht)return me;for(Bt=xe.noBOM?[]:[254,255],Ce=0,Xe=me.length;Ce<Xe;Ce++){if((Ur=(hr=me.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+me+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Bt.push(Ur),Bt.push(hr-(Ur<<8))}return String.fromCharCode.apply(void 0,Bt)})(_,G).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},oi=g.__private__.beginPage=function(_){Ke[++Wt]=[],_t[Wt]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},ko(Wt),O(Ke[Q])},Xi=function(_,G){var me,xe,Ce;switch(r=G||r,typeof _=="string"&&(me=k(_.toLowerCase()),Array.isArray(me)&&(xe=me[0],Ce=me[1])),Array.isArray(_)&&(xe=_[0]*Ct,Ce=_[1]*Ct),isNaN(xe)&&(xe=c[0],Ce=c[1]),(xe>14400||Ce>14400)&&(Fr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Ce=Math.min(14400,Ce)),c=[xe,Ce],r.substr(0,1)){case"l":Ce>xe&&(c=[Ce,xe]);break;case"p":xe>Ce&&(c=[Ce,xe])}oi(c),_s(rl),Z(An),Rl!==0&&Z(Rl+" J"),Sa!==0&&Z(Sa+" j"),ir.publish("addPage",{pageNumber:Wt})},So=function(_){_>0&&_<=Wt&&(Ke.splice(_,1),_t.splice(_,1),Wt--,Q>Wt&&(Q=Wt),this.setPage(Q))},ko=function(_){_>0&&_<=Wt&&(Q=_)},_o=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ke.length-1},pc=function(_,G,me){var xe,Ce=void 0;return me=me||{},_=_!==void 0?_:dt[ht].fontName,G=G!==void 0?G:dt[ht].fontStyle,xe=_.toLowerCase(),Et[xe]!==void 0&&Et[xe][G]!==void 0?Ce=Et[xe][G]:Et[_]!==void 0&&Et[_][G]!==void 0?Ce=Et[_][G]:me.disableWarning===!1&&Fr.warn("Unable to look up font label for font '"+_+"', '"+G+"'. Refer to getFontList() for available fonts."),Ce||me.noFallback||(Ce=Et.times[G])==null&&(Ce=Et.times.normal),Ce},Ki=g.__private__.putInfo=function(){var _=Br(),G=function(xe){return xe};for(var me in b!==null&&(G=ra.encryptor(_,0)),Z("<<"),Z("/Producer ("+Sn(G("jsPDF "+At.version))+")"),ut)ut.hasOwnProperty(me)&&ut[me]&&Z("/"+me.substr(0,1).toUpperCase()+me.substr(1)+" ("+Sn(G(ut[me]))+")");Z("/CreationDate ("+Sn(G($))+")"),Z(">>"),Z("endobj")},Ol=g.__private__.putCatalog=function(_){var G=(_=_||{}).rootDictionaryObjId||Wa;switch(Br(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+G+" 0 R"),Oe||(Oe="fullwidth"),Oe){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var me=""+Oe;me.substr(me.length-1)==="%"&&(Oe=parseInt(Oe)/100),typeof Oe=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+U(Oe)+"]")}switch(Ye||(Ye="continuous"),Ye){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Pe&&Z("/PageMode /"+Pe),ir.publish("putCatalog"),Z(">>"),Z("endobj")},vr=g.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ye+1)),Z("/Root "+ye+" 0 R"),Z("/Info "+(ye-1)+" 0 R"),b!==null&&Z("/Encrypt "+ra.oid+" 0 R"),Z("/ID [ <"+W+"> <"+W+"> ]"),Z(">>")},$a=g.__private__.putHeader=function(){Z("%PDF-"+E),Z("%")},Ao=g.__private__.putXRef=function(){var _="0000000000";Z("xref"),Z("0 "+(ye+1)),Z("0000000000 65535 f ");for(var G=1;G<=ye;G++)typeof Se[G]=="function"?Z((_+Se[G]()).slice(-10)+" 00000 n "):Se[G]!==void 0?Z((_+Se[G]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Qi=g.__private__.buildDocument=function(){var _;ye=0,Ae=0,_e=[],Se=[],Be=[],Wa=oa(),wr=oa(),O(_e),ir.publish("buildDocument"),$a(),ni(),(function(){ir.publish("putAdditionalObjects");for(var me=0;me<Be.length;me++){var xe=Be[me];ja(xe.objId,!0),Z(xe.content),Z("endobj")}ir.publish("postPutAdditionalObjects")})(),_=[],(function(){for(var me in dt)dt.hasOwnProperty(me)&&(N===!1||N===!0&&S.hasOwnProperty(me))&&ii(dt[me])})(),(function(){var me;for(me in Pt)Pt.hasOwnProperty(me)&&el(Pt[me])})(),(function(){for(var me in Ua)Ua.hasOwnProperty(me)&&ks(Ua[me])})(),(function(me){var xe;for(xe in Dt)Dt.hasOwnProperty(xe)&&(Dt[xe]instanceof rc?si(Dt[xe]):Dt[xe]instanceof hu&&li(Dt[xe],me))})(_),ir.publish("putResources"),_.forEach(_i),_i({resourcesOid:wr,objectOid:Number.MAX_SAFE_INTEGER}),ir.publish("postPutResources"),b!==null&&(ra.oid=Br(),Z("<<"),Z("/Filter /Standard"),Z("/V "+ra.v),Z("/R "+ra.r),Z("/U <"+ra.toHexString(ra.U)+">"),Z("/O <"+ra.toHexString(ra.O)+">"),Z("/P "+ra.P),Z(">>"),Z("endobj")),Ki(),Ol();var G=Ae;return Ao(),vr(),Z("startxref"),Z(""+G),Z("%%EOF"),O(Ke[Q]),_e.join(`
`)},Ji=g.__private__.getBlob=function(_){return new Blob([se(_)],{type:"application/pdf"})},Fn=g.output=g.__private__.output=(Nn=function(_,G){switch(typeof(G=G||{})=="string"?G={filename:G}:G.filename=G.filename||"generated.pdf",_){case void 0:return Qi();case"save":g.save(G.filename);break;case"arraybuffer":return se(Qi());case"blob":return Ji(Qi());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(Ji(Qi()))||void 0;Fr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var me="",xe=Qi();try{me=J2(xe)}catch{me=J2(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+G.filename+";base64,"+me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';G.pdfObjectUrl&&(Ce=G.pdfObjectUrl,Xe="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(G)+");<\/script></body></html>",yt=qt.open();return yt!==null&&yt.document.write(tt),yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(G.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+G.filename+'" width="500px" height="400px" /></body></html>',Bt=qt.open();if(Bt!==null){Bt.document.write(Nt);var Ht=this;Bt.document.documentElement.querySelector("#pdfViewer").onload=function(){Bt.document.title=G.filename,Bt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Bt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",G)+'"></iframe></body></html>',Ur=qt.open();if(Ur!==null&&(Ur.document.write(hr),Ur.document.title=G.filename),Ur||typeof safari>"u")return Ur;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",G);default:return null}},Nn.foo=function(){try{return Nn.apply(this,arguments)}catch(me){var _=me.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var G="Error in function "+_.split(`
`)[0].split("<")[0]+": "+me.message;if(!qt.console)throw new Error(G);qt.console.error(G,me),qt.alert&&alert(G)}},Nn.foo.bar=Nn,Nn.foo),Ai=function(_){return Array.isArray(ai)===!0&&ai.indexOf(_)>-1};switch(l){case"pt":Ct=1;break;case"mm":Ct=72/25.4;break;case"cm":Ct=72/2.54;break;case"in":Ct=72;break;case"px":Ct=Ai("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ct=12;break;case"ex":Ct=6;break;default:if(typeof l!="number")throw new Error("Invalid unit: "+l);Ct=l}var ra=null;ce(),ee();var Ha=g.__private__.getPageInfo=g.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:_t[_].objId,pageNumber:_,pageContext:_t[_]}},Co=g.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var G in _t)if(_t[G].objId===_)break;return Ha(G)},gc=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:_t[Q].objId,pageNumber:Q,pageContext:_t[Q]}};g.addPage=function(){return Xi.apply(this,arguments),this},g.setPage=function(){return ko.apply(this,arguments),O.call(this,Ke[Q]),this},g.insertPage=function(_){return this.addPage(),this.movePage(Q,_),this},g.movePage=function(_,G){var me,xe;if(_>G){me=Ke[_],xe=_t[_];for(var Ce=_;Ce>G;Ce--)Ke[Ce]=Ke[Ce-1],_t[Ce]=_t[Ce-1];Ke[G]=me,_t[G]=xe,this.setPage(G)}else if(_<G){me=Ke[_],xe=_t[_];for(var Xe=_;Xe<G;Xe++)Ke[Xe]=Ke[Xe+1],_t[Xe]=_t[Xe+1];Ke[G]=me,_t[G]=xe,this.setPage(G)}return this},g.deletePage=function(){return So.apply(this,arguments),this},g.__private__.text=g.text=function(_,G,me,xe,Ce){var Xe,tt,yt,Nt,Bt,Ht,hr,Ur,aa,Cr=(xe=xe||{}).scope||this;if(typeof _=="number"&&typeof G=="number"&&(typeof me=="string"||Array.isArray(me))){var xa=me;me=G,G=_,_=xa}if(arguments[3]instanceof Lt==0?(yt=arguments[4],Nt=arguments[5],kr(hr=arguments[3])==="object"&&hr!==null||(typeof yt=="string"&&(Nt=yt,yt=null),typeof hr=="string"&&(Nt=hr,hr=null),typeof hr=="number"&&(yt=hr,hr=null),xe={flags:hr,angle:yt,align:Nt})):(F("The transform parameter of text() with a Matrix value"),aa=Ce),isNaN(G)||isNaN(me)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return Cr;var ca,Ea="",Bn=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:Wi,un=Cr.internal.scaleFactor;function Sc(fr){return fr=fr.split("	").join(Array(xe.TabLen||9).join(" ")),Sn(fr,hr)}function Il(fr){for(var sr,Er=fr.concat(),ia=[],Fi=Er.length;Fi--;)typeof(sr=Er.shift())=="string"?ia.push(sr):Array.isArray(fr)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?ia.push(sr[0]):ia.push([sr[0],sr[1],sr[2]]);return ia}function ol(fr,sr){var Er;if(typeof fr=="string")Er=sr(fr)[0];else if(Array.isArray(fr)){for(var ia,Fi,mi=fr.concat(),dl=[],Bo=mi.length;Bo--;)typeof(ia=mi.shift())=="string"?dl.push(sr(ia)[0]):Array.isArray(ia)&&typeof ia[0]=="string"&&(Fi=sr(ia[0],ia[1],ia[2]),dl.push([Fi[0],Fi[1],Fi[2]]));Er=dl}return Er}var Ti=!1,di=!0;if(typeof _=="string")Ti=!0;else if(Array.isArray(_)){var cl=_.concat();tt=[];for(var Cs,La=cl.length;La--;)(typeof(Cs=cl.shift())!="string"||Array.isArray(Cs)&&typeof Cs[0]!="string")&&(di=!1);Ti=di}if(Ti===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Es=he/Cr.internal.scaleFactor,Ls=Es*(Bn-1);switch(xe.baseline){case"bottom":me-=Ls;break;case"top":me+=Es-Ls;break;case"hanging":me+=Es-2*Ls;break;case"middle":me+=Es/2-Ls}if((Ht=xe.maxWidth||0)>0&&(typeof _=="string"?_=Cr.splitTextToSize(_,Ht):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(fr,sr){return fr.concat(Cr.splitTextToSize(sr,Ht))},[]))),Xe={text:_,x:G,y:me,options:xe,mutex:{pdfEscape:Sn,activeFontKey:ht,fonts:dt,activeFontSize:he}},ir.publish("preProcessText",Xe),_=Xe.text,yt=(xe=Xe.options).angle,aa instanceof Lt==0&&yt&&typeof yt=="number"){yt*=Math.PI/180,xe.rotationDirection===0&&(yt=-yt),M===T&&(yt=-yt);var Fl=Math.cos(yt),Di=Math.sin(yt);aa=new Lt(Fl,Di,-Di,Fl,0,0)}else yt&&yt instanceof Lt&&(aa=yt);M!==T||aa||(aa=ki),(Bt=xe.charSpace||$i)!==void 0&&(Ea+=V(H(Bt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ur=xe.horizontalScale)!==void 0&&(Ea+=V(100*Ur)+` Tz
`),xe.lang;var Kr=-1,ns=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,Bl=Cr.internal.getCurrentPageInfo().pageContext;switch(ns){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Io=Bl.usedRenderingMode!==void 0?Bl.usedRenderingMode:-1;Kr!==-1?Ea+=Kr+` Tr
`:Io!==-1&&(Ea+=`0 Tr
`),Kr!==-1&&(Bl.usedRenderingMode=Kr),Nt=xe.align||"left";var En,hi=he*Bn,is=Cr.internal.pageSize.getWidth(),Fo=dt[ht];Bt=xe.charSpace||$i,Ht=xe.maxWidth||0,hr=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var fi=[],Ts=function(fr){return Cr.getStringUnitWidth(fr,{font:Fo,charSpace:Bt,fontSize:he,doKerning:!1})*he/un};if(Object.prototype.toString.call(_)==="[object Array]"){var dn;tt=Il(_),Nt!=="left"&&(En=tt.map(Ts));var tn,Oi=0;if(Nt==="right"){G-=En[0],_=[],La=tt.length;for(var Mi=0;Mi<La;Mi++)Mi===0?(tn=_n(G),dn=Ca(me)):(tn=H(Oi-En[Mi]),dn=-hi),_.push([tt[Mi],tn,dn]),Oi=En[Mi]}else if(Nt==="center"){G-=En[0]/2,_=[],La=tt.length;for(var ss=0;ss<La;ss++)ss===0?(tn=_n(G),dn=Ca(me)):(tn=H((Oi-En[ss])/2),dn=-hi),_.push([tt[ss],tn,dn]),Oi=En[ss]}else if(Nt==="left"){_=[],La=tt.length;for(var Pl=0;Pl<La;Pl++)_.push(tt[Pl])}else if(Nt==="justify"&&Fo.encoding==="Identity-H"){_=[],La=tt.length,Ht=Ht!==0?Ht:is;for(var Ul=0,na=0;na<La;na++)if(dn=na===0?Ca(me):-hi,tn=na===0?_n(G):Ul,na<La-1){var kc=H((Ht-En[na])/(tt[na].split(" ").length-1)),Ri=tt[na].split(" ");_.push([Ri[0]+" ",tn,dn]),Ul=0;for(var zi=1;zi<Ri.length;zi++){var Ta=(Ts(Ri[zi-1]+" "+Ri[zi])-Ts(Ri[zi]))*un+kc;zi==Ri.length-1?_.push([Ri[zi],Ta,0]):_.push([Ri[zi]+" ",Ta,0]),Ul-=Ta}}else _.push([tt[na],tn,dn]);_.push(["",Ul,0])}else{if(Nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],La=tt.length,Ht=Ht!==0?Ht:is,na=0;na<La;na++){dn=na===0?Ca(me):-hi,tn=na===0?_n(G):0;var ls=tt[na].split(" ").length-1,ql=ls>0?(Ht-En[na])/ls:0;na<La-1?fi.push(V(H(ql))):fi.push(0),_.push([tt[na],tn,dn])}}}(typeof xe.R2L=="boolean"?xe.R2L:Ne)===!0&&(_=ol(_,function(fr,sr,Er){return[fr.split("").reverse().join(""),sr,Er]})),Xe={text:_,x:G,y:me,options:xe,mutex:{pdfEscape:Sn,activeFontKey:ht,fonts:dt,activeFontSize:he}},ir.publish("postProcessText",Xe),_=Xe.text,ca=Xe.mutex.isHex||!1;var Hl=dt[ht].encoding;Hl!=="WinAnsiEncoding"&&Hl!=="StandardEncoding"||(_=ol(_,function(fr,sr,Er){return[Sc(fr),sr,Er]})),tt=Il(_),_=[];for(var os,cs,Ii,ul=Array.isArray(tt[0])?1:0,Ln="",us=function(fr,sr,Er){var ia="";return Er instanceof Lt?(Er=typeof xe.angle=="number"?Zi(Er,new Lt(1,0,0,1,fr,sr)):Zi(new Lt(1,0,0,1,fr,sr),Er),M===T&&(Er=Zi(new Lt(1,0,0,-1,0,0),Er)),ia=Er.join(" ")+` Tm
`):ia=V(fr)+" "+V(sr)+` Td
`,ia},Va=0;Va<tt.length;Va++){switch(Ln="",ul){case 1:Ii=(ca?"<":"(")+tt[Va][0]+(ca?">":")"),os=parseFloat(tt[Va][1]),cs=parseFloat(tt[Va][2]);break;case 0:Ii=(ca?"<":"(")+tt[Va]+(ca?">":")"),os=_n(G),cs=Ca(me)}fi!==void 0&&fi[Va]!==void 0&&(Ln=fi[Va]+` Tw
`),Va===0?_.push(Ln+us(os,cs,aa)+Ii):ul===0?_.push(Ln+Ii):ul===1&&_.push(Ln+us(os,cs,aa)+Ii)}_=ul===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var Pn=`BT
/`;return Pn+=ht+" "+he+` Tf
`,Pn+=V(he*Bn)+` TL
`,Pn+=Ci+`
`,Pn+=Ea,Pn+=_,Z(Pn+="ET"),S[ht]=!0,Cr};var Eo=g.__private__.clip=g.clip=function(_){return Z(_==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Eo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return Z("n"),this};var en=g.__private__.isValidStyle=function(_){var G=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(G=!0),G};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(_){return en(_)&&(p=_),this};var Lo=g.__private__.getStyle=g.getStyle=function(_){var G=p;switch(_){case"D":case"S":G="S";break;case"F":G="f";break;case"FD":case"DF":G="B";break;case"f":case"f*":case"B":case"B*":G=_}return G},To=g.close=function(){return Z("h"),this};g.stroke=function(){return Z("S"),this},g.fill=function(_){return kn("f",_),this},g.fillEvenOdd=function(_){return kn("f*",_),this},g.fillStroke=function(_){return kn("B",_),this},g.fillStrokeEvenOdd=function(_){return kn("B*",_),this};var kn=function(_,G){kr(G)==="object"?yc(G,_):Z(_)},Do=function(_){_===null||M===T&&_===void 0||(_=Lo(_),Z(_))};function xc(_,G,me,xe,Ce){var Xe=new hu(G||this.boundingBox,me||this.xStep,xe||this.yStep,this.gState,Ce||this.matrix);Xe.stream=this.stream;var tt=_+"$$"+this.cloneIndex+++"$$";return wn(tt,Xe),Xe}var yc=function(_,G){var me=Jt[_.key],xe=Dt[me];if(xe instanceof rc)Z("q"),Z(Oo(G)),xe.gState&&g.setGState(xe.gState),Z(_.matrix.toString()+" cm"),Z("/"+me+" sh"),Z("Q");else if(xe instanceof hu){var Ce=new Lt(1,0,0,-1,0,as());_.matrix&&(Ce=Ce.multiply(_.matrix||ki),me=xc.call(xe,_.key,_.boundingBox,_.xStep,_.yStep,Ce).id),Z("q"),Z("/Pattern cs"),Z("/"+me+" scn"),xe.gState&&g.setGState(xe.gState),Z(G),Z("Q")}},Oo=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Mo=g.moveTo=function(_,G){return Z(V(H(_))+" "+V(j(G))+" m"),this},tl=g.lineTo=function(_,G){return Z(V(H(_))+" "+V(j(G))+" l"),this},ci=g.curveTo=function(_,G,me,xe,Ce,Xe){return Z([V(H(_)),V(j(G)),V(H(me)),V(j(xe)),V(H(Ce)),V(j(Xe)),"c"].join(" ")),this};g.__private__.line=g.line=function(_,G,me,xe,Ce){if(isNaN(_)||isNaN(G)||isNaN(me)||isNaN(xe)||!en(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return M===D?this.lines([[me-_,xe-G]],_,G,[1,1],Ce||"S"):this.lines([[me-_,xe-G]],_,G,[1,1]).stroke()},g.__private__.lines=g.lines=function(_,G,me,xe,Ce,Xe){var tt,yt,Nt,Bt,Ht,hr,Ur,aa,Cr,xa,ca,Ea;if(typeof _=="number"&&(Ea=me,me=G,G=_,_=Ea),xe=xe||[1,1],Xe=Xe||!1,isNaN(G)||isNaN(me)||!Array.isArray(_)||!Array.isArray(xe)||!en(Ce)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Mo(G,me),tt=xe[0],yt=xe[1],Bt=_.length,xa=G,ca=me,Nt=0;Nt<Bt;Nt++)(Ht=_[Nt]).length===2?(xa=Ht[0]*tt+xa,ca=Ht[1]*yt+ca,tl(xa,ca)):(hr=Ht[0]*tt+xa,Ur=Ht[1]*yt+ca,aa=Ht[2]*tt+xa,Cr=Ht[3]*yt+ca,xa=Ht[4]*tt+xa,ca=Ht[5]*yt+ca,ci(hr,Ur,aa,Cr,xa,ca));return Xe&&To(),Do(Ce),this},g.path=function(_){for(var G=0;G<_.length;G++){var me=_[G],xe=me.c;switch(me.op){case"m":Mo(xe[0],xe[1]);break;case"l":tl(xe[0],xe[1]);break;case"c":ci.apply(this,xe);break;case"h":To()}}return this},g.__private__.rect=g.rect=function(_,G,me,xe,Ce){if(isNaN(_)||isNaN(G)||isNaN(me)||isNaN(xe)||!en(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return M===D&&(xe=-xe),Z([V(H(_)),V(j(G)),V(H(me)),V(H(xe)),"re"].join(" ")),Do(Ce),this},g.__private__.triangle=g.triangle=function(_,G,me,xe,Ce,Xe,tt){if(isNaN(_)||isNaN(G)||isNaN(me)||isNaN(xe)||isNaN(Ce)||isNaN(Xe)||!en(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[me-_,xe-G],[Ce-me,Xe-xe],[_-Ce,G-Xe]],_,G,[1,1],tt,!0),this},g.__private__.roundedRect=g.roundedRect=function(_,G,me,xe,Ce,Xe,tt){if(isNaN(_)||isNaN(G)||isNaN(me)||isNaN(xe)||isNaN(Ce)||isNaN(Xe)||!en(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var yt=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*me),Xe=Math.min(Xe,.5*xe),this.lines([[me-2*Ce,0],[Ce*yt,0,Ce,Xe-Xe*yt,Ce,Xe],[0,xe-2*Xe],[0,Xe*yt,-Ce*yt,Xe,-Ce,Xe],[2*Ce-me,0],[-Ce*yt,0,-Ce,-Xe*yt,-Ce,-Xe],[0,2*Xe-xe],[0,-Xe*yt,Ce*yt,-Xe,Ce,-Xe]],_+Ce,G,[1,1],tt,!0),this},g.__private__.ellipse=g.ellipse=function(_,G,me,xe,Ce){if(isNaN(_)||isNaN(G)||isNaN(me)||isNaN(xe)||!en(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*me,tt=4/3*(Math.SQRT2-1)*xe;return Mo(_+me,G),ci(_+me,G-tt,_+Xe,G-xe,_,G-xe),ci(_-Xe,G-xe,_-me,G-tt,_-me,G),ci(_-me,G+tt,_-Xe,G+xe,_,G+xe),ci(_+Xe,G+xe,_+me,G+tt,_+me,G),Do(Ce),this},g.__private__.circle=g.circle=function(_,G,me,xe){if(isNaN(_)||isNaN(G)||isNaN(me)||!en(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,G,me,me,xe)},g.setFont=function(_,G,me){return me&&(G=B(G,me)),ht=pc(_,G,{disableWarning:!1}),this};var ui=g.__private__.getFont=g.getFont=function(){return dt[pc.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var _,G,me={};for(_ in Et)if(Et.hasOwnProperty(_))for(G in me[_]=[],Et[_])Et[_].hasOwnProperty(G)&&me[_].push(G);return me},g.addFont=function(_,G,me,xe,Ce){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(me=B(me,xe)),jo.call(this,_,G,me,Ce=Ce||"Identity-H")};var Wi,rl=i.lineWidth||.200025,Rt=g.__private__.getLineWidth=g.getLineWidth=function(){return rl},_s=g.__private__.setLineWidth=g.setLineWidth=function(_){return rl=_,Z(V(H(_))+" w"),this};g.__private__.setLineDash=At.API.setLineDash=At.API.setLineDashPattern=function(_,G){if(_=_||[],G=G||0,isNaN(G)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(me){return V(H(me))}).join(" "),G=V(H(G)),Z("["+_+"] "+G+" d"),this};var bc=g.__private__.getLineHeight=g.getLineHeight=function(){return he*Wi};g.__private__.getLineHeight=g.getLineHeight=function(){return he*Wi};var Ro=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Wi=_),this},vc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Wi};Ro(i.lineHeight);var _n=g.__private__.getHorizontalCoordinate=function(_){return H(_)},Ca=g.__private__.getVerticalCoordinate=function(_){return M===T?_:_t[Q].mediaBox.topRightY-_t[Q].mediaBox.bottomLeftY-H(_)},zo=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(_){return V(_n(_))},al=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(_){return V(Ca(_))},An=i.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Pr(An)},g.__private__.setStrokeColor=g.setDrawColor=function(_,G,me,xe){return An=qa({ch1:_,ch2:G,ch3:me,ch4:xe,pdfColorType:"draw",precision:2}),Z(An),this};var nl=i.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Pr(nl)},g.__private__.setFillColor=g.setFillColor=function(_,G,me,xe){return nl=qa({ch1:_,ch2:G,ch3:me,ch4:xe,pdfColorType:"fill",precision:2}),Z(nl),this};var Ci=i.textColor||"0 g",il=g.__private__.getTextColor=g.getTextColor=function(){return Pr(Ci)};g.__private__.setTextColor=g.setTextColor=function(_,G,me,xe){return Ci=qa({ch1:_,ch2:G,ch3:me,ch4:xe,pdfColorType:"text",precision:3}),this};var $i=i.charSpace,Ml=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat($i||0)};g.__private__.setCharSpace=g.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return $i=_,this};var Rl=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(_){var G=g.CapJoinStyles[_];if(G===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=G,Z(G+" J"),this};var Sa=0;g.__private__.setLineJoin=g.setLineJoin=function(_){var G=g.CapJoinStyles[_];if(G===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sa=G,Z(G+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(V(H(_))+" M"),this},g.GState=Yh,g.setGState=function(_){(_=typeof _=="string"?Pt[Ar[_]]:Cn(null,_)).equals(Mr)||(Z("/"+_.id+" gs"),Mr=_)};var Cn=function(_,G){if(!_||!Ar[_]){var me=!1;for(var xe in Pt)if(Pt.hasOwnProperty(xe)&&Pt[xe].equals(G)){me=!0;break}if(me)G=Pt[xe];else{var Ce="GS"+(Object.keys(Pt).length+1).toString(10);Pt[Ce]=G,G.id=Ce}return _&&(Ar[_]=G.id),ir.publish("addGState",G),G}};g.addGState=function(_,G){return Cn(_,G),this},g.saveGraphicsState=function(){return Z("q"),It.push({key:ht,size:he,color:Ci}),this},g.restoreGraphicsState=function(){Z("Q");var _=It.pop();return ht=_.key,he=_.size,Ci=_.color,Mr=null,this},g.setCurrentTransformationMatrix=function(_){return Z(_.toString()+" cm"),this},g.comment=function(_){return Z("#"+_),this};var Ei=function(_,G){var me=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return me},set:function(Xe){isNaN(Xe)||(me=parseFloat(Xe))}});var xe=G||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(Xe){isNaN(Xe)||(xe=parseFloat(Xe))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Xe){Ce=Xe.toString()}}),this},es=function(_,G,me,xe){Ei.call(this,_,G),this.type="rect";var Ce=me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(tt){isNaN(tt)||(Ce=parseFloat(tt))}});var Xe=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(tt){isNaN(tt)||(Xe=parseFloat(tt))}}),this},zl=function(){this.page=Wt,this.currentPage=Q,this.pages=Ke.slice(0),this.pagesContext=_t.slice(0),this.x=pt,this.y=or,this.matrix=St,this.width=As(Q),this.height=Li(Q),this.outputDestination=Ue,this.id="",this.objectNumber=-1};zl.prototype.restore=function(){Wt=this.page,Q=this.currentPage,_t=this.pagesContext,Ke=this.pages,pt=this.x,or=this.y,St=this.matrix,ll(Q,this.width),rs(Q,this.height),Ue=this.outputDestination};var sl=function(_,G,me,xe,Ce){zn.push(new zl),Wt=Q=0,Ke=[],pt=_,or=G,St=Ce,oi([me,xe])};for(var ts in g.beginFormObject=function(_,G,me,xe,Ce){return sl(_,G,me,xe,Ce),this},g.endFormObject=function(_){return(function(G){if(Si[G])zn.pop().restore();else{var me=new zl,xe="Xo"+(Object.keys(Ua).length+1).toString(10);me.id=xe,Si[G]=xe,Ua[xe]=me,ir.publish("addFormObject",me),zn.pop().restore()}})(_),this},g.doFormObject=function(_,G){var me=Ua[Si[_]];return Z("q"),Z(G.toString()+" cm"),Z("/"+me.id+" Do"),Z("Q"),this},g.getFormObject=function(_){var G=Ua[Si[_]];return{x:G.x,y:G.y,width:G.width,height:G.height,matrix:G.matrix}},g.save=function(_,G){return _=_||"generated.pdf",(G=G||{}).returnPromise=G.returnPromise||!1,G.returnPromise===!1?(ec(Ji(Qi()),_),typeof ec.unload=="function"&&qt.setTimeout&&setTimeout(ec.unload,911),this):new Promise(function(me,xe){try{var Ce=ec(Ji(Qi()),_);typeof ec.unload=="function"&&qt.setTimeout&&setTimeout(ec.unload,911),me(Ce)}catch(Xe){xe(Xe.message)}})},At.API)At.API.hasOwnProperty(ts)&&(ts==="events"&&At.API.events.length?(function(_,G){var me,xe,Ce;for(Ce=G.length-1;Ce!==-1;Ce--)me=G[Ce][0],xe=G[Ce][1],_.subscribe.apply(_,[me].concat(typeof xe=="function"?[xe]:xe))})(ir,At.API.events):g[ts]=At.API[ts]);function As(_){return _t[_].mediaBox.topRightX-_t[_].mediaBox.bottomLeftX}function ll(_,G){_t[_].mediaBox.topRightX=G+_t[_].mediaBox.bottomLeftX}function Li(_){return _t[_].mediaBox.topRightY-_t[_].mediaBox.bottomLeftY}function rs(_,G){_t[_].mediaBox.topRightY=G+_t[_].mediaBox.bottomLeftY}var wc=g.getPageWidth=function(_){return As(_=_||Q)/Ct},Nc=g.setPageWidth=function(_,G){ll(_,G*Ct)},as=g.getPageHeight=function(_){return Li(_=_||Q)/Ct},jc=g.setPageHeight=function(_,G){rs(_,G*Ct)};return g.internal={pdfEscape:Sn,getStyle:Lo,getFont:ui,getFontSize:Le,getCharSpace:Ml,getTextColor:il,getLineHeight:bc,getLineHeightFactor:vc,getLineWidth:Rt,write:ke,getHorizontalCoordinate:_n,getVerticalCoordinate:Ca,getCoordinateString:zo,getVerticalCoordinateString:al,collections:{},newObject:Br,newAdditionalObject:Ss,newObjectDeferred:oa,newObjectDeferredBegin:ja,getFilters:jn,putStream:In,events:ir,scaleFactor:Ct,pageSize:{getWidth:function(){return wc(Q)},setWidth:function(_){Nc(Q,_)},getHeight:function(){return as(Q)},setHeight:function(_){jc(Q,_)}},encryptionOptions:b,encryption:ra,getEncryptor:function(_){return b!==null?ra.encryptor(_,0):function(G){return G}},output:Fn,getNumberOfPages:_o,pages:Ke,out:Z,f2:U,f3:A,getPageInfo:Ha,getPageInfoByObjId:Co,getCurrentPageInfo:gc,getPDFVersion:w,Point:Ei,Rectangle:es,Matrix:Lt,hasHotfix:Ai},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return wc(Q)},set:function(_){Nc(Q,_)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return as(Q)},set:function(_){jc(Q,_)},enumerable:!0,configurable:!0}),(function(_){for(var G=0,me=te.length;G<me;G++){var xe=jo.call(this,_[G][0],_[G][1],_[G][2],te[G][3],!0);N===!1&&(S[xe]=!0);var Ce=_[G][0].split("-");ta({id:xe,fontName:Ce[0],fontStyle:Ce[1]||""})}ir.publish("addFonts",{fonts:dt,dictionary:Et})}).call(g,te),ht="F1",Xi(c,r),ir.publish("initialized"),g}uu.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},uu.prototype.toHexString=function(i){return i.split("").map(function(a){return("0"+(255&a.charCodeAt(0)).toString(16)).slice(-2)}).join("")},uu.prototype.hexToBytes=function(i){for(var a=[],r=0;r<i.length;r+=2)a.push(String.fromCharCode(parseInt(i.substr(r,2),16)));return a.join("")},uu.prototype.processOwnerPassword=function(i,a){return Rm(Mm(a).substr(0,5),i)},uu.prototype.encryptor=function(i,a){var r=Mm(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&a,a>>8&255)).substr(0,10);return function(l){return Rm(r,l)}},Yh.prototype.equals=function(i){var a,r="id,objectNumber,equals";if(!i||kr(i)!==kr(this))return!1;var l=0;for(a in this)if(!(r.indexOf(a)>=0)){if(this.hasOwnProperty(a)&&!i.hasOwnProperty(a)||this[a]!==i[a])return!1;l++}for(a in i)i.hasOwnProperty(a)&&r.indexOf(a)<0&&l--;return l===0},At.API={events:[]},At.version="3.0.3";var ga=At.API,Km=1,mc=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lu=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(i){return i.toFixed(2)},yo=function(i){return i.toFixed(5)};ga.__acroform__={};var ri=function(i,a){i.prototype=Object.create(a.prototype),i.prototype.constructor=i},tx=function(i){return i*Km},Zs=function(i){var a=new l5,r=wt.internal.getHeight(i)||0,l=wt.internal.getWidth(i)||0;return a.BBox=[0,0,Number(Yt(l)),Number(Yt(r))],a},eN=ga.__acroform__.setBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<a},tN=ga.__acroform__.clearBit=function(i,a){if(i=i||0,a=a||0,isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<a)},rN=ga.__acroform__.getBit=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<a?1:0},va=ga.__acroform__.getBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rN(i,a-1)},wa=ga.__acroform__.setBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eN(i,a-1)},Na=ga.__acroform__.clearBitForPdf=function(i,a){if(isNaN(i)||isNaN(a))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tN(i,a-1)},aN=ga.__acroform__.calculateCoordinates=function(i,a){var r=a.internal.getHorizontalCoordinate,l=a.internal.getVerticalCoordinate,c=i[0],o=i[1],h=i[2],d=i[3],f={};return f.lowerLeft_X=r(c)||0,f.lowerLeft_Y=l(o+d)||0,f.upperRight_X=r(c+h)||0,f.upperRight_Y=l(o)||0,[Number(Yt(f.lowerLeft_X)),Number(Yt(f.lowerLeft_Y)),Number(Yt(f.upperRight_X)),Number(Yt(f.upperRight_Y))]},nN=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var a=[],r=i._V||i.DV,l=zm(i,r),c=i.scope.internal.getFont(i.fontName,i.fontStyle).id;a.push("/Tx BMC"),a.push("q"),a.push("BT"),a.push(i.scope.__private__.encodeColorString(i.color)),a.push("/"+c+" "+Yt(l.fontSize)+" Tf"),a.push("1 0 0 1 0 0 Tm"),a.push(l.text),a.push("ET"),a.push("Q"),a.push("EMC");var o=Zs(i);return o.scope=i.scope,o.stream=a.join(`
`),o}},zm=function(i,a){var r=i.fontSize===0?i.maxFontSize:i.fontSize,l={text:"",fontSize:""},c=(a=(a=a.substr(0,1)=="("?a.substr(1):a).substr(a.length-1)==")"?a.substr(0,a.length-1):a).split(" ");c=i.multiline?c.map(function(U){return U.split(`
`)}):c.map(function(U){return[U]});var o=r,h=wt.internal.getHeight(i)||0;h=h<0?-h:h;var d=wt.internal.getWidth(i)||0;d=d<0?-d:d;var f=function(U,A,H){if(U+1<c.length){var j=A+" "+c[U+1][0];return _h(j,i,H).width<=d-4}return!1};o++;e:for(;o>0;){a="",o--;var p,b,N=_h("3",i,o).height,S=i.multiline?h-o:(h-N)/2,g=S+=2,E=0,w=0,C=0;if(o<=0){a=`(...) Tj
`,a+="% Width of Text: "+_h(a,i,o=12).width+", FieldWidth:"+d+`
`;break}for(var k="",D=0,T=0;T<c.length;T++)if(c.hasOwnProperty(T)){var M=!1;if(c[T].length!==1&&C!==c[T].length-1){if((N+2)*(D+2)+2>h)continue e;k+=c[T][C],M=!0,w=T,T--}else{k=(k+=c[T][C]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var q=parseInt(T),P=f(q,k,o),B=T>=c.length-1;if(P&&!B){k+=" ",C=0;continue}if(P||B){if(B)w=q;else if(i.multiline&&(N+2)*(D+2)+2>h)continue e}else{if(!i.multiline||(N+2)*(D+2)+2>h)continue e;w=q}}for(var V="",F=E;F<=w;F++){var re=c[F];if(i.multiline){if(F===w){V+=re[C]+" ",C=(C+1)%re.length;continue}if(F===E){V+=re[re.length-1]+" ";continue}}V+=re[0]+" "}switch(V=V.substr(V.length-1)==" "?V.substr(0,V.length-1):V,b=_h(V,i,o).width,i.textAlign){case"right":p=d-b-2;break;case"center":p=(d-b)/2;break;default:p=2}a+=Yt(p)+" "+Yt(g)+` Td
`,a+="("+mc(V)+`) Tj
`,a+=-Yt(p)+` 0 Td
`,g=-(o+2),b=0,E=M?w:w+1,D++,k=""}break}return l.text=a,l.fontSize=o,l},_h=function(i,a,r){var l=a.scope.internal.getFont(a.fontName,a.fontStyle),c=a.scope.getStringUnitWidth(i,{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:a.scope.getStringUnitWidth("3",{font:l,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:c}},iN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sN=function(i,a){var r={type:"reference",object:i};a.internal.getPageInfo(i.page).pageContext.annotations.find(function(l){return l.type===r.type&&l.object===r.object})===void 0&&a.internal.getPageInfo(i.page).pageContext.annotations.push(r)},lN=function(i,a){if(a.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Ns.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(iN)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Km=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new o5,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var l=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var c in l)if(l.hasOwnProperty(c)){var o=l[c];o.objId=void 0,o.hasAnnotation&&sN(o,r)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(r){(function(l,c){var o=!l;for(var h in l||(c.internal.newObjectDeferredBegin(c.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),c.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),l=l||c.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(l.hasOwnProperty(h)){var d=l[h],f=[],p=d.Rect;if(d.Rect&&(d.Rect=aN(d.Rect,c)),c.internal.newObjectDeferredBegin(d.objId,!0),d.DA=wt.createDefaultAppearanceStream(d),kr(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(f=d.getKeyValueListForStream()),d.Rect=p,d.hasAppearanceStream&&!d.appearanceStreamContent){var b=nN(d);f.push({key:"AP",value:"<</N "+b+">>"}),c.internal.acroformPlugin.xForms.push(b)}if(d.appearanceStreamContent){var N="";for(var S in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(S)){var g=d.appearanceStreamContent[S];if(N+="/"+S+" ",N+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var h in g)if(g.hasOwnProperty(h)){var E=g[h];typeof E=="function"&&(E=E.call(c,d)),N+="/"+h+" "+E+" ",c.internal.acroformPlugin.xForms.indexOf(E)>=0||c.internal.acroformPlugin.xForms.push(E)}}else typeof(E=g)=="function"&&(E=E.call(c,d)),N+="/"+h+" "+E,c.internal.acroformPlugin.xForms.indexOf(E)>=0||c.internal.acroformPlugin.xForms.push(E);N+=">>"}f.push({key:"AP",value:`<<
`+N+">>"})}c.internal.putStream({additionalKeyValues:f,objectId:d.objId}),c.internal.out("endobj")}o&&(function(w,C){for(var k in w)if(w.hasOwnProperty(k)){var D=k,T=w[k];C.internal.newObjectDeferredBegin(T.objId,!0),kr(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete w[D]}})(c.internal.acroformPlugin.xForms,c)})(r,i)}),i.internal.acroformPlugin.isInitialized=!0}},s5=ga.__acroform__.arrayToPdfArray=function(i,a,r){var l=function(h){return h};if(Array.isArray(i)){for(var c="[",o=0;o<i.length;o++)switch(o!==0&&(c+=" "),kr(i[o])){case"boolean":case"number":case"object":c+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(a!==void 0&&r&&(l=r.internal.getEncryptor(a)),c+="("+mc(l(i[o].toString()))+")"):c+=i[o].toString()}return c+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},gm=function(i,a,r){var l=function(c){return c};return a!==void 0&&r&&(l=r.internal.getEncryptor(a)),(i=i||"").toString(),"("+mc(l(i))+")"},Ks=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ks.prototype.toString=function(){return this.objId+" 0 R"},Ks.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},Ks.prototype.getKeyValueListForStream=function(){var i=[],a=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in a)if(Object.getOwnPropertyDescriptor(this,a[r]).configurable===!1){var l=a[r],c=this[l];c&&(Array.isArray(c)?i.push({key:l,value:s5(c,this.objId,this.scope)}):c instanceof Ks?(c.scope=this.scope,i.push({key:l,value:c.objId+" 0 R"})):typeof c!="function"&&i.push({key:l,value:c}))}return i};var l5=function(){Ks.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,a=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return a},set:function(r){a=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){i=r.trim()},get:function(){return i||null}})};ri(l5,Ks);var o5=function(){Ks.call(this);var i,a=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return a.length>0?a:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return a}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var r=function(l){return l};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+mc(r(i))+")"}},set:function(r){i=r}})};ri(o5,Ks);var Ns=function i(){Ks.call(this);var a=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return a},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');a=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!va(a,3)},set:function(k){k?this.F=wa(a,3):this.F=Na(a,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');r=k}});var l=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(l.length!==0)return l},set:function(k){l=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[0])?0:l[0]},set:function(k){l[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[1])?0:l[1]},set:function(k){l[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[2])?0:l[2]},set:function(k){l[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!l||isNaN(l[3])?0:l[3]},set:function(k){l[3]=k}});var c="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return c},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":c=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Zh)return;o="FieldObject"+i.FieldNum++}var k=function(D){return D};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+mc(k(o))+")"},set:function(k){o=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(k){o=k}});var h="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return h},set:function(k){h=k}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(k){d=k}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(k){f=k}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Km:p},set:function(k){p=k}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(k){b=k}});var N="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!N||this instanceof Zh||this instanceof nc))return gm(N,this.objId,this.scope)},set:function(k){k=k.toString(),N=k}});var S=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(S)return this instanceof Qa==0?gm(S,this.objId,this.scope):S},set:function(k){k=k.toString(),S=this instanceof Qa==0?k.substr(0,1)==="("?lu(k.substr(1,k.length-2)):lu(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa==1?lu(S.substr(1,S.length-1)):S},set:function(k){k=k.toString(),S=this instanceof Qa==1?"/"+k:k}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Qa==0?gm(g,this.objId,this.scope):g},set:function(k){k=k.toString(),g=this instanceof Qa==0?k.substr(0,1)==="("?lu(k.substr(1,k.length-2)):lu(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qa==1?lu(g.substr(1,g.length-1)):g},set:function(k){k=k.toString(),g=this instanceof Qa==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(k){k=!!k,w=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(k){E=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,1)},set:function(k){k?this.Ff=wa(this.Ff,1):this.Ff=Na(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,2)},set:function(k){k?this.Ff=wa(this.Ff,2):this.Ff=Na(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,3)},set:function(k){k?this.Ff=wa(this.Ff,3):this.Ff=Na(this.Ff,3)}});var C=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(C!==null)return C},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');C=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(C){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:C=2;break;case"center":case 1:C=1;break;default:C=0}}})};ri(Ns,Ks);var xu=function(){Ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(r){i=r}});var a=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return s5(a,this.objId,this.scope)},set:function(r){var l,c;c=[],typeof(l=r)=="string"&&(c=(function(o,h,d){d||(d=1);for(var f,p=[];f=h.exec(o);)p.push(f[d]);return p})(l,/\((.*?)\)/g)),a=c}}),this.getOptions=function(){return a},this.setOptions=function(r){a=r,this.sort&&a.sort()},this.addOption=function(r){r=(r=r||"").toString(),a.push(r),this.sort&&a.sort()},this.removeOption=function(r,l){for(l=l||!1,r=(r=r||"").toString();a.indexOf(r)!==-1&&(a.splice(a.indexOf(r),1),l!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,18)},set:function(r){r?this.Ff=wa(this.Ff,18):this.Ff=Na(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=wa(this.Ff,19):this.Ff=Na(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,20)},set:function(r){r?(this.Ff=wa(this.Ff,20),a.sort()):this.Ff=Na(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,22)},set:function(r){r?this.Ff=wa(this.Ff,22):this.Ff=Na(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(r){r?this.Ff=wa(this.Ff,23):this.Ff=Na(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,27)},set:function(r){r?this.Ff=wa(this.Ff,27):this.Ff=Na(this.Ff,27)}}),this.hasAppearanceStream=!1};ri(xu,Ns);var yu=function(){xu.call(this),this.fontName="helvetica",this.combo=!1};ri(yu,xu);var bu=function(){yu.call(this),this.combo=!0};ri(bu,yu);var Rh=function(){bu.call(this),this.edit=!0};ri(Rh,bu);var Qa=function(){Ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,15)},set:function(r){r?this.Ff=wa(this.Ff,15):this.Ff=Na(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,16)},set:function(r){r?this.Ff=wa(this.Ff,16):this.Ff=Na(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,17)},set:function(r){r?this.Ff=wa(this.Ff,17):this.Ff=Na(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(r){r?this.Ff=wa(this.Ff,26):this.Ff=Na(this.Ff,26)}});var i,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(a).length!==0){var l,c=[];for(l in c.push("<<"),a)c.push("/"+l+" ("+mc(r(a[l]))+")");return c.push(">>"),c.join(`
`)}},set:function(r){kr(r)==="object"&&(a=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(r){typeof r=="string"&&(a.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(r){i=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(r){i="/"+r}})};ri(Qa,Ns);var zh=function(){Qa.call(this),this.pushButton=!0};ri(zh,Qa);var vu=function(){Qa.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a!==void 0?a:[]}})};ri(vu,Qa);var Zh=function(){var i,a;Ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(c){i=c}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return a},set:function(c){a=c}});var r,l={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var c=function(d){return d};this.scope&&(c=this.scope.internal.getEncryptor(this.objId));var o,h=[];for(o in h.push("<<"),l)h.push("/"+o+" ("+mc(c(l[o]))+")");return h.push(">>"),h.join(`
`)},set:function(c){kr(c)==="object"&&(l=c)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return l.CA||""},set:function(c){typeof c=="string"&&(l.CA=c)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(c){r=c}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(c){r="/"+c}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ri(Zh,Ns),vu.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var a in this.Kids)if(this.Kids.hasOwnProperty(a)){var r=this.Kids[a];r.appearanceStreamContent=i.createAppearanceStream(r.optionName),r.caption=i.getCA()}},vu.prototype.createOption=function(i){var a=new Zh;return a.Parent=this,a.optionName=i,this.Kids.push(a),oN.call(this.scope,a),a};var Ih=function(){Qa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};ri(Ih,Qa);var nc=function(){Ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,13)},set:function(a){a?this.Ff=wa(this.Ff,13):this.Ff=Na(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,21)},set:function(a){a?this.Ff=wa(this.Ff,21):this.Ff=Na(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,23)},set:function(a){a?this.Ff=wa(this.Ff,23):this.Ff=Na(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,24)},set:function(a){a?this.Ff=wa(this.Ff,24):this.Ff=Na(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,25)},set:function(a){a?this.Ff=wa(this.Ff,25):this.Ff=Na(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,26)},set:function(a){a?this.Ff=wa(this.Ff,26):this.Ff=Na(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(a){i=a}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(a){Number.isInteger(a)&&(i=a)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ri(nc,Ns);var Fh=function(){nc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!va(this.Ff,14)},set:function(i){i?this.Ff=wa(this.Ff,14):this.Ff=Na(this.Ff,14)}}),this.password=!0};ri(Fh,nc);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(i){var a=Zs(i);a.scope=i.scope;var r=[],l=i.scope.internal.getFont(i.fontName,i.fontStyle).id,c=i.scope.__private__.encodeColorString(i.color),o=zm(i,i.caption);return r.push("0.749023 g"),r.push("0 0 "+Yt(wt.internal.getWidth(i))+" "+Yt(wt.internal.getHeight(i))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+l+" "+Yt(o.fontSize)+" Tf "+c),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),a.stream=r.join(`
`),a},YesNormal:function(i){var a=Zs(i);a.scope=i.scope;var r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,l=i.scope.__private__.encodeColorString(i.color),c=[],o=wt.internal.getHeight(i),h=wt.internal.getWidth(i),d=zm(i,i.caption);return c.push("1 g"),c.push("0 0 "+Yt(h)+" "+Yt(o)+" re"),c.push("f"),c.push("q"),c.push("0 0 1 rg"),c.push("0 0 "+Yt(h-1)+" "+Yt(o-1)+" re"),c.push("W"),c.push("n"),c.push("0 g"),c.push("BT"),c.push("/"+r+" "+Yt(d.fontSize)+" Tf "+l),c.push(d.text),c.push("ET"),c.push("Q"),a.stream=c.join(`
`),a},OffPushDown:function(i){var a=Zs(i);a.scope=i.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(wt.internal.getWidth(i))+" "+Yt(wt.internal.getHeight(i))+" re"),r.push("f"),a.stream=r.join(`
`),a}},RadioButton:{Circle:{createAppearanceStream:function(i){var a={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return a.N[i]=wt.RadioButton.Circle.YesNormal,a.D[i]=wt.RadioButton.Circle.YesPushDown,a},getCA:function(){return"l"},YesNormal:function(i){var a=Zs(i);a.scope=i.scope;var r=[],l=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;l=Number((.9*l).toFixed(5));var c=wt.internal.Bezier_C,o=Number((l*c).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+yo(wt.internal.getWidth(i)/2)+" "+yo(wt.internal.getHeight(i)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+o+" "+o+" "+l+" 0 "+l+" c"),r.push("-"+o+" "+l+" -"+l+" "+o+" -"+l+" 0 c"),r.push("-"+l+" -"+o+" -"+o+" -"+l+" 0 -"+l+" c"),r.push(o+" -"+l+" "+l+" -"+o+" "+l+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(i){var a=Zs(i);a.scope=i.scope;var r=[],l=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;l=Number((.9*l).toFixed(5));var c=Number((2*l).toFixed(5)),o=Number((c*wt.internal.Bezier_C).toFixed(5)),h=Number((l*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yo(wt.internal.getWidth(i)/2)+" "+yo(wt.internal.getHeight(i)/2)+" cm"),r.push(c+" 0 m"),r.push(c+" "+o+" "+o+" "+c+" 0 "+c+" c"),r.push("-"+o+" "+c+" -"+c+" "+o+" -"+c+" 0 c"),r.push("-"+c+" -"+o+" -"+o+" -"+c+" 0 -"+c+" c"),r.push(o+" -"+c+" "+c+" -"+o+" "+c+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+yo(wt.internal.getWidth(i)/2)+" "+yo(wt.internal.getHeight(i)/2)+" cm"),r.push(l+" 0 m"),r.push(l+" "+h+" "+h+" "+l+" 0 "+l+" c"),r.push("-"+h+" "+l+" -"+l+" "+h+" -"+l+" 0 c"),r.push("-"+l+" -"+h+" -"+h+" -"+l+" 0 -"+l+" c"),r.push(h+" -"+l+" "+l+" -"+h+" "+l+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a},OffPushDown:function(i){var a=Zs(i);a.scope=i.scope;var r=[],l=wt.internal.getWidth(i)<=wt.internal.getHeight(i)?wt.internal.getWidth(i)/4:wt.internal.getHeight(i)/4;l=Number((.9*l).toFixed(5));var c=Number((2*l).toFixed(5)),o=Number((c*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yo(wt.internal.getWidth(i)/2)+" "+yo(wt.internal.getHeight(i)/2)+" cm"),r.push(c+" 0 m"),r.push(c+" "+o+" "+o+" "+c+" 0 "+c+" c"),r.push("-"+o+" "+c+" -"+c+" "+o+" -"+c+" 0 c"),r.push("-"+c+" -"+o+" -"+o+" -"+c+" 0 -"+c+" c"),r.push(o+" -"+c+" "+c+" -"+o+" "+c+" 0 c"),r.push("f"),r.push("Q"),a.stream=r.join(`
`),a}},Cross:{createAppearanceStream:function(i){var a={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return a.N[i]=wt.RadioButton.Cross.YesNormal,a.D[i]=wt.RadioButton.Cross.YesPushDown,a},getCA:function(){return"8"},YesNormal:function(i){var a=Zs(i);a.scope=i.scope;var r=[],l=wt.internal.calculateCross(i);return r.push("q"),r.push("1 1 "+Yt(wt.internal.getWidth(i)-2)+" "+Yt(wt.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(Yt(l.x1.x)+" "+Yt(l.x1.y)+" m"),r.push(Yt(l.x2.x)+" "+Yt(l.x2.y)+" l"),r.push(Yt(l.x4.x)+" "+Yt(l.x4.y)+" m"),r.push(Yt(l.x3.x)+" "+Yt(l.x3.y)+" l"),r.push("s"),r.push("Q"),a.stream=r.join(`
`),a},YesPushDown:function(i){var a=Zs(i);a.scope=i.scope;var r=wt.internal.calculateCross(i),l=[];return l.push("0.749023 g"),l.push("0 0 "+Yt(wt.internal.getWidth(i))+" "+Yt(wt.internal.getHeight(i))+" re"),l.push("f"),l.push("q"),l.push("1 1 "+Yt(wt.internal.getWidth(i)-2)+" "+Yt(wt.internal.getHeight(i)-2)+" re"),l.push("W"),l.push("n"),l.push(Yt(r.x1.x)+" "+Yt(r.x1.y)+" m"),l.push(Yt(r.x2.x)+" "+Yt(r.x2.y)+" l"),l.push(Yt(r.x4.x)+" "+Yt(r.x4.y)+" m"),l.push(Yt(r.x3.x)+" "+Yt(r.x3.y)+" l"),l.push("s"),l.push("Q"),a.stream=l.join(`
`),a},OffPushDown:function(i){var a=Zs(i);a.scope=i.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(wt.internal.getWidth(i))+" "+Yt(wt.internal.getHeight(i))+" re"),r.push("f"),a.stream=r.join(`
`),a}}},createDefaultAppearanceStream:function(i){var a=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color);return"/"+a+" "+i.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(i){var a=wt.internal.getWidth(i),r=wt.internal.getHeight(i),l=Math.min(a,r);return{x1:{x:(a-l)/2,y:(r-l)/2+l},x2:{x:(a-l)/2+l,y:(r-l)/2},x3:{x:(a-l)/2,y:(r-l)/2},x4:{x:(a-l)/2+l,y:(r-l)/2+l}}}},wt.internal.getWidth=function(i){var a=0;return kr(i)==="object"&&(a=tx(i.Rect[2])),a},wt.internal.getHeight=function(i){var a=0;return kr(i)==="object"&&(a=tx(i.Rect[3])),a};var oN=ga.addField=function(i){if(lN(this,i),!(i instanceof Ns))throw new Error("Invalid argument passed to jsPDF.addField.");var a;return(a=i).scope.internal.acroformPlugin.printedOut&&(a.scope.internal.acroformPlugin.printedOut=!1,a.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),a.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(a),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};ga.AcroFormChoiceField=xu,ga.AcroFormListBox=yu,ga.AcroFormComboBox=bu,ga.AcroFormEditBox=Rh,ga.AcroFormButton=Qa,ga.AcroFormPushButton=zh,ga.AcroFormRadioButton=vu,ga.AcroFormCheckBox=Ih,ga.AcroFormTextField=nc,ga.AcroFormPasswordField=Fh,ga.AcroFormAppearance=wt,ga.AcroForm={ChoiceField:xu,ListBox:yu,ComboBox:bu,EditBox:Rh,Button:Qa,PushButton:zh,RadioButton:vu,CheckBox:Ih,TextField:nc,PasswordField:Fh,Appearance:wt},At.AcroForm={ChoiceField:xu,ListBox:yu,ComboBox:bu,EditBox:Rh,Button:Qa,PushButton:zh,RadioButton:vu,CheckBox:Ih,TextField:nc,PasswordField:Fh,Appearance:wt};At.AcroForm;function c5(i){return i.reduce(function(a,r,l){return a[r]=l,a},{})}(function(i){var a="addImage_";i.__addimage__={};var r="UNKNOWN",l={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},c=i.__addimage__.getImageFileTypeByImageData=function(U,A){var H,j,$,W,ie,ee=r;if((A=A||r)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(P(U))for(ie in l)for($=l[ie],H=0;H<$.length;H+=1){for(W=!0,j=0;j<$[H].length;j+=1)if($[H][j]!==void 0&&$[H][j]!==U[j]){W=!1;break}if(W===!0){ee=ie;break}}else for(ie in l)for($=l[ie],H=0;H<$.length;H+=1){for(W=!0,j=0;j<$[H].length;j+=1)if($[H][j]!==void 0&&$[H][j]!==U.charCodeAt(j)){W=!1;break}if(W===!0){ee=ie;break}}return ee===r&&A!==r&&(ee=A),ee},o=function U(A){for(var H=this.internal.write,j=this.internal.putStream,$=(0,this.internal.getFilters)();$.indexOf("FlateEncode")!==-1;)$.splice($.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:A.width}),W.push({key:"Height",value:A.height}),A.colorSpace===k.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===k.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)&&A.transparency.length>0){for(var ie="",ee=0,ue=A.transparency.length;ee<ue;ee++)ie+=A.transparency[ee]+" "+A.transparency[ee]+" ";W.push({key:"Mask",value:"["+ie+"]"})}A.sMask!==void 0&&W.push({key:"SMask",value:A.objectId+1+" 0 R"});var ve=A.filter!==void 0?["/"+A.filter]:void 0;if(j({data:A.data,additionalKeyValues:W,alreadyAppliedFilters:ve,objectId:A.objectId}),H("endobj"),"sMask"in A&&A.sMask!==void 0){var ce,z=(ce=A.sMaskBitsPerComponent)!==null&&ce!==void 0?ce:A.bitsPerComponent,Q={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:A.sMask};"filter"in A&&(Q.decodeParameters="/Predictor ".concat(A.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(A.width),Q.filter=A.filter),U.call(this,Q)}if(A.colorSpace===k.INDEXED){var ae=this.internal.newObject();j({data:V(new Uint8Array(A.palette)),objectId:ae}),H("endobj")}},h=function(){var U=this.internal.collections[a+"images"];for(var A in U)o.call(this,U[A])},d=function(){var U,A=this.internal.collections[a+"images"],H=this.internal.write;for(var j in A)H("/I"+(U=A[j]).index,U.objectId,"0","R")},f=function(){this.internal.collections[a+"images"]||(this.internal.collections[a+"images"]={},this.internal.events.subscribe("putResources",h),this.internal.events.subscribe("putXobjectDict",d))},p=function(){var U=this.internal.collections[a+"images"];return f.call(this),U},b=function(){return Object.keys(this.internal.collections[a+"images"]).length},N=function(U){return typeof i["process"+U.toUpperCase()]=="function"},S=function(U){return kr(U)==="object"&&U.nodeType===1},g=function(U,A){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var H=""+U.getAttribute("src");if(H.indexOf("data:image/")===0)return Mh(unescape(H).split("base64,").pop());var j=i.loadFile(H,!0);if(j!==void 0)return j}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var $;switch(A){case"PNG":$="image/png";break;case"WEBP":$="image/webp";break;default:$="image/jpeg"}return Mh(U.toDataURL($,1).split("base64,").pop())}},E=function(U){var A=this.internal.collections[a+"images"];if(A){for(var H in A)if(U===A[H].alias)return A[H]}},w=function(U,A,H){return U||A||(U=-96,A=-96),U<0&&(U=-1*H.width*72/U/this.internal.scaleFactor),A<0&&(A=-1*H.height*72/A/this.internal.scaleFactor),U===0&&(U=A*H.width/H.height),A===0&&(A=U*H.height/H.width),[U,A]},C=function(U,A,H,j,$,W){var ie=w.call(this,H,j,$),ee=this.internal.getCoordinateString,ue=this.internal.getVerticalCoordinateString,ve=p.call(this);if(H=ie[0],j=ie[1],ve[$.index]=$,W){W*=Math.PI/180;var ce=Math.cos(W),z=Math.sin(W),Q=function(oe){return oe.toFixed(4)},ae=[Q(ce),Q(z),Q(-1*z),Q(ce),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,ee(U),ue(A+j),"cm"].join(" ")),this.internal.write(ae.join(" ")),this.internal.write([ee(H),"0","0",ee(j),"0","0","cm"].join(" "))):this.internal.write([ee(H),"0","0",ee(j),ee(U),ue(A+j),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+$.index+" Do"),this.internal.write("Q")},k=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=i.__addimage__.sHashCode=function(U){var A,H,j=0;if(typeof U=="string")for(H=U.length,A=0;A<H;A++)j=(j<<5)-j+U.charCodeAt(A),j|=0;else if(P(U))for(H=U.byteLength/2,A=0;A<H;A++)j=(j<<5)-j+U[A],j|=0;return j},M=i.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var A=!0;return U.length===0&&(A=!1),U.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(A=!1),A},q=i.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var A=U.indexOf(",");return A<0?null:U.substring(0,A).trim().endsWith("base64")?U.substring(A+1):null};i.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var P=i.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},B=i.__addimage__.binaryStringToUint8Array=function(U){for(var A=U.length,H=new Uint8Array(A),j=0;j<A;j++)H[j]=U.charCodeAt(j);return H},V=i.__addimage__.arrayBufferToBinaryString=function(U){for(var A="",H=P(U)?U:new Uint8Array(U),j=0;j<H.length;j+=8192)A+=String.fromCharCode.apply(null,H.subarray(j,j+8192));return A};i.addImage=function(){var U,A,H,j,$,W,ie,ee,ue;if(typeof arguments[1]=="number"?(A=r,H=arguments[1],j=arguments[2],$=arguments[3],W=arguments[4],ie=arguments[5],ee=arguments[6],ue=arguments[7]):(A=arguments[1],H=arguments[2],j=arguments[3],$=arguments[4],W=arguments[5],ie=arguments[6],ee=arguments[7],ue=arguments[8]),kr(U=arguments[0])==="object"&&!S(U)&&"imageData"in U){var ve=U;U=ve.imageData,A=ve.format||A||r,H=ve.x||H||0,j=ve.y||j||0,$=ve.w||ve.width||$,W=ve.h||ve.height||W,ie=ve.alias||ie,ee=ve.compression||ee,ue=ve.rotation||ve.angle||ue}var ce=this.internal.getFilters();if(ee===void 0&&ce.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(H)||isNaN(j))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var z=F.call(this,U,A,ie,ee);return C.call(this,H,j,$,W,z,ue),this};var F=function(U,A,H,j){var $,W,ie;if(typeof U=="string"&&c(U)===r){U=unescape(U);var ee=re(U,!1);(ee!==""||(ee=i.loadFile(U,!0))!==void 0)&&(U=ee)}if(S(U)&&(U=g(U,A)),A=c(U,A),!N(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((ie=H)==null||ie.length===0)&&(H=(function(ue){return typeof ue=="string"||P(ue)?T(ue):P(ue.data)?T(ue.data):null})(U)),($=E.call(this,H))||(U instanceof Uint8Array||A==="RGBA"||(W=U,U=B(U)),$=this["process"+A.toUpperCase()](U,b.call(this),H,(function(ue){return ue&&typeof ue=="string"&&(ue=ue.toUpperCase()),ue in i.image_compression?ue:D.NONE})(j),W)),!$)throw new Error("An unknown error occurred whilst processing the image.");return $},re=i.__addimage__.convertBase64ToBinaryString=function(U,A){A=typeof A!="boolean"||A;var H,j="";if(typeof U=="string"){var $;H=($=q(U))!==null&&$!==void 0?$:U;try{j=Mh(H)}catch(W){if(A)throw M(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return j};i.getImageProperties=function(U){var A,H,j="";if(S(U)&&(U=g(U)),typeof U=="string"&&c(U)===r&&((j=re(U,!1))===""&&(j=i.loadFile(U)||""),U=j),H=c(U),!N(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(U instanceof Uint8Array||(U=B(U)),!(A=this["process"+H.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=H,A}})(At.API),(function(i){var a=function(r){if(r!==void 0&&r!="")return!0};At.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(r){for(var l,c,o,h=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(r.objId),p=r.pageContext.annotations,b=!1,N=0;N<p.length&&!b;N++)switch((l=p[N]).type){case"link":(a(l.options.url)||a(l.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var S=0;S<p.length;S++){l=p[S];var g=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(l.type){case"reference":this.internal.write(" "+l.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),C=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(w.objId),D=l.title||"Note";o="<</Type /Annot /Subtype /Text "+(c="/Rect ["+h(l.bounds.x)+" "+d(l.bounds.y+l.bounds.h)+" "+h(l.bounds.x+l.bounds.w)+" "+d(l.bounds.y)+"] ")+"/Contents ("+g(k(l.contents))+")",o+=" /Popup "+C.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+g(k(D))+") >>",w.content=o;var T=w.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(c="/Rect ["+h(l.bounds.x+30)+" "+d(l.bounds.y+l.bounds.h)+" "+h(l.bounds.x+l.bounds.w+30)+" "+d(l.bounds.y)+"] ")+" /Parent "+T,l.open&&(o+=" /Open true"),o+=" >>",C.content=o,this.internal.write(w.objId,"0 R",C.objId,"0 R");break;case"freetext":c="/Rect ["+h(l.bounds.x)+" "+d(l.bounds.y)+" "+h(l.bounds.x+l.bounds.w)+" "+d(l.bounds.y+l.bounds.h)+"] ";var M=l.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+c+"/Contents ("+g(E(l.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(l.options.name){var q=this.annotations._nameMap[l.options.name];l.options.pageNumber=q.page,l.options.top=q.y}else l.options.top||(l.options.top=0);if(c="/Rect ["+l.finalBounds.x+" "+l.finalBounds.y+" "+l.finalBounds.w+" "+l.finalBounds.h+"] ",o="",l.options.url)o="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /A <</S /URI /URI ("+g(E(l.options.url))+") >>";else if(l.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(l.options.pageNumber).objId+" 0 R",l.options.magFactor=l.options.magFactor||"XYZ",l.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+l.options.top+"]";break;case"FitV":l.options.left=l.options.left||0,o+=" /FitV "+l.options.left+"]";break;default:var P=d(l.options.top);l.options.left=l.options.left||0,l.options.zoom===void 0&&(l.options.zoom=0),o+=" /XYZ "+l.options.left+" "+P+" "+l.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(r){var l=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":l.pageContext.annotations.push(r)}},i.link=function(r,l,c,o,h){var d=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:f(r),y:p(l),w:f(r+c),h:p(l+o)},options:h,type:"link"})},i.textWithLink=function(r,l,c,o){var h,d,f=this.getTextWidth(r),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){d=o.maxWidth;var b=this.splitTextToSize(r,d).length;h=Math.ceil(p*b)}else d=f,h=p;return this.text(r,l,c,o),c+=.2*p,o.align==="center"&&(l-=f/2),o.align==="right"&&(l-=f),this.link(l,c-p,d,h,o),f},i.getTextWidth=function(r){var l=this.internal.getFontSize();return this.getStringUnitWidth(r)*l/this.internal.scaleFactor}})(At.API),(function(i){var a={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},l={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},c=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(w){return a[w.charCodeAt(0)]!==void 0},h=i.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},d=i.__arabicParser__.isArabicEndLetter=function(w){return h(w)&&o(w)&&a[w.charCodeAt(0)].length<=2},f=i.__arabicParser__.isArabicAlfLetter=function(w){return h(w)&&c.indexOf(w.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return h(w)&&o(w)&&a[w.charCodeAt(0)].length>=1};var p=i.__arabicParser__.arabicLetterHasFinalForm=function(w){return h(w)&&o(w)&&a[w.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(w){return h(w)&&o(w)&&a[w.charCodeAt(0)].length>=3};var b=i.__arabicParser__.arabicLetterHasMedialForm=function(w){return h(w)&&o(w)&&a[w.charCodeAt(0)].length==4},N=i.__arabicParser__.resolveLigatures=function(w){var C=0,k=r,D="",T=0;for(C=0;C<w.length;C+=1)k[w.charCodeAt(C)]!==void 0?(T++,typeof(k=k[w.charCodeAt(C)])=="number"&&(D+=String.fromCharCode(k),k=r,T=0),C===w.length-1&&(k=r,D+=w.charAt(C-(T-1)),C-=T-1,T=0)):(k=r,D+=w.charAt(C-T),C-=T,T=0);return D};i.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&l[w.charCodeAt(0)]!==void 0};var S=i.__arabicParser__.getCorrectForm=function(w,C,k){return h(w)?o(w)===!1?-1:!p(w)||!h(C)&&!h(k)||!h(k)&&d(C)||d(w)&&!h(C)||d(w)&&f(C)||d(w)&&d(C)?0:b(w)&&h(C)&&!d(C)&&h(k)&&p(k)?3:d(w)||!h(k)?1:2:-1},g=function(w){var C=0,k=0,D=0,T="",M="",q="",P=(w=w||"").split("\\s+"),B=[];for(C=0;C<P.length;C+=1){for(B.push(""),k=0;k<P[C].length;k+=1)T=P[C][k],M=P[C][k-1],q=P[C][k+1],h(T)?(D=S(T,M,q),B[C]+=D!==-1?String.fromCharCode(a[T.charCodeAt(0)][D]):T):B[C]+=T;B[C]=N(B[C])}return B.join(" ")},E=i.__arabicParser__.processArabic=i.processArabic=function(){var w,C=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(C)){var D=0;for(k=[],D=0;D<C.length;D+=1)Array.isArray(C[D])?k.push([g(C[D][0]),C[D][1],C[D][2]]):k.push([g(C[D])]);w=k}else w=g(C);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};i.events.push(["preProcessText",E])})(At.API),At.API.autoPrint=function(i){var a;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){a=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+a+" 0 R")})),this},(function(i){var a=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(d){r=d}});var l=150;Object.defineProperty(this,"width",{get:function(){return l},set:function(d){l=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=l+1)}});var c=300;Object.defineProperty(this,"height",{get:function(){return c},set:function(d){c=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=c+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(d){o=d}});var h={};Object.defineProperty(this,"style",{get:function(){return h},set:function(d){h=d}}),Object.defineProperty(this,"parentNode",{})};a.prototype.getContext=function(r,l){var c;if((r=r||"2d")!=="2d")return null;for(c in l)this.pdf.context2d.hasOwnProperty(c)&&(this.pdf.context2d[c]=l[c]);return this.pdf.context2d._canvas=this,this.pdf.context2d},a.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new a,this.canvas.pdf=this}])})(At.API),(function(i){var a={left:0,top:0,bottom:0,right:0},r=!1,l=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},a),this.internal.__cell__.margins.width=this.getPageWidth(),c.call(this))},c=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(w){b=w}});var N=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return N},set:function(w){N=w}});var S=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return S},set:function(w){S=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(w){E=w}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(f){return l.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},i.getTextDimensions=function(f,p){l.call(this);var b=(p=p||{}).fontSize||this.getFontSize(),N=p.font||this.getFont(),S=p.scaleFactor||this.internal.scaleFactor,g=0,E=0,w=0,C=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var k=p.maxWidth;k>0?typeof f=="string"?f=this.splitTextToSize(f,k):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(T,M){return T.concat(C.splitTextToSize(M,k))},[])):f=Array.isArray(f)?f:[f];for(var D=0;D<f.length;D++)g<(w=this.getStringUnitWidth(f[D],{font:N})*b)&&(g=w);return g!==0&&(E=f.length),{w:g/=S,h:Math.max((E*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/S,0)}},i.cellAddPage=function(){l.call(this),this.addPage();var f=this.internal.__cell__.margins||a;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var h=i.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),l.call(this);var p=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,N=this.internal.__cell__.margins||a,S=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===f.lineNumber?(f.x=(p.x||0)+(p.width||0),f.y=p.y||0):p.y+p.height+f.height+N.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=N.top,g&&S&&(this.printHeaderRow(f.lineNumber,!0),f.y+=S[0].height)):f.y=p.y+p.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,r===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-b,f.y+b,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+b,{align:"center",baseline:"top",maxWidth:f.width-b-b}):this.text(f.text,f.x+b,f.y+b,{align:"left",baseline:"top",maxWidth:f.width-b-b})),this.internal.__cell__.lastCell=f,this};i.table=function(f,p,b,N,S){if(l.call(this),!b)throw new Error("No data for PDF table.");var g,E,w,C,k=[],D=[],T=[],M={},q={},P=[],B=[],V=(S=S||{}).autoSize||!1,F=S.printHeaders!==!1,re=S.css&&S.css["font-size"]!==void 0?16*S.css["font-size"]:S.fontSize||12,U=S.margins||Object.assign({width:this.getPageWidth()},a),A=typeof S.padding=="number"?S.padding:3,H=S.headerBackgroundColor||"#c8c8c8",j=S.headerTextColor||"#000";if(c.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=j,this.setFontSize(re),N==null)D=k=Object.keys(b[0]),T=k.map(function(){return"left"});else if(Array.isArray(N)&&kr(N[0])==="object")for(k=N.map(function(ve){return ve.name}),D=N.map(function(ve){return ve.prompt||ve.name||""}),T=N.map(function(ve){return ve.align||"left"}),g=0;g<N.length;g+=1)q[N[g].name]=.7499990551181103*N[g].width;else Array.isArray(N)&&typeof N[0]=="string"&&(D=k=N,T=k.map(function(){return"left"}));if(V||Array.isArray(N)&&typeof N[0]=="string")for(g=0;g<k.length;g+=1){for(M[C=k[g]]=b.map(function(ve){return ve[C]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(D[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=M[C],this.setFont(void 0,"normal"),w=0;w<E.length;w+=1)P.push(this.getTextDimensions(E[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[C]=Math.max.apply(null,P)+A+A,P=[]}if(F){var $={};for(g=0;g<k.length;g+=1)$[k[g]]={},$[k[g]].text=D[g],$[k[g]].align=T[g];var W=d.call(this,$,q);B=k.map(function(ve){return new o(f,p,q[ve],W,$[ve].text,void 0,$[ve].align)}),this.setTableHeaderRow(B),this.printHeaderRow(1,!1)}var ie=N.reduce(function(ve,ce){return ve[ce.name]=ce.align,ve},{});for(g=0;g<b.length;g+=1){"rowStart"in S&&S.rowStart instanceof Function&&S.rowStart({row:g,data:b[g]},this);var ee=d.call(this,b[g],q);for(w=0;w<k.length;w+=1){var ue=b[g][k[w]];"cellStart"in S&&S.cellStart instanceof Function&&S.cellStart({row:g,col:w,data:ue},this),h.call(this,new o(f,p,q[k[w]],ee,ue,g+2,ie[k[w]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=p,this};var d=function(f,p){var b=this.internal.__cell__.padding,N=this.internal.__cell__.table_font_size,S=this.internal.scaleFactor;return Object.keys(f).map(function(g){var E=f[g];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,p[g]-b-b)},this).map(function(g){return this.getLineHeightFactor()*g.length*N/S+b+b},this).reduce(function(g,E){return Math.max(g,E)},0)};i.setTableHeaderRow=function(f){l.call(this),this.internal.__cell__.tableHeaderRow=f},i.printHeaderRow=function(f,p){if(l.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var N=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(N[0],N[1],N[2],N[3],void 0,-1)}this.setFont(void 0,"bold");for(var S=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){b=this.internal.__cell__.tableHeaderRow[g].clone(),p&&(b.y=this.internal.__cell__.margins.top||0,S.push(b)),b.lineNumber=f;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),h.call(this,b),this.setTextColor(E)}S.length>0&&this.setTableHeaderRow(S),this.setFont(void 0,"normal"),r=!1}})(At.API);var u5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},d5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Im=c5(d5),h5=[100,200,300,400,500,600,700,800,900],cN=c5(h5);function xm(i){var a=i.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return u5[o=o||"normal"]?o:"normal"})(i.style),l=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(i.weight),c=(function(o){return typeof Im[o=o||"normal"]=="number"?o:"normal"})(i.stretch);return{family:a,style:r,weight:l,stretch:c,src:i.src||[],ref:i.ref||{name:a,style:[c,r,l].join(" ")}}}function rx(i,a,r,l){var c;for(c=r;c>=0&&c<a.length;c+=l)if(i[a[c]])return i[a[c]];for(c=r;c>=0&&c<a.length;c-=l)if(i[a[c]])return i[a[c]]}var uN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ax={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nx(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function ix(i){return i.trimLeft()}function dN(i,a){for(var r=0;r<i.length;){if(i.charAt(r)===a)return[i.substring(0,r),i.substring(r+1)];r+=1}return null}function hN(i){var a=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return a===null?null:[a[0],i.substring(a[0].length)]}var Ah,sx,lx,ou,Ch,ox,cx,ux,ym=["times"];function dx(i,a,r,l,c){var o=4,h=fx;switch(c){case At.API.image_compression.FAST:o=1,h=hx;break;case At.API.image_compression.MEDIUM:o=6,h=mx;break;case At.API.image_compression.SLOW:o=9,h=px}i=(function(f,p,b,N){for(var S,g=f.length/p,E=new Uint8Array(f.length+g),w=[fN,hx,fx,mx,px],C=0;C<g;C+=1){var k=C*p,D=f.subarray(k,k+p);if(N)E.set(N(D,b,S),k+C);else{for(var T=w.length,M=[],q=0;q<T;q+=1)M[q]=w[q](D,b,S);var P=pN(M.concat());E.set(M[P],k+C)}S=D}return E})(i,a,Math.ceil(r*l/8),h);var d=Lm(i,{level:o});return At.API.__addimage__.arrayBufferToBinaryString(d)}function fN(i){var a=Array.apply([],i);return a.unshift(0),a}function hx(i,a){var r=i.length,l=[];l[0]=1;for(var c=0;c<r;c+=1){var o=i[c-a]||0;l[c+1]=i[c]-o+256&255}return l}function fx(i,a,r){var l=i.length,c=[];c[0]=2;for(var o=0;o<l;o+=1){var h=r&&r[o]||0;c[o+1]=i[o]-h+256&255}return c}function mx(i,a,r){var l=i.length,c=[];c[0]=3;for(var o=0;o<l;o+=1){var h=i[o-a]||0,d=r&&r[o]||0;c[o+1]=i[o]+256-(h+d>>>1)&255}return c}function px(i,a,r){var l=i.length,c=[];c[0]=4;for(var o=0;o<l;o+=1){var h=mN(i[o-a]||0,r&&r[o]||0,r&&r[o-a]||0);c[o+1]=i[o]-h+256&255}return c}function mN(i,a,r){if(i===a&&a===r)return i;var l=Math.abs(a-r),c=Math.abs(i-r),o=Math.abs(i+a-r-r);return l<=c&&l<=o?i:c<=o?a:r}function pN(i){var a=i.map(function(r){return r.reduce(function(l,c){return l+Math.abs(c)},0)});return a.indexOf(Math.min.apply(null,a))}function bm(i,a,r){var l=a*r,c=Math.floor(l/8),o=16-(l-8*c+r),h=(1<<r)-1;return f5(i,c)>>o&h}function gx(i,a,r,l){var c=r*l,o=Math.floor(c/8),h=16-(c-8*o+l),d=(1<<l)-1,f=(a&d)<<h;(function(p,b,N){if(b+1<p.byteLength)p.setUint16(b,N,!1);else{var S=N>>8&255;p.setUint8(b,S)}})(i,o,f5(i,o)&~(d<<h)&65535|f)}function f5(i,a){return a+1<i.byteLength?i.getUint16(a,!1):i.getUint8(a)<<8}function gN(i){var a=0;if(i[a++]!==71||i[a++]!==73||i[a++]!==70||i[a++]!==56||(i[a++]+1&253)!=56||i[a++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=i[a++]|i[a++]<<8,l=i[a++]|i[a++]<<8,c=i[a++],o=c>>7,h=1<<1+(7&c);i[a++],i[a++];var d=null,f=null;o&&(d=a,f=h,a+=3*h);var p=!0,b=[],N=0,S=null,g=0,E=null;for(this.width=r,this.height=l;p&&a<i.length;)switch(i[a++]){case 33:switch(i[a++]){case 255:if(i[a]!==11||i[a+1]==78&&i[a+2]==69&&i[a+3]==84&&i[a+4]==83&&i[a+5]==67&&i[a+6]==65&&i[a+7]==80&&i[a+8]==69&&i[a+9]==50&&i[a+10]==46&&i[a+11]==48&&i[a+12]==3&&i[a+13]==1&&i[a+16]==0)a+=14,E=i[a++]|i[a++]<<8,a++;else for(a+=12;;){if(!((U=i[a++])>=0))throw Error("Invalid block size");if(U===0)break;a+=U}break;case 249:if(i[a++]!==4||i[a+4]!==0)throw new Error("Invalid graphics extension block.");var w=i[a++];N=i[a++]|i[a++]<<8,S=i[a++],1&w||(S=null),g=w>>2&7,a++;break;case 254:for(;;){if(!((U=i[a++])>=0))throw Error("Invalid block size");if(U===0)break;a+=U}break;default:throw new Error("Unknown graphic control label: 0x"+i[a-1].toString(16))}break;case 44:var C=i[a++]|i[a++]<<8,k=i[a++]|i[a++]<<8,D=i[a++]|i[a++]<<8,T=i[a++]|i[a++]<<8,M=i[a++],q=M>>6&1,P=1<<1+(7&M),B=d,V=f,F=!1;M>>7&&(F=!0,B=a,V=P,a+=3*P);var re=a;for(a++;;){var U;if(!((U=i[a++])>=0))throw Error("Invalid block size");if(U===0)break;a+=U}b.push({x:C,y:k,width:D,height:T,has_local_palette:F,palette_offset:B,palette_size:V,data_offset:re,data_length:a-re,transparent_index:S,interlaced:!!q,delay:N,disposal:g});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+i[a-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return E},this.frameInfo=function(A){if(A<0||A>=b.length)throw new Error("Frame index out of range.");return b[A]},this.decodeAndBlitFrameBGRA=function(A,H){var j=this.frameInfo(A),$=j.width*j.height,W=new Uint8Array($);xx(i,j.data_offset,W,$);var ie=j.palette_offset,ee=j.transparent_index;ee===null&&(ee=256);var ue=j.width,ve=r-ue,ce=ue,z=4*(j.y*r+j.x),Q=4*((j.y+j.height)*r+j.x),ae=z,oe=4*ve;j.interlaced===!0&&(oe+=4*r*7);for(var ye=8,Se=0,_e=W.length;Se<_e;++Se){var Ae=W[Se];if(ce===0&&(ce=ue,(ae+=oe)>=Q&&(oe=4*ve+4*r*(ye-1),ae=z+(ue+ve)*(ye<<1),ye>>=1)),Ae===ee)ae+=4;else{var Be=i[ie+3*Ae],Ke=i[ie+3*Ae+1],pe=i[ie+3*Ae+2];H[ae++]=pe,H[ae++]=Ke,H[ae++]=Be,H[ae++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(A,H){var j=this.frameInfo(A),$=j.width*j.height,W=new Uint8Array($);xx(i,j.data_offset,W,$);var ie=j.palette_offset,ee=j.transparent_index;ee===null&&(ee=256);var ue=j.width,ve=r-ue,ce=ue,z=4*(j.y*r+j.x),Q=4*((j.y+j.height)*r+j.x),ae=z,oe=4*ve;j.interlaced===!0&&(oe+=4*r*7);for(var ye=8,Se=0,_e=W.length;Se<_e;++Se){var Ae=W[Se];if(ce===0&&(ce=ue,(ae+=oe)>=Q&&(oe=4*ve+4*r*(ye-1),ae=z+(ue+ve)*(ye<<1),ye>>=1)),Ae===ee)ae+=4;else{var Be=i[ie+3*Ae],Ke=i[ie+3*Ae+1],pe=i[ie+3*Ae+2];H[ae++]=Be,H[ae++]=Ke,H[ae++]=pe,H[ae++]=255}--ce}}}function xx(i,a,r,l){for(var c=i[a++],o=1<<c,h=o+1,d=h+1,f=c+1,p=(1<<f)-1,b=0,N=0,S=0,g=i[a++],E=new Int32Array(4096),w=null;;){for(;b<16&&g!==0;)N|=i[a++]<<b,b+=8,g===1?g=i[a++]:--g;if(b<f)break;var C=N&p;if(N>>=f,b-=f,C!==o){if(C===h)break;for(var k=C<d?C:w,D=0,T=k;T>o;)T=E[T]>>8,++D;var M=T;if(S+D+(k!==C?1:0)>l)return void Fr.log("Warning, gif stream longer than expected.");r[S++]=M;var q=S+=D;for(k!==C&&(r[S++]=M),T=k;D--;)T=E[T],r[--q]=255&T,T>>=8;w!==null&&d<4096&&(E[d++]=w<<8|M,d>=p+1&&f<12&&(++f,p=p<<1|1)),w=C}else d=h+1,p=(1<<(f=c+1))-1,w=null}return S!==l&&Fr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vm(i){var a,r,l,c,o,h=Math.floor,d=new Array(64),f=new Array(64),p=new Array(64),b=new Array(64),N=new Array(65535),S=new Array(65535),g=new Array(64),E=new Array(64),w=[],C=0,k=7,D=new Array(64),T=new Array(64),M=new Array(64),q=new Array(256),P=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],V=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(z,Q){for(var ae=0,oe=0,ye=new Array,Se=1;Se<=16;Se++){for(var _e=1;_e<=z[Se];_e++)ye[Q[oe]]=[],ye[Q[oe]][0]=ae,ye[Q[oe]][1]=Se,oe++,ae++;ae*=2}return ye}function ie(z){for(var Q=z[0],ae=z[1]-1;ae>=0;)Q&1<<ae&&(C|=1<<k),ae--,--k<0&&(C==255?(ee(255),ee(0)):ee(C),k=7,C=0)}function ee(z){w.push(z)}function ue(z){ee(z>>8&255),ee(255&z)}function ve(z,Q,ae,oe,ye){for(var Se,_e=ye[0],Ae=ye[240],Be=(function(he,Oe){var Le,Ne,Pe,et,Ye,it,kt,ut,ht,Ct,pt=0;for(ht=0;ht<8;++ht){Le=he[pt],Ne=he[pt+1],Pe=he[pt+2],et=he[pt+3],Ye=he[pt+4],it=he[pt+5],kt=he[pt+6];var or=Le+(ut=he[pt+7]),St=Le-ut,dt=Ne+kt,Et=Ne-kt,It=Pe+it,Dt=Pe-it,Jt=et+Ye,Pt=et-Ye,Ar=or+Jt,Mr=or-Jt,Wt=dt+It,_t=dt-It;he[pt]=Ar+Wt,he[pt+4]=Ar-Wt;var ir=.707106781*(_t+Mr);he[pt+2]=Mr+ir,he[pt+6]=Mr-ir;var ai=.382683433*((Ar=Pt+Dt)-(_t=Et+St)),Ua=.5411961*Ar+ai,Si=1.306562965*_t+ai,zn=.707106781*(Wt=Dt+Et),Lt=St+zn,Zi=St-zn;he[pt+5]=Zi+Ua,he[pt+3]=Zi-Ua,he[pt+1]=Lt+Si,he[pt+7]=Lt-Si,pt+=8}for(pt=0,ht=0;ht<8;++ht){Le=he[pt],Ne=he[pt+8],Pe=he[pt+16],et=he[pt+24],Ye=he[pt+32],it=he[pt+40],kt=he[pt+48];var ki=Le+(ut=he[pt+56]),wn=Le-ut,Nn=Ne+kt,Br=Ne-kt,oa=Pe+it,ja=Pe-it,Ss=et+Ye,Wa=et-Ye,wr=ki+Ss,Pr=ki-Ss,qa=Nn+oa,jn=Nn-oa;he[pt]=wr+qa,he[pt+32]=wr-qa;var In=.707106781*(jn+Pr);he[pt+16]=Pr+In,he[pt+48]=Pr-In;var $s=.382683433*((wr=Wa+ja)-(jn=Br+wn)),ni=.5411961*wr+$s,ii=1.306562965*jn+$s,ks=.707106781*(qa=ja+Br),si=wn+ks,li=wn-ks;he[pt+40]=li+ni,he[pt+24]=li-ni,he[pt+8]=si+ii,he[pt+56]=si-ii,pt++}for(ht=0;ht<64;++ht)Ct=he[ht]*Oe[ht],g[ht]=Ct>0?Ct+.5|0:Ct-.5|0;return g})(z,Q),Ke=0;Ke<64;++Ke)E[B[Ke]]=Be[Ke];var pe=E[0]-ae;ae=E[0],pe==0?ie(oe[0]):(ie(oe[S[Se=32767+pe]]),ie(N[Se]));for(var Ue=63;Ue>0&&E[Ue]==0;)Ue--;if(Ue==0)return ie(_e),ae;for(var O,Z=1;Z<=Ue;){for(var ke=Z;E[Z]==0&&Z<=Ue;)++Z;var se=Z-ke;if(se>=16){O=se>>4;for(var te=1;te<=O;++te)ie(Ae);se&=15}Se=32767+E[Z],ie(ye[(se<<4)+S[Se]]),ie(N[Se]),Z++}return Ue!=63&&ie(_e),ae}function ce(z){z=Math.min(Math.max(z,1),100),o!=z&&((function(Q){for(var ae=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ye=h((ae[oe]*Q+50)/100);ye=Math.min(Math.max(ye,1),255),d[B[oe]]=ye}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var Ae=h((Se[_e]*Q+50)/100);Ae=Math.min(Math.max(Ae,1),255),f[B[_e]]=Ae}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ke=0,pe=0;pe<8;pe++)for(var Ue=0;Ue<8;Ue++)p[Ke]=1/(d[B[Ke]]*Be[pe]*Be[Ue]*8),b[Ke]=1/(f[B[Ke]]*Be[pe]*Be[Ue]*8),Ke++})(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),o=z)}this.encode=function(z,Q){Q&&ce(Q),w=new Array,C=0,k=7,ue(65496),ue(65504),ue(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),ue(1),ue(1),ee(0),ee(0),(function(){ue(65499),ue(132),ee(0);for(var Ne=0;Ne<64;Ne++)ee(d[Ne]);ee(1);for(var Pe=0;Pe<64;Pe++)ee(f[Pe])})(),(function(Ne,Pe){ue(65472),ue(17),ee(8),ue(Pe),ue(Ne),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)})(z.width,z.height),(function(){ue(65476),ue(418),ee(0);for(var Ne=0;Ne<16;Ne++)ee(V[Ne+1]);for(var Pe=0;Pe<=11;Pe++)ee(F[Pe]);ee(16);for(var et=0;et<16;et++)ee(re[et+1]);for(var Ye=0;Ye<=161;Ye++)ee(U[Ye]);ee(1);for(var it=0;it<16;it++)ee(A[it+1]);for(var kt=0;kt<=11;kt++)ee(H[kt]);ee(17);for(var ut=0;ut<16;ut++)ee(j[ut+1]);for(var ht=0;ht<=161;ht++)ee($[ht])})(),ue(65498),ue(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var ae=0,oe=0,ye=0;C=0,k=7,this.encode.displayName="_encode_";for(var Se,_e,Ae,Be,Ke,pe,Ue,O,Z,ke=z.data,se=z.width,te=z.height,he=4*se,Oe=0;Oe<te;){for(Se=0;Se<he;){for(Ke=he*Oe+Se,Ue=-1,O=0,Z=0;Z<64;Z++)pe=Ke+(O=Z>>3)*he+(Ue=4*(7&Z)),Oe+O>=te&&(pe-=he*(Oe+1+O-te)),Se+Ue>=he&&(pe-=Se+Ue-he+4),_e=ke[pe++],Ae=ke[pe++],Be=ke[pe++],D[Z]=(P[_e]+P[Ae+256|0]+P[Be+512|0]>>16)-128,T[Z]=(P[_e+768|0]+P[Ae+1024|0]+P[Be+1280|0]>>16)-128,M[Z]=(P[_e+1280|0]+P[Ae+1536|0]+P[Be+1792|0]>>16)-128;ae=ve(D,p,ae,a,l),oe=ve(T,b,oe,r,c),ye=ve(M,b,ye,r,c),Se+=32}Oe+=8}if(k>=0){var Le=[];Le[1]=k+1,Le[0]=(1<<k+1)-1,ie(Le)}return ue(65497),new Uint8Array(w)},i=i||50,(function(){for(var z=String.fromCharCode,Q=0;Q<256;Q++)q[Q]=z(Q)})(),a=W(V,F),r=W(A,H),l=W(re,U),c=W(j,$),(function(){for(var z=1,Q=2,ae=1;ae<=15;ae++){for(var oe=z;oe<Q;oe++)S[32767+oe]=ae,N[32767+oe]=[],N[32767+oe][1]=ae,N[32767+oe][0]=oe;for(var ye=-(Q-1);ye<=-z;ye++)S[32767+ye]=ae,N[32767+ye]=[],N[32767+ye][1]=ae,N[32767+ye][0]=Q-1+ye;z<<=1,Q<<=1}})(),(function(){for(var z=0;z<256;z++)P[z]=19595*z,P[z+256|0]=38470*z,P[z+512|0]=7471*z+32768,P[z+768|0]=-11059*z,P[z+1024|0]=-21709*z,P[z+1280|0]=32768*z+8421375,P[z+1536|0]=-27439*z,P[z+1792|0]=-5329*z})(),ce(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bs(i,a){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!a,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function yx(i){function a(F){if(!F)throw Error("assert :P")}function r(F,re,U){for(var A=0;4>A;A++)if(F[re+A]!=U.charCodeAt(A))return!0;return!1}function l(F,re,U,A,H){for(var j=0;j<H;j++)F[re+j]=U[A+j]}function c(F,re,U,A){for(var H=0;H<A;H++)F[re+H]=U}function o(F){return new Int32Array(F)}function h(F,re){for(var U=[],A=0;A<F;A++)U.push(new re);return U}function d(F,re){var U=[];return(function A(H,j,$){for(var W=$[j],ie=0;ie<W&&(H.push($.length>j+1?[]:new re),!($.length<j+1));ie++)A(H[ie],j+1,$)})(U,0,F),U}var f=function(){var F=this;function re(m,y){for(var L=1<<y-1>>>0;m&L;)L>>>=1;return L?(m&L-1)+L:m}function U(m,y,L,R,Y){a(!(R%L));do m[y+(R-=L)]=Y;while(0<R)}function A(m,y,L,R,Y){if(a(2328>=Y),512>=Y)var X=o(512);else if((X=o(Y))==null)return 0;return(function(K,ne,le,fe,be,Re){var de,je,Te=ne,Ge=1<<le,De=o(16),Ve=o(16);for(a(be!=0),a(fe!=null),a(K!=null),a(0<le),je=0;je<be;++je){if(15<fe[je])return 0;++De[fe[je]]}if(De[0]==be)return 0;for(Ve[1]=0,de=1;15>de;++de){if(De[de]>1<<de)return 0;Ve[de+1]=Ve[de]+De[de]}for(je=0;je<be;++je)de=fe[je],0<fe[je]&&(Re[Ve[de]++]=je);if(Ve[15]==1)return(fe=new H).g=0,fe.value=Re[0],U(K,Te,1,Ge,fe),Ge;var Qe,nt=-1,$e=Ge-1,vt=0,ft=1,Ut=1,xt=1<<le;for(je=0,de=1,be=2;de<=le;++de,be<<=1){if(ft+=Ut<<=1,0>(Ut-=De[de]))return 0;for(;0<De[de];--De[de])(fe=new H).g=de,fe.value=Re[je++],U(K,Te+vt,be,xt,fe),vt=re(vt,de)}for(de=le+1,be=2;15>=de;++de,be<<=1){if(ft+=Ut<<=1,0>(Ut-=De[de]))return 0;for(;0<De[de];--De[de]){if(fe=new H,(vt&$e)!=nt){for(Te+=xt,Qe=1<<(nt=de)-le;15>nt&&!(0>=(Qe-=De[nt]));)++nt,Qe<<=1;Ge+=xt=1<<(Qe=nt-le),K[ne+(nt=vt&$e)].g=Qe+le,K[ne+nt].value=Te-ne-nt}fe.g=de-le,fe.value=Re[je++],U(K,Te+(vt>>le),be,xt,fe),vt=re(vt,de)}}return ft!=2*Ve[15]-1?0:Ge})(m,y,L,R,Y,X)}function H(){this.value=this.g=0}function j(){this.value=this.g=0}function $(){this.G=h(5,H),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=h(Ts,j)}function W(m,y,L,R){a(m!=null),a(y!=null),a(2147483648>R),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=L,m.Jd=y,m.Yc=L+R,m.Zc=4<=R?L+R-4+1:L,_e(m)}function ie(m,y){for(var L=0;0<y--;)L|=Be(m,128)<<y;return L}function ee(m,y){var L=ie(m,y);return Ae(m)?-L:L}function ue(m,y,L,R){var Y,X=0;for(a(m!=null),a(y!=null),a(4294967288>R),m.Sb=R,m.Ra=0,m.u=0,m.h=0,4<R&&(R=4),Y=0;Y<R;++Y)X+=y[L+Y]<<8*Y;m.Ra=X,m.bb=R,m.oa=y,m.pa=L}function ve(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Oi-8>>>0,++m.bb,m.u-=8;oe(m)&&(m.h=1,m.u=0)}function ce(m,y){if(a(0<=y),!m.h&&y<=tn){var L=ae(m)&dn[y];return m.u+=y,ve(m),L}return m.h=1,m.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ae(m){return m.Ra>>>(m.u&Oi-1)>>>0}function oe(m){return a(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Oi}function ye(m,y){m.u=y,m.h=oe(m)}function Se(m){m.u>=Mi&&(a(m.u>=Mi),ve(m))}function _e(m){a(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(a(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function Ae(m){return ie(m,1)}function Be(m,y){var L=m.Ca;0>m.b&&_e(m);var R=m.b,Y=L*y>>>8,X=(m.I>>>R>Y)+0;for(X?(L-=Y,m.I-=Y+1<<R>>>0):L=Y+1,R=L,Y=0;256<=R;)Y+=8,R>>=8;return R=7^Y+ss[R],m.b-=R,m.Ca=(L<<R)-1,X}function Ke(m,y,L){m[y+0]=L>>24&255,m[y+1]=L>>16&255,m[y+2]=L>>8&255,m[y+3]=255&L}function pe(m,y){return m[y+0]|m[y+1]<<8}function Ue(m,y){return pe(m,y)|m[y+2]<<16}function O(m,y){return pe(m,y)|pe(m,y+2)<<16}function Z(m,y){var L=1<<y;return a(m!=null),a(0<y),m.X=o(L),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function ke(m,y){a(m!=null),a(y!=null),a(m.Xa==y.Xa),l(y.X,0,m.X,0,1<<y.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function te(m,y,L,R){a(L!=null),a(R!=null);var Y=L[0],X=R[0];return Y==0&&(Y=(m*X+y/2)/y),X==0&&(X=(y*Y+m/2)/m),0>=Y||0>=X?0:(L[0]=Y,R[0]=X,1)}function he(m,y){return m+(1<<y)-1>>>y}function Oe(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function Le(m,y){F[y]=function(L,R,Y,X,K,ne,le){var fe;for(fe=0;fe<K;++fe){var be=F[m](ne[le+fe-1],Y,X+fe);ne[le+fe]=Oe(L[R+fe],be)}}}function Ne(){this.ud=this.hd=this.jd=0}function Pe(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function et(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Ye(m,y){return et(m+(m-y+.5>>1))}function it(m,y,L){return Math.abs(y-L)-Math.abs(m-L)}function kt(m,y,L,R,Y,X,K){for(R=X[K-1],L=0;L<Y;++L)X[K+L]=R=Oe(m[y+L],R)}function ut(m,y,L,R,Y){var X;for(X=0;X<L;++X){var K=m[y+X],ne=K>>8&255,le=16711935&(le=(le=16711935&K)+((ne<<16)+ne));R[Y+X]=(4278255360&K)+le>>>0}}function ht(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function Ct(m,y,L,R,Y,X){var K;for(K=0;K<R;++K){var ne=y[L+K],le=ne>>>8,fe=ne,be=255&(be=(be=ne>>>16)+((m.jd<<24>>24)*(le<<24>>24)>>>5));fe=255&(fe=(fe+=(m.hd<<24>>24)*(le<<24>>24)>>>5)+((m.ud<<24>>24)*(be<<24>>24)>>>5)),Y[X+K]=(4278255360&ne)+(be<<16)+fe}}function pt(m,y,L,R,Y){F[y]=function(X,K,ne,le,fe,be,Re,de,je){for(le=Re;le<de;++le)for(Re=0;Re<je;++Re)fe[be++]=Y(ne[R(X[K++])])},F[m]=function(X,K,ne,le,fe,be,Re){var de=8>>X.b,je=X.Ea,Te=X.K[0],Ge=X.w;if(8>de)for(X=(1<<X.b)-1,Ge=(1<<de)-1;K<ne;++K){var De,Ve=0;for(De=0;De<je;++De)De&X||(Ve=R(le[fe++])),be[Re++]=Y(Te[Ve&Ge]),Ve>>=de}else F["VP8LMapColor"+L](le,fe,Te,Ge,be,Re,K,ne,je)}}function or(m,y,L,R,Y){for(L=y+L;y<L;){var X=m[y++];R[Y++]=X>>16&255,R[Y++]=X>>8&255,R[Y++]=255&X}}function St(m,y,L,R,Y){for(L=y+L;y<L;){var X=m[y++];R[Y++]=X>>16&255,R[Y++]=X>>8&255,R[Y++]=255&X,R[Y++]=X>>24&255}}function dt(m,y,L,R,Y){for(L=y+L;y<L;){var X=(K=m[y++])>>16&240|K>>12&15,K=240&K|K>>28&15;R[Y++]=X,R[Y++]=K}}function Et(m,y,L,R,Y){for(L=y+L;y<L;){var X=(K=m[y++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;R[Y++]=X,R[Y++]=K}}function It(m,y,L,R,Y){for(L=y+L;y<L;){var X=m[y++];R[Y++]=255&X,R[Y++]=X>>8&255,R[Y++]=X>>16&255}}function Dt(m,y,L,R,Y,X){if(X==0)for(L=y+L;y<L;)Ke(R,((X=m[y++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),Y+=32;else l(R,Y,m,y,L)}function Jt(m,y){F[y][0]=F[m+"0"],F[y][1]=F[m+"1"],F[y][2]=F[m+"2"],F[y][3]=F[m+"3"],F[y][4]=F[m+"4"],F[y][5]=F[m+"5"],F[y][6]=F[m+"6"],F[y][7]=F[m+"7"],F[y][8]=F[m+"8"],F[y][9]=F[m+"9"],F[y][10]=F[m+"10"],F[y][11]=F[m+"11"],F[y][12]=F[m+"12"],F[y][13]=F[m+"13"],F[y][14]=F[m+"0"],F[y][15]=F[m+"0"]}function Pt(m){return m==Go||m==Lc||m==Gl||m==Tc}function Ar(){this.eb=[],this.size=this.A=this.fb=0}function Mr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ar,this.f.kb=new Mr,this.sd=null}function _t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ai(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Ua(m,y){var L=m.T,R=y.ba.f.RGBA,Y=R.eb,X=R.fb+m.ka*R.A,K=Ma[y.ba.S],ne=m.y,le=m.O,fe=m.f,be=m.N,Re=m.ea,de=m.W,je=y.cc,Te=y.dc,Ge=y.Mc,De=y.Nc,Ve=m.ka,Qe=m.ka+m.T,nt=m.U,$e=nt+1>>1;for(Ve==0?K(ne,le,null,null,fe,be,Re,de,fe,be,Re,de,Y,X,null,null,nt):(K(y.ec,y.fc,ne,le,je,Te,Ge,De,fe,be,Re,de,Y,X-R.A,Y,X,nt),++L);Ve+2<Qe;Ve+=2)je=fe,Te=be,Ge=Re,De=de,be+=m.Rc,de+=m.Rc,X+=2*R.A,K(ne,(le+=2*m.fa)-m.fa,ne,le,je,Te,Ge,De,fe,be,Re,de,Y,X-R.A,Y,X,nt);return le+=m.fa,m.j+Qe<m.o?(l(y.ec,y.fc,ne,le,nt),l(y.cc,y.dc,fe,be,$e),l(y.Mc,y.Nc,Re,de,$e),L--):1&Qe||K(ne,le,null,null,fe,be,Re,de,fe,be,Re,de,Y,X+R.A,null,null,nt),L}function Si(m,y,L){var R=m.F,Y=[m.J];if(R!=null){var X=m.U,K=y.ba.S,ne=K==Vo||K==Gl;y=y.ba.f.RGBA;var le=[0],fe=m.ka;le[0]=m.T,m.Kb&&(fe==0?--le[0]:(--fe,Y[0]-=m.width),m.j+m.ka+m.T==m.o&&(le[0]=m.o-m.j-fe));var be=y.eb;fe=y.fb+fe*y.A,m=Po(R,Y[0],m.width,X,le,be,fe+(ne?0:3),y.A),a(L==le),m&&Pt(K)&&hl(be,fe,ne,X,le,y.A)}return 0}function zn(m){var y=m.ma,L=y.ba.S,R=11>L,Y=L==Ya||L==qn||L==Vo||L==Vl||L==12||Pt(L);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!is(y.Oa,m,Y?11:12))return 0;if(Y&&Pt(L)&&Sc(),m.da)alert("todo:use_scaling");else{if(R){if(y.Ib=ai,m.Kb){if(L=m.U+1>>1,y.memory=o(m.U+2*L),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+L,y.Ib=Ua,Sc()}}else alert("todo:EmitYUV");Y&&(y.Jb=Si,R&&Bn())}if(R&&!Fs){for(m=0;256>m;++m)Ra[m]=89858*(m-128)+Xl>>Xn,of[m]=-22014*(m-128)+Xl,Ld[m]=-45773*(m-128),zc[m]=113618*(m-128)+Xl>>Xn;for(m=gl;m<Is;++m)y=76283*(m-16)+Xl>>Xn,cf[m-gl]=Kr(y,255),uf[m-gl]=Kr(y+8>>4,15);Fs=1}return 1}function Lt(m){var y=m.ma,L=m.U,R=m.T;return a(!(1&m.ka)),0>=L||0>=R?0:(L=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,L),y.Dc+=L,1)}function Zi(m){m.ma.memory=null}function ki(m,y,L,R){return ce(m,8)!=47?0:(y[0]=ce(m,14)+1,L[0]=ce(m,14)+1,R[0]=ce(m,1),ce(m,3)!=0?0:!m.h)}function wn(m,y){if(4>m)return m+1;var L=m-2>>1;return(2+(1&m)<<L)+ce(y,L)+1}function Nn(m,y){return 120<y?y-120:1<=(L=((L=Vn[y-1])>>4)*m+(8-(15&L)))?L:1;var L}function Br(m,y,L){var R=ae(L),Y=m[y+=255&R].g-8;return 0<Y&&(ye(L,L.u+8),R=ae(L),y+=m[y].value,y+=R&(1<<Y)-1),ye(L,L.u+m[y].g),m[y].value}function oa(m,y,L){return L.g+=m.g,L.value+=m.value<<y>>>0,a(8>=L.g),m.g}function ja(m,y,L){var R=m.xc;return a((y=R==0?0:m.vc[m.md*(L>>R)+(y>>R)])<m.Wb),m.Ya[y]}function Ss(m,y,L,R){var Y=m.ab,X=m.c*y,K=m.C;y=K+y;var ne=L,le=R;for(R=m.Ta,L=m.Ua;0<Y--;){var fe=m.gc[Y],be=K,Re=y,de=ne,je=le,Te=(le=R,ne=L,fe.Ea);switch(a(be<Re),a(Re<=fe.nc),fe.hc){case 2:na(de,je,(Re-be)*Te,le,ne);break;case 0:var Ge=be,De=Re,Ve=le,Qe=ne,nt=(xt=fe).Ea;Ge==0&&(Pl(de,je,null,null,1,Ve,Qe),kt(de,je+1,0,0,nt-1,Ve,Qe+1),je+=nt,Qe+=nt,++Ge);for(var $e=1<<xt.b,vt=$e-1,ft=he(nt,xt.b),Ut=xt.K,xt=xt.w+(Ge>>xt.b)*ft;Ge<De;){var $t=Ut,zr=xt,Gt=1;for(Ul(de,je,Ve,Qe-nt,1,Ve,Qe);Gt<nt;){var mt=(Gt&~vt)+$e;mt>nt&&(mt=nt),(0,ls[$t[zr++]>>8&15])(de,je+ +Gt,Ve,Qe+Gt-nt,mt-Gt,Ve,Qe+Gt),Gt=mt}je+=nt,Qe+=nt,++Ge&vt||(xt+=ft)}Re!=fe.nc&&l(le,ne-Te,le,ne+(Re-be-1)*Te,Te);break;case 1:for(Te=de,De=je,nt=(de=fe.Ea)-(Qe=de&~(Ve=(je=1<<fe.b)-1)),Ge=he(de,fe.b),$e=fe.K,fe=fe.w+(be>>fe.b)*Ge;be<Re;){for(vt=$e,ft=fe,Ut=new Ne,xt=De+Qe,$t=De+de;De<xt;)ht(vt[ft++],Ut),ql(Ut,Te,De,je,le,ne),De+=je,ne+=je;De<$t&&(ht(vt[ft++],Ut),ql(Ut,Te,De,nt,le,ne),De+=nt,ne+=nt),++be&Ve||(fe+=Ge)}break;case 3:if(de==le&&je==ne&&0<fe.b){for(De=le,de=Te=ne+(Re-be)*Te-(Qe=(Re-be)*he(fe.Ea,fe.b)),je=le,Ve=ne,Ge=[],Qe=(nt=Qe)-1;0<=Qe;--Qe)Ge[Qe]=je[Ve+Qe];for(Qe=nt-1;0<=Qe;--Qe)De[de+Qe]=Ge[Qe];kc(fe,be,Re,le,Te,le,ne)}else kc(fe,be,Re,de,je,le,ne)}ne=R,le=L}le!=L&&l(R,L,ne,le,X)}function Wa(m,y){var L=m.V,R=m.Ba+m.c*m.C,Y=y-m.C;if(a(y<=m.l.o),a(16>=Y),0<Y){var X=m.l,K=m.Ta,ne=m.Ua,le=X.width;if(Ss(m,Y,L,R),Y=ne=[ne],a((L=m.C)<(R=y)),a(X.v<X.va),R>X.o&&(R=X.o),L<X.j){var fe=X.j-L;L=X.j,Y[0]+=fe*le}if(L>=R?L=0:(Y[0]+=4*X.v,X.ka=L-X.j,X.U=X.va-X.v,X.T=R-L,L=1),L){if(ne=ne[0],11>(L=m.ca).S){var be=L.f.RGBA,Re=(R=L.S,Y=X.U,X=X.T,fe=be.eb,be.A),de=X;for(be=be.fb+m.Ma*be.A;0<de--;){var je=K,Te=ne,Ge=Y,De=fe,Ve=be;switch(R){case Cc:Hl(je,Te,Ge,De,Ve);break;case Ya:os(je,Te,Ge,De,Ve);break;case Go:os(je,Te,Ge,De,Ve),hl(De,Ve,0,Ge,1,0);break;case Ec:ul(je,Te,Ge,De,Ve);break;case qn:Dt(je,Te,Ge,De,Ve,1);break;case Lc:Dt(je,Te,Ge,De,Ve,1),hl(De,Ve,0,Ge,1,0);break;case Vo:Dt(je,Te,Ge,De,Ve,0);break;case Gl:Dt(je,Te,Ge,De,Ve,0),hl(De,Ve,1,Ge,1,0);break;case Vl:cs(je,Te,Ge,De,Ve);break;case Tc:cs(je,Te,Ge,De,Ve),Un(De,Ve,Ge,1,0);break;case Ds:Ii(je,Te,Ge,De,Ve);break;default:a(0)}ne+=le,be+=Re}m.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");a(m.Ma<=L.height)}}m.C=y,a(m.C<=m.i)}function wr(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var L=m.Ya[y].G,R=m.Ya[y].H;if(0<L[1][R[1]+0].g||0<L[2][R[2]+0].g||0<L[3][R[3]+0].g)return 0}return 1}function Pr(m,y,L,R,Y,X){if(m.Z!=0){var K=m.qd,ne=m.rd;for(a(hs[m.Z]!=null);y<L;++y)hs[m.Z](K,ne,R,Y,R,Y,X),K=R,ne=Y,Y+=X;m.qd=K,m.rd=ne}}function qa(m,y){var L=m.l.ma,R=L.Z==0||L.Z==1?m.l.j:m.C;if(R=m.C<R?R:m.C,a(y<=m.l.o),y>R){var Y=m.l.width,X=L.ca,K=L.tb+Y*R,ne=m.V,le=m.Ba+m.c*R,fe=m.gc;a(m.ab==1),a(fe[0].hc==3),zi(fe[0],R,y,ne,le,X,K),Pr(L,R,y,X,K,Y)}m.C=m.Ma=y}function jn(m,y,L,R,Y,X,K){var ne=m.$/R,le=m.$%R,fe=m.m,be=m.s,Re=L+m.$,de=Re;Y=L+R*Y;var je=L+R*X,Te=280+be.ua,Ge=m.Pb?ne:16777216,De=0<be.ua?be.Wa:null,Ve=be.wc,Qe=Re<je?ja(be,le,ne):null;a(m.C<X),a(je<=Y);var nt=!1;e:for(;;){for(;nt||Re<je;){var $e=0;if(ne>=Ge){var vt=Re-L;a((Ge=m).Pb),Ge.wd=Ge.m,Ge.xd=vt,0<Ge.s.ua&&ke(Ge.s.Wa,Ge.s.vb),Ge=ne+Os}if(le&Ve||(Qe=ja(be,le,ne)),a(Qe!=null),Qe.Qb&&(y[Re]=Qe.qb,nt=!0),!nt)if(Se(fe),Qe.jc){$e=fe,vt=y;var ft=Re,Ut=Qe.pd[ae($e)&Ts-1];a(Qe.jc),256>Ut.g?(ye($e,$e.u+Ut.g),vt[ft]=Ut.value,$e=0):(ye($e,$e.u+Ut.g-256),a(256<=Ut.value),$e=Ut.value),$e==0&&(nt=!0)}else $e=Br(Qe.G[0],Qe.H[0],fe);if(fe.h)break;if(nt||256>$e){if(!nt)if(Qe.nd)y[Re]=(Qe.qb|$e<<8)>>>0;else{if(Se(fe),nt=Br(Qe.G[1],Qe.H[1],fe),Se(fe),vt=Br(Qe.G[2],Qe.H[2],fe),ft=Br(Qe.G[3],Qe.H[3],fe),fe.h)break;y[Re]=(ft<<24|nt<<16|$e<<8|vt)>>>0}if(nt=!1,++Re,++le>=R&&(le=0,++ne,K!=null&&ne<=X&&!(ne%16)&&K(m,ne),De!=null))for(;de<Re;)$e=y[de++],De.X[(506832829*$e&4294967295)>>>De.Mb]=$e}else if(280>$e){if($e=wn($e-256,fe),vt=Br(Qe.G[4],Qe.H[4],fe),Se(fe),vt=Nn(R,vt=wn(vt,fe)),fe.h)break;if(Re-L<vt||Y-Re<$e)break e;for(ft=0;ft<$e;++ft)y[Re+ft]=y[Re+ft-vt];for(Re+=$e,le+=$e;le>=R;)le-=R,++ne,K!=null&&ne<=X&&!(ne%16)&&K(m,ne);if(a(Re<=Y),le&Ve&&(Qe=ja(be,le,ne)),De!=null)for(;de<Re;)$e=y[de++],De.X[(506832829*$e&4294967295)>>>De.Mb]=$e}else{if(!($e<Te))break e;for(nt=$e-280,a(De!=null);de<Re;)$e=y[de++],De.X[(506832829*$e&4294967295)>>>De.Mb]=$e;$e=Re,a(!(nt>>>(vt=De).Xa)),y[$e]=vt.X[nt],nt=!0}nt||a(fe.h==oe(fe))}if(m.Pb&&fe.h&&Re<Y)a(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&ke(m.s.vb,m.s.Wa);else{if(fe.h)break e;K?.(m,ne>X?X:ne),m.a=0,m.$=Re-L}return 1}return m.a=3,0}function In(m){a(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,a(m!=null)}function $s(){var m=new Nt;return m==null?null:(m.a=0,m.xb=Lu,Jt("Predictor","VP8LPredictors"),Jt("Predictor","VP8LPredictors_C"),Jt("PredictorAdd","VP8LPredictorsAdd"),Jt("PredictorAdd","VP8LPredictorsAdd_C"),na=ut,ql=Ct,Hl=or,os=St,cs=dt,Ii=Et,ul=It,F.VP8LMapColor32b=Ri,F.VP8LMapColor8b=Ta,m)}function ni(m,y,L,R,Y){var X=1,K=[m],ne=[y],le=R.m,fe=R.s,be=null,Re=0;e:for(;;){if(L)for(;X&&ce(le,1);){var de=K,je=ne,Te=R,Ge=1,De=Te.m,Ve=Te.gc[Te.ab],Qe=ce(De,2);if(Te.Oc&1<<Qe)X=0;else{switch(Te.Oc|=1<<Qe,Ve.hc=Qe,Ve.Ea=de[0],Ve.nc=je[0],Ve.K=[null],++Te.ab,a(4>=Te.ab),Qe){case 0:case 1:Ve.b=ce(De,3)+2,Ge=ni(he(Ve.Ea,Ve.b),he(Ve.nc,Ve.b),0,Te,Ve.K),Ve.K=Ve.K[0];break;case 3:var nt,$e=ce(De,8)+1,vt=16<$e?0:4<$e?1:2<$e?2:3;if(de[0]=he(Ve.Ea,vt),Ve.b=vt,nt=Ge=ni($e,1,0,Te,Ve.K)){var ft,Ut=$e,xt=Ve,$t=1<<(8>>xt.b),zr=o($t);if(zr==null)nt=0;else{var Gt=xt.K[0],mt=xt.w;for(zr[0]=xt.K[0][0],ft=1;ft<1*Ut;++ft)zr[ft]=Oe(Gt[mt+ft],zr[ft-1]);for(;ft<4*$t;++ft)zr[ft]=0;xt.K[0]=null,xt.K[0]=zr,nt=1}}Ge=nt;break;case 2:break;default:a(0)}X=Ge}}if(K=K[0],ne=ne[0],X&&ce(le,1)&&!(X=1<=(Re=ce(le,4))&&11>=Re)){R.a=3;break e}var ct;if(ct=X)t:{var qr,zt,Zt,xr=R,ya=K,za=ne,Lr=Re,ua=L,Za=xr.m,da=xr.s,Qt=[null],cr=1,Hr=0,mr=Gn[Lr];r:for(;;){if(ua&&ce(Za,1)){var ba=ce(Za,3)+2,Vr=he(ya,ba),ur=he(za,ba),la=Vr*ur;if(!ni(Vr,ur,0,xr,Qt))break r;for(Qt=Qt[0],da.xc=ba,qr=0;qr<la;++qr){var yr=Qt[qr]>>8&65535;Qt[qr]=yr,yr>=cr&&(cr=yr+1)}}if(Za.h)break r;for(zt=0;5>zt;++zt){var ha=ml[zt];!zt&&0<Lr&&(ha+=1<<Lr),Hr<ha&&(Hr=ha)}var fa=h(cr*mr,H),Nr=cr,lr=h(Nr,$);if(lr==null)var Xa=null;else a(65536>=Nr),Xa=lr;var Jr=o(Hr);if(Xa==null||Jr==null||fa==null){xr.a=1;break r}var Tt=fa;for(qr=Zt=0;qr<cr;++qr){var Ot=Xa[qr],dr=Ot.G,hn=Ot.H,Kn=0,an=1,ma=0;for(zt=0;5>zt;++zt){ha=ml[zt],dr[zt]=Tt,hn[zt]=Zt,!zt&&0<Lr&&(ha+=1<<Lr);n:{var Bs,Ps=ha,Fc=xr,Tr=Jr,Du=Tt,Ou=Zt,Bc=0,fs=Fc.m,df=ce(fs,1);if(c(Tr,0,0,Ps),df){var Mu=ce(fs,1)+1,Ru=ce(fs,1),Pc=ce(fs,Ru==0?1:8);Tr[Pc]=1,Mu==2&&(Tr[Pc=ce(fs,8)]=1);var ka=1}else{var Wr=o(19),Ko=ce(fs,4)+4;if(19<Ko){Fc.a=3;var Us=0;break n}for(Bs=0;Bs<Ko;++Bs)Wr[Yo[Bs]]=ce(fs,3);var Ql=void 0,xl=void 0,Pi=Fc,Uc=Wr,Jl=Ps,qc=Tr,Hc=0,ms=Pi.m,zu=8,Iu=h(128,H);a:for(;A(Iu,0,7,Uc,19);){if(ce(ms,1)){var Td=2+2*ce(ms,3);if((Ql=2+ce(ms,Td))>Jl)break a}else Ql=Jl;for(xl=0;xl<Jl&&Ql--;){Se(ms);var Fu=Iu[0+(127&ae(ms))];ye(ms,ms.u+Fu.g);var qs=Fu.value;if(16>qs)qc[xl++]=qs,qs!=0&&(zu=qs);else{var Dd=qs==16,Od=qs-16,Md=Yl[Od],Bu=ce(ms,Hn[Od])+Md;if(xl+Bu>Jl)break a;for(var Rd=Dd?zu:0;0<Bu--;)qc[xl++]=Rd}}Hc=1;break a}Hc||(Pi.a=3),ka=Hc}(ka=ka&&!fs.h)&&(Bc=A(Du,Ou,8,Tr,Ps)),ka&&Bc!=0?Us=Bc:(Fc.a=3,Us=0)}if(Us==0)break r;if(an&&Dc[zt]==1&&(an=Tt[Zt].g==0),Kn+=Tt[Zt].g,Zt+=Us,3>=zt){var yl,Vc=Jr[0];for(yl=1;yl<ha;++yl)Jr[yl]>Vc&&(Vc=Jr[yl]);ma+=Vc}}if(Ot.nd=an,Ot.Qb=0,an&&(Ot.qb=(dr[3][hn[3]+0].value<<24|dr[1][hn[1]+0].value<<16|dr[2][hn[2]+0].value)>>>0,Kn==0&&256>dr[0][hn[0]+0].value&&(Ot.Qb=1,Ot.qb+=dr[0][hn[0]+0].value<<8)),Ot.jc=!Ot.Qb&&6>ma,Ot.jc){var Qo,Ui=Ot;for(Qo=0;Qo<Ts;++Qo){var ps=Qo,gs=Ui.pd[ps],Gc=Ui.G[0][Ui.H[0]+ps];256<=Gc.value?(gs.g=Gc.g+256,gs.value=Gc.value):(gs.g=0,gs.value=0,ps>>=oa(Gc,8,gs),ps>>=oa(Ui.G[1][Ui.H[1]+ps],16,gs),ps>>=oa(Ui.G[2][Ui.H[2]+ps],0,gs),oa(Ui.G[3][Ui.H[3]+ps],24,gs))}}}da.vc=Qt,da.Wb=cr,da.Ya=Xa,da.yc=fa,ct=1;break t}ct=0}if(!(X=ct)){R.a=3;break e}if(0<Re){if(fe.ua=1<<Re,!Z(fe.Wa,Re)){R.a=1,X=0;break e}}else fe.ua=0;var Yc=R,bl=K,zd=ne,Wl=Yc.s,$l=Wl.xc;if(Yc.c=bl,Yc.i=zd,Wl.md=he(bl,$l),Wl.wc=$l==0?-1:(1<<$l)-1,L){R.xb=Ms;break e}if((be=o(K*ne))==null){R.a=1,X=0;break e}X=(X=jn(R,be,0,K,ne,ne,null))&&!le.h;break e}return X?(Y!=null?Y[0]=be:(a(be==null),a(L)),R.$=0,L||In(fe)):In(fe),X}function ii(m,y){var L=m.c*m.i,R=L+y+16*y;return a(m.c<=y),m.V=o(R),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+L+y,1)}function ks(m,y){var L=m.C,R=y-L,Y=m.V,X=m.Ba+m.c*L;for(a(y<=m.l.o);0<R;){var K=16<R?16:R,ne=m.l.ma,le=m.l.width,fe=le*K,be=ne.ca,Re=ne.tb+le*L,de=m.Ta,je=m.Ua;Ss(m,K,Y,X),Tn(de,je,be,Re,fe),Pr(ne,L,L+K,be,Re,le),R-=K,Y+=K*m.c,L+=K}a(L==y),m.C=m.Ma=y}function si(){this.ub=this.yd=this.td=this.Rb=0}function li(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function el(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function _i(){this.Yb=(function(){var m=[];return(function y(L,R,Y){for(var X=Y[R],K=0;K<X&&(L.push(Y.length>R+1?[]:0),!(Y.length<R+1));K++)y(L[K],R+1,Y)})(m,0,[3,11]),m})()}function ta(){this.jb=o(3),this.Wc=d([4,8],_i),this.Xc=d([4,17],_i)}function jo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Sn(){this.ld=this.La=this.dd=this.tc=0}function oi(){this.Na=this.la=0}function Xi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function So(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ko(){this.uc=this.M=this.Nb=0,this.wa=Array(new Sn),this.Y=0,this.ya=Array(new So),this.aa=0,this.l=new Ki}function _o(){this.y=o(16),this.f=o(8),this.ea=o(8)}function pc(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new si,this.Kc=new li,this.ed=new jo,this.Qa=new el,this.Ic=this.$c=this.Aa=0,this.D=new ko,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=h(8,z),this.ia=0,this.pb=h(4,Xi),this.Pa=new ta,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new _o),this.Hd=0,this.rb=Array(new oi),this.sb=0,this.wa=Array(new Sn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new So),this.L=this.aa=0,this.gd=d([4,2],Sn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ki(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ol(){var m=new pc;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Dn||(Dn=Qi)),m}function vr(m,y,L){return m.a==0&&(m.a=y,m.sc=L,m.cb=0),0}function $a(m,y,L){return 3<=L&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function Ao(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return vr(m,2,"null VP8Io passed to VP8GetHeaders()");var L=y.data,R=y.w,Y=y.ha;if(4>Y)return vr(m,7,"Truncated header.");var X=L[R+0]|L[R+1]<<8|L[R+2]<<16,K=m.Od;if(K.Rb=!(1&X),K.td=X>>1&7,K.yd=X>>4&1,K.ub=X>>5,3<K.td)return vr(m,3,"Incorrect keyframe parameters.");if(!K.yd)return vr(m,4,"Frame not displayable.");R+=3,Y-=3;var ne=m.Kc;if(K.Rb){if(7>Y)return vr(m,7,"cannot parse picture header");if(!$a(L,R,Y))return vr(m,3,"Bad code word");ne.c=16383&(L[R+4]<<8|L[R+3]),ne.Td=L[R+4]>>6,ne.i=16383&(L[R+6]<<8|L[R+5]),ne.Ud=L[R+6]>>6,R+=7,Y-=7,m.za=ne.c+15>>4,m.Ub=ne.i+15>>4,y.width=ne.c,y.height=ne.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,c((X=m.Pa).jb,0,255,X.jb.length),a((X=m.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,c(X.Zb,0,0,X.Zb.length),c(X.Lb,0,0,X.Lb)}if(K.ub>Y)return vr(m,7,"bad partition length");W(X=m.m,L,R,K.ub),R+=K.ub,Y-=K.ub,K.Rb&&(ne.Ld=Ae(X),ne.Kd=Ae(X)),ne=m.Qa;var le,fe=m.Pa;if(a(X!=null),a(ne!=null),ne.Cb=Ae(X),ne.Cb){if(ne.Bb=Ae(X),Ae(X)){for(ne.Fb=Ae(X),le=0;4>le;++le)ne.Zb[le]=Ae(X)?ee(X,7):0;for(le=0;4>le;++le)ne.Lb[le]=Ae(X)?ee(X,6):0}if(ne.Bb)for(le=0;3>le;++le)fe.jb[le]=Ae(X)?ie(X,8):255}else ne.Bb=0;if(X.Ka)return vr(m,3,"cannot parse segment header");if((ne=m.ed).zd=Ae(X),ne.Tb=ie(X,6),ne.wb=ie(X,3),ne.Pc=Ae(X),ne.Pc&&Ae(X)){for(fe=0;4>fe;++fe)Ae(X)&&(ne.vd[fe]=ee(X,6));for(fe=0;4>fe;++fe)Ae(X)&&(ne.od[fe]=ee(X,6))}if(m.L=ne.Tb==0?0:ne.zd?1:2,X.Ka)return vr(m,3,"cannot parse filter header");var be=Y;if(Y=le=R,R=le+be,ne=be,m.Xb=(1<<ie(m.m,2))-1,be<3*(fe=m.Xb))L=7;else{for(le+=3*fe,ne-=3*fe,be=0;be<fe;++be){var Re=L[Y+0]|L[Y+1]<<8|L[Y+2]<<16;Re>ne&&(Re=ne),W(m.Jc[+be],L,le,Re),le+=Re,ne-=Re,Y+=3}W(m.Jc[+fe],L,le,ne),L=le<R?0:5}if(L!=0)return vr(m,L,"cannot parse partitions");for(L=ie(le=m.m,7),Y=Ae(le)?ee(le,4):0,R=Ae(le)?ee(le,4):0,ne=Ae(le)?ee(le,4):0,fe=Ae(le)?ee(le,4):0,le=Ae(le)?ee(le,4):0,be=m.Qa,Re=0;4>Re;++Re){if(be.Cb){var de=be.Zb[Re];be.Fb||(de+=L)}else{if(0<Re){m.pb[Re]=m.pb[0];continue}de=L}var je=m.pb[Re];je.Sc[0]=Yn[Kr(de+Y,127)],je.Sc[1]=Zn[Kr(de+0,127)],je.Eb[0]=2*Yn[Kr(de+R,127)],je.Eb[1]=101581*Zn[Kr(de+ne,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=Yn[Kr(de+fe,117)],je.Qc[1]=Zn[Kr(de+le,127)],je.lc=de+le}if(!K.Rb)return vr(m,4,"Not a key frame.");for(Ae(X),K=m.Pa,L=0;4>L;++L){for(Y=0;8>Y;++Y)for(R=0;3>R;++R)for(ne=0;11>ne;++ne)fe=Be(X,Rr[L][Y][R][ne])?ie(X,8):Ed[L][Y][R][ne],K.Wc[L][Y].Yb[R][ne]=fe;for(Y=0;17>Y;++Y)K.Xc[L][Y]=K.Wc[L][er[Y]]}return m.kc=Ae(X),m.kc&&(m.Bd=ie(X,8)),m.cb=1}function Qi(m,y,L,R,Y,X,K){var ne=y[Y].Yb[L];for(L=0;16>Y;++Y){if(!Be(m,ne[L+0]))return Y;for(;!Be(m,ne[L+1]);)if(ne=y[++Y].Yb[0],L=0,Y==16)return 16;var le=y[Y+1].Yb;if(Be(m,ne[L+2])){var fe=m,be=0;if(Be(fe,(de=ne)[(Re=L)+3]))if(Be(fe,de[Re+6])){for(ne=0,Re=2*(be=Be(fe,de[Re+8]))+(de=Be(fe,de[Re+9+be])),be=0,de=Cd[Re];de[ne];++ne)be+=be+Be(fe,de[ne]);be+=3+(8<<Re)}else Be(fe,de[Re+7])?(be=7+2*Be(fe,165),be+=Be(fe,145)):be=5+Be(fe,159);else be=Be(fe,de[Re+4])?3+Be(fe,de[Re+5]):2;ne=le[2]}else be=1,ne=le[1];le=K+Eu[Y],0>(fe=m).b&&_e(fe);var Re,de=fe.b,je=(Re=fe.Ca>>1)-(fe.I>>de)>>31;--fe.b,fe.Ca+=je,fe.Ca|=1,fe.I-=(Re+1&je)<<de,X[le]=((be^je)-je)*R[(0<Y)+0]}return 16}function Ji(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,c(m.zc,0,0,m.zc.length),m.ja=0}function Fn(m,y,L,R,Y){Y=m[y+L+32*R]+(Y>>3),m[y+L+32*R]=-256&Y?0>Y?0:255:Y}function Ai(m,y,L,R,Y,X){Fn(m,y,0,L,R+Y),Fn(m,y,1,L,R+X),Fn(m,y,2,L,R-X),Fn(m,y,3,L,R-Y)}function ra(m){return(20091*m>>16)+m}function Ha(m,y,L,R){var Y,X=0,K=o(16);for(Y=0;4>Y;++Y){var ne=m[y+0]+m[y+8],le=m[y+0]-m[y+8],fe=(35468*m[y+4]>>16)-ra(m[y+12]),be=ra(m[y+4])+(35468*m[y+12]>>16);K[X+0]=ne+be,K[X+1]=le+fe,K[X+2]=le-fe,K[X+3]=ne-be,X+=4,y++}for(Y=X=0;4>Y;++Y)ne=(m=K[X+0]+4)+K[X+8],le=m-K[X+8],fe=(35468*K[X+4]>>16)-ra(K[X+12]),Fn(L,R,0,0,ne+(be=ra(K[X+4])+(35468*K[X+12]>>16))),Fn(L,R,1,0,le+fe),Fn(L,R,2,0,le-fe),Fn(L,R,3,0,ne-be),X++,R+=32}function Co(m,y,L,R){var Y=m[y+0]+4,X=35468*m[y+4]>>16,K=ra(m[y+4]),ne=35468*m[y+1]>>16;Ai(L,R,0,Y+K,m=ra(m[y+1]),ne),Ai(L,R,1,Y+X,m,ne),Ai(L,R,2,Y-X,m,ne),Ai(L,R,3,Y-K,m,ne)}function gc(m,y,L,R,Y){Ha(m,y,L,R),Y&&Ha(m,y+16,L,R+4)}function Eo(m,y,L,R){us(m,y+0,L,R,1),us(m,y+32,L,R+128,1)}function en(m,y,L,R){var Y;for(m=m[y+0]+4,Y=0;4>Y;++Y)for(y=0;4>y;++y)Fn(L,R,y,Y,m)}function Lo(m,y,L,R){m[y+0]&&fr(m,y+0,L,R),m[y+16]&&fr(m,y+16,L,R+4),m[y+32]&&fr(m,y+32,L,R+128),m[y+48]&&fr(m,y+48,L,R+128+4)}function To(m,y,L,R){var Y,X=o(16);for(Y=0;4>Y;++Y){var K=m[y+0+Y]+m[y+12+Y],ne=m[y+4+Y]+m[y+8+Y],le=m[y+4+Y]-m[y+8+Y],fe=m[y+0+Y]-m[y+12+Y];X[0+Y]=K+ne,X[8+Y]=K-ne,X[4+Y]=fe+le,X[12+Y]=fe-le}for(Y=0;4>Y;++Y)K=(m=X[0+4*Y]+3)+X[3+4*Y],ne=X[1+4*Y]+X[2+4*Y],le=X[1+4*Y]-X[2+4*Y],fe=m-X[3+4*Y],L[R+0]=K+ne>>3,L[R+16]=fe+le>>3,L[R+32]=K-ne>>3,L[R+48]=fe-le>>3,R+=64}function kn(m,y,L){var R,Y=y-32,X=Ga,K=255-m[Y-1];for(R=0;R<L;++R){var ne,le=X,fe=K+m[y-1];for(ne=0;ne<L;++ne)m[y+ne]=le[fe+m[Y+ne]];y+=32}}function Do(m,y){kn(m,y,4)}function xc(m,y){kn(m,y,8)}function yc(m,y){kn(m,y,16)}function Oo(m,y){var L;for(L=0;16>L;++L)l(m,y+32*L,m,y-32,16)}function Mo(m,y){var L;for(L=16;0<L;--L)c(m,y,m[y-1],16),y+=32}function tl(m,y,L){var R;for(R=0;16>R;++R)c(y,L+32*R,m,16)}function ci(m,y){var L,R=16;for(L=0;16>L;++L)R+=m[y-1+32*L]+m[y+L-32];tl(R>>5,m,y)}function ui(m,y){var L,R=8;for(L=0;16>L;++L)R+=m[y-1+32*L];tl(R>>4,m,y)}function Wi(m,y){var L,R=8;for(L=0;16>L;++L)R+=m[y+L-32];tl(R>>4,m,y)}function rl(m,y){tl(128,m,y)}function Rt(m,y,L){return m+2*y+L+2>>2}function _s(m,y){var L,R=y-32;for(R=new Uint8Array([Rt(m[R-1],m[R+0],m[R+1]),Rt(m[R+0],m[R+1],m[R+2]),Rt(m[R+1],m[R+2],m[R+3]),Rt(m[R+2],m[R+3],m[R+4])]),L=0;4>L;++L)l(m,y+32*L,R,0,R.length)}function bc(m,y){var L=m[y-1],R=m[y-1+32],Y=m[y-1+64],X=m[y-1+96];Ke(m,y+0,16843009*Rt(m[y-1-32],L,R)),Ke(m,y+32,16843009*Rt(L,R,Y)),Ke(m,y+64,16843009*Rt(R,Y,X)),Ke(m,y+96,16843009*Rt(Y,X,X))}function Ro(m,y){var L,R=4;for(L=0;4>L;++L)R+=m[y+L-32]+m[y-1+32*L];for(R>>=3,L=0;4>L;++L)c(m,y+32*L,R,4)}function vc(m,y){var L=m[y-1+0],R=m[y-1+32],Y=m[y-1+64],X=m[y-1-32],K=m[y+0-32],ne=m[y+1-32],le=m[y+2-32],fe=m[y+3-32];m[y+0+96]=Rt(R,Y,m[y-1+96]),m[y+1+96]=m[y+0+64]=Rt(L,R,Y),m[y+2+96]=m[y+1+64]=m[y+0+32]=Rt(X,L,R),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=Rt(K,X,L),m[y+3+64]=m[y+2+32]=m[y+1+0]=Rt(ne,K,X),m[y+3+32]=m[y+2+0]=Rt(le,ne,K),m[y+3+0]=Rt(fe,le,ne)}function _n(m,y){var L=m[y+1-32],R=m[y+2-32],Y=m[y+3-32],X=m[y+4-32],K=m[y+5-32],ne=m[y+6-32],le=m[y+7-32];m[y+0+0]=Rt(m[y+0-32],L,R),m[y+1+0]=m[y+0+32]=Rt(L,R,Y),m[y+2+0]=m[y+1+32]=m[y+0+64]=Rt(R,Y,X),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=Rt(Y,X,K),m[y+3+32]=m[y+2+64]=m[y+1+96]=Rt(X,K,ne),m[y+3+64]=m[y+2+96]=Rt(K,ne,le),m[y+3+96]=Rt(ne,le,le)}function Ca(m,y){var L=m[y-1+0],R=m[y-1+32],Y=m[y-1+64],X=m[y-1-32],K=m[y+0-32],ne=m[y+1-32],le=m[y+2-32],fe=m[y+3-32];m[y+0+0]=m[y+1+64]=X+K+1>>1,m[y+1+0]=m[y+2+64]=K+ne+1>>1,m[y+2+0]=m[y+3+64]=ne+le+1>>1,m[y+3+0]=le+fe+1>>1,m[y+0+96]=Rt(Y,R,L),m[y+0+64]=Rt(R,L,X),m[y+0+32]=m[y+1+96]=Rt(L,X,K),m[y+1+32]=m[y+2+96]=Rt(X,K,ne),m[y+2+32]=m[y+3+96]=Rt(K,ne,le),m[y+3+32]=Rt(ne,le,fe)}function zo(m,y){var L=m[y+0-32],R=m[y+1-32],Y=m[y+2-32],X=m[y+3-32],K=m[y+4-32],ne=m[y+5-32],le=m[y+6-32],fe=m[y+7-32];m[y+0+0]=L+R+1>>1,m[y+1+0]=m[y+0+64]=R+Y+1>>1,m[y+2+0]=m[y+1+64]=Y+X+1>>1,m[y+3+0]=m[y+2+64]=X+K+1>>1,m[y+0+32]=Rt(L,R,Y),m[y+1+32]=m[y+0+96]=Rt(R,Y,X),m[y+2+32]=m[y+1+96]=Rt(Y,X,K),m[y+3+32]=m[y+2+96]=Rt(X,K,ne),m[y+3+64]=Rt(K,ne,le),m[y+3+96]=Rt(ne,le,fe)}function al(m,y){var L=m[y-1+0],R=m[y-1+32],Y=m[y-1+64],X=m[y-1+96];m[y+0+0]=L+R+1>>1,m[y+2+0]=m[y+0+32]=R+Y+1>>1,m[y+2+32]=m[y+0+64]=Y+X+1>>1,m[y+1+0]=Rt(L,R,Y),m[y+3+0]=m[y+1+32]=Rt(R,Y,X),m[y+3+32]=m[y+1+64]=Rt(Y,X,X),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=X}function An(m,y){var L=m[y-1+0],R=m[y-1+32],Y=m[y-1+64],X=m[y-1+96],K=m[y-1-32],ne=m[y+0-32],le=m[y+1-32],fe=m[y+2-32];m[y+0+0]=m[y+2+32]=L+K+1>>1,m[y+0+32]=m[y+2+64]=R+L+1>>1,m[y+0+64]=m[y+2+96]=Y+R+1>>1,m[y+0+96]=X+Y+1>>1,m[y+3+0]=Rt(ne,le,fe),m[y+2+0]=Rt(K,ne,le),m[y+1+0]=m[y+3+32]=Rt(L,K,ne),m[y+1+32]=m[y+3+64]=Rt(R,L,K),m[y+1+64]=m[y+3+96]=Rt(Y,R,L),m[y+1+96]=Rt(X,Y,R)}function nl(m,y){var L;for(L=0;8>L;++L)l(m,y+32*L,m,y-32,8)}function Ci(m,y){var L;for(L=0;8>L;++L)c(m,y,m[y-1],8),y+=32}function il(m,y,L){var R;for(R=0;8>R;++R)c(y,L+32*R,m,8)}function $i(m,y){var L,R=8;for(L=0;8>L;++L)R+=m[y+L-32]+m[y-1+32*L];il(R>>4,m,y)}function Ml(m,y){var L,R=4;for(L=0;8>L;++L)R+=m[y+L-32];il(R>>3,m,y)}function Rl(m,y){var L,R=4;for(L=0;8>L;++L)R+=m[y-1+32*L];il(R>>3,m,y)}function Sa(m,y){il(128,m,y)}function Cn(m,y,L){var R=m[y-L],Y=m[y+0],X=3*(Y-R)+ds[1020+m[y-2*L]-m[y+L]],K=Ho[112+(X+4>>3)];m[y-L]=Ga[255+R+Ho[112+(X+3>>3)]],m[y+0]=Ga[255+Y-K]}function Ei(m,y,L,R){var Y=m[y+0],X=m[y+L];return Da[255+m[y-2*L]-m[y-L]]>R||Da[255+X-Y]>R}function es(m,y,L,R){return 4*Da[255+m[y-L]-m[y+0]]+Da[255+m[y-2*L]-m[y+L]]<=R}function zl(m,y,L,R,Y){var X=m[y-3*L],K=m[y-2*L],ne=m[y-L],le=m[y+0],fe=m[y+L],be=m[y+2*L],Re=m[y+3*L];return 4*Da[255+ne-le]+Da[255+K-fe]>R?0:Da[255+m[y-4*L]-X]<=Y&&Da[255+X-K]<=Y&&Da[255+K-ne]<=Y&&Da[255+Re-be]<=Y&&Da[255+be-fe]<=Y&&Da[255+fe-le]<=Y}function sl(m,y,L,R){var Y=2*R+1;for(R=0;16>R;++R)es(m,y+R,L,Y)&&Cn(m,y+R,L)}function ts(m,y,L,R){var Y=2*R+1;for(R=0;16>R;++R)es(m,y+R*L,1,Y)&&Cn(m,y+R*L,1)}function As(m,y,L,R){var Y;for(Y=3;0<Y;--Y)sl(m,y+=4*L,L,R)}function ll(m,y,L,R){var Y;for(Y=3;0<Y;--Y)ts(m,y+=4,L,R)}function Li(m,y,L,R,Y,X,K,ne){for(X=2*X+1;0<Y--;){if(zl(m,y,L,X,K))if(Ei(m,y,L,ne))Cn(m,y,L);else{var le=m,fe=y,be=L,Re=le[fe-2*be],de=le[fe-be],je=le[fe+0],Te=le[fe+be],Ge=le[fe+2*be],De=27*(Qe=ds[1020+3*(je-de)+ds[1020+Re-Te]])+63>>7,Ve=18*Qe+63>>7,Qe=9*Qe+63>>7;le[fe-3*be]=Ga[255+le[fe-3*be]+Qe],le[fe-2*be]=Ga[255+Re+Ve],le[fe-be]=Ga[255+de+De],le[fe+0]=Ga[255+je-De],le[fe+be]=Ga[255+Te-Ve],le[fe+2*be]=Ga[255+Ge-Qe]}y+=R}}function rs(m,y,L,R,Y,X,K,ne){for(X=2*X+1;0<Y--;){if(zl(m,y,L,X,K))if(Ei(m,y,L,ne))Cn(m,y,L);else{var le=m,fe=y,be=L,Re=le[fe-be],de=le[fe+0],je=le[fe+be],Te=Ho[112+(4+(Ge=3*(de-Re))>>3)],Ge=Ho[112+(Ge+3>>3)],De=Te+1>>1;le[fe-2*be]=Ga[255+le[fe-2*be]+De],le[fe-be]=Ga[255+Re+Ge],le[fe+0]=Ga[255+de-Te],le[fe+be]=Ga[255+je-De]}y+=R}}function wc(m,y,L,R,Y,X){Li(m,y,L,1,16,R,Y,X)}function Nc(m,y,L,R,Y,X){Li(m,y,1,L,16,R,Y,X)}function as(m,y,L,R,Y,X){var K;for(K=3;0<K;--K)rs(m,y+=4*L,L,1,16,R,Y,X)}function jc(m,y,L,R,Y,X){var K;for(K=3;0<K;--K)rs(m,y+=4,1,L,16,R,Y,X)}function _(m,y,L,R,Y,X,K,ne){Li(m,y,Y,1,8,X,K,ne),Li(L,R,Y,1,8,X,K,ne)}function G(m,y,L,R,Y,X,K,ne){Li(m,y,1,Y,8,X,K,ne),Li(L,R,1,Y,8,X,K,ne)}function me(m,y,L,R,Y,X,K,ne){rs(m,y+4*Y,Y,1,8,X,K,ne),rs(L,R+4*Y,Y,1,8,X,K,ne)}function xe(m,y,L,R,Y,X,K,ne){rs(m,y+4,1,Y,8,X,K,ne),rs(L,R+4,1,Y,8,X,K,ne)}function Ce(){this.ba=new Wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function yt(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new H}function Nt(){this.xb=this.a=0,this.l=new Ki,this.ca=new Wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Q,this.Pb=0,this.wd=new Q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new yt,this.ab=0,this.gc=h(4,tt),this.Oc=0}function Bt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ki,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ht(m,y,L,R,Y,X,K){for(m=m==null?0:m[y+0],y=0;y<K;++y)Y[X+y]=m+L[R+y]&255,m=Y[X+y]}function hr(m,y,L,R,Y,X,K){var ne;if(m==null)Ht(null,null,L,R,Y,X,K);else for(ne=0;ne<K;++ne)Y[X+ne]=m[y+ne]+L[R+ne]&255}function Ur(m,y,L,R,Y,X,K){if(m==null)Ht(null,null,L,R,Y,X,K);else{var ne,le=m[y+0],fe=le,be=le;for(ne=0;ne<K;++ne)fe=be+(le=m[y+ne])-fe,be=L[R+ne]+(-256&fe?0>fe?0:255:fe)&255,fe=le,Y[X+ne]=be}}function aa(m,y,L,R){var Y=y.width,X=y.o;if(a(m!=null&&y!=null),0>L||0>=R||L+R>X)return null;if(!m.Cc){if(m.ga==null){var K;if(m.ga=new Bt,(K=m.ga==null)||(K=y.width*y.o,a(m.Gb.length==0),m.Gb=o(K),m.Uc=0,m.Gb==null?K=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,K=1),K=!K),!K){K=m.ga;var ne=m.Fa,le=m.P,fe=m.qc,be=m.mb,Re=m.nb,de=le+1,je=fe-1,Te=K.l;if(a(ne!=null&&be!=null&&y!=null),hs[0]=null,hs[1]=Ht,hs[2]=hr,hs[3]=Ur,K.ca=be,K.tb=Re,K.c=y.width,K.i=y.height,a(0<K.c&&0<K.i),1>=fe)y=0;else if(K.$a=3&ne[le+0],K.Z=ne[le+0]>>2&3,K.Lc=ne[le+0]>>4&3,le=ne[le+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||le)y=0;else if(Te.put=Lt,Te.ac=zn,Te.bc=Zi,Te.ma=K,Te.width=y.width,Te.height=y.height,Te.Da=y.Da,Te.v=y.v,Te.va=y.va,Te.j=y.j,Te.o=y.o,K.$a)e:{a(K.$a==1),y=$s();t:for(;;){if(y==null){y=0;break e}if(a(K!=null),K.mc=y,y.c=K.c,y.i=K.i,y.l=K.l,y.l.ma=K,y.l.width=K.c,y.l.height=K.i,y.a=0,ue(y.m,ne,de,je),!ni(K.c,K.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&wr(y.s)?(K.ic=1,ne=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(ne),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(K.ic=0,y=ii(y,K.c)),!y))break t;y=1;break e}K.mc=null,y=0}else y=je>=K.c*K.i;K=!y}if(K)return null;m.ga.Lc!=1?m.Ga=0:R=X-L}a(m.ga!=null),a(L+R<=X);e:{if(y=(ne=m.ga).c,X=ne.l.o,ne.$a==0){if(de=m.rc,je=m.Vc,Te=m.Fa,le=m.P+1+L*y,fe=m.mb,be=m.nb+L*y,a(le<=m.P+m.qc),ne.Z!=0)for(a(hs[ne.Z]!=null),K=0;K<R;++K)hs[ne.Z](de,je,Te,le,fe,be,y),de=fe,je=be,be+=y,le+=y;else for(K=0;K<R;++K)l(fe,be,Te,le,y),de=fe,je=be,be+=y,le+=y;m.rc=de,m.Vc=je}else{if(a(ne.mc!=null),y=L+R,a((K=ne.mc)!=null),a(y<=K.i),K.C>=y)y=1;else if(ne.ic||Bn(),ne.ic){ne=K.V,de=K.Ba,je=K.c;var Ge=K.i,De=(Te=1,le=K.$/je,fe=K.$%je,be=K.m,Re=K.s,K.$),Ve=je*Ge,Qe=je*y,nt=Re.wc,$e=De<Qe?ja(Re,fe,le):null;a(De<=Ve),a(y<=Ge),a(wr(Re));t:for(;;){for(;!be.h&&De<Qe;){if(fe&nt||($e=ja(Re,fe,le)),a($e!=null),Se(be),256>(Ge=Br($e.G[0],$e.H[0],be)))ne[de+De]=Ge,++De,++fe>=je&&(fe=0,++le<=y&&!(le%16)&&qa(K,le));else{if(!(280>Ge)){Te=0;break t}Ge=wn(Ge-256,be);var vt,ft=Br($e.G[4],$e.H[4],be);if(Se(be),!(De>=(ft=Nn(je,ft=wn(ft,be)))&&Ve-De>=Ge)){Te=0;break t}for(vt=0;vt<Ge;++vt)ne[de+De+vt]=ne[de+De+vt-ft];for(De+=Ge,fe+=Ge;fe>=je;)fe-=je,++le<=y&&!(le%16)&&qa(K,le);De<Qe&&fe&nt&&($e=ja(Re,fe,le))}a(be.h==oe(be))}qa(K,le>y?y:le);break t}!Te||be.h&&De<Ve?(Te=0,K.a=be.h?5:3):K.$=De,y=Te}else y=jn(K,K.V,K.Ba,K.c,K.i,y,ks);if(!y){R=0;break e}}L+R>=X&&(m.Cc=1),R=1}if(!R)return null;if(m.Cc&&((R=m.ga)!=null&&(R.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+L*Y}function Cr(m,y,L,R,Y,X){for(;0<Y--;){var K,ne=m,le=y+(L?1:0),fe=m,be=y+(L?0:3);for(K=0;K<R;++K){var Re=fe[be+4*K];Re!=255&&(Re*=32897,ne[le+4*K+0]=ne[le+4*K+0]*Re>>23,ne[le+4*K+1]=ne[le+4*K+1]*Re>>23,ne[le+4*K+2]=ne[le+4*K+2]*Re>>23)}y+=X}}function xa(m,y,L,R,Y){for(;0<R--;){var X;for(X=0;X<L;++X){var K=m[y+2*X+0],ne=15&(fe=m[y+2*X+1]),le=4369*ne,fe=(240&fe|fe>>4)*le>>16;m[y+2*X+0]=(240&K|K>>4)*le>>16&240|(15&K|K<<4)*le>>16>>4&15,m[y+2*X+1]=240&fe|ne}y+=Y}}function ca(m,y,L,R,Y,X,K,ne){var le,fe,be=255;for(fe=0;fe<Y;++fe){for(le=0;le<R;++le){var Re=m[y+le];X[K+4*le]=Re,be&=Re}y+=L,K+=ne}return be!=255}function Ea(m,y,L,R,Y){var X;for(X=0;X<Y;++X)L[R+X]=m[y+X]>>8}function Bn(){hl=Cr,Un=xa,Po=ca,Tn=Ea}function un(m,y,L){F[m]=function(R,Y,X,K,ne,le,fe,be,Re,de,je,Te,Ge,De,Ve,Qe,nt){var $e,vt=nt-1>>1,ft=ne[le+0]|fe[be+0]<<16,Ut=Re[de+0]|je[Te+0]<<16;a(R!=null);var xt=3*ft+Ut+131074>>2;for(y(R[Y+0],255&xt,xt>>16,Ge,De),X!=null&&(xt=3*Ut+ft+131074>>2,y(X[K+0],255&xt,xt>>16,Ve,Qe)),$e=1;$e<=vt;++$e){var $t=ne[le+$e]|fe[be+$e]<<16,zr=Re[de+$e]|je[Te+$e]<<16,Gt=ft+$t+Ut+zr+524296,mt=Gt+2*($t+Ut)>>3;xt=mt+ft>>1,ft=(Gt=Gt+2*(ft+zr)>>3)+$t>>1,y(R[Y+2*$e-1],255&xt,xt>>16,Ge,De+(2*$e-1)*L),y(R[Y+2*$e-0],255&ft,ft>>16,Ge,De+(2*$e-0)*L),X!=null&&(xt=Gt+Ut>>1,ft=mt+zr>>1,y(X[K+2*$e-1],255&xt,xt>>16,Ve,Qe+(2*$e-1)*L),y(X[K+2*$e+0],255&ft,ft>>16,Ve,Qe+(2*$e+0)*L)),ft=$t,Ut=zr}1&nt||(xt=3*ft+Ut+131074>>2,y(R[Y+nt-1],255&xt,xt>>16,Ge,De+(nt-1)*L),X!=null&&(xt=3*Ut+ft+131074>>2,y(X[K+nt-1],255&xt,xt>>16,Ve,Qe+(nt-1)*L)))}}function Sc(){Ma[Cc]=pl,Ma[Ya]=Zl,Ma[Ec]=Tu,Ma[qn]=Mc,Ma[Vo]=Rs,Ma[Vl]=Bi,Ma[Ds]=zs,Ma[Go]=Zl,Ma[Lc]=Mc,Ma[Gl]=Rs,Ma[Tc]=Bi}function Il(m){return m&-16384?0>m?0:255:m>>Rc}function ol(m,y){return Il((19077*m>>8)+(26149*y>>8)-14234)}function Ti(m,y,L){return Il((19077*m>>8)-(6419*y>>8)-(13320*L>>8)+8708)}function di(m,y){return Il((19077*m>>8)+(33050*y>>8)-17685)}function cl(m,y,L,R,Y){R[Y+0]=ol(m,L),R[Y+1]=Ti(m,y,L),R[Y+2]=di(m,y)}function Cs(m,y,L,R,Y){R[Y+0]=di(m,y),R[Y+1]=Ti(m,y,L),R[Y+2]=ol(m,L)}function La(m,y,L,R,Y){var X=Ti(m,y,L);y=X<<3&224|di(m,y)>>3,R[Y+0]=248&ol(m,L)|X>>5,R[Y+1]=y}function Es(m,y,L,R,Y){var X=240&di(m,y)|15;R[Y+0]=240&ol(m,L)|Ti(m,y,L)>>4,R[Y+1]=X}function Ls(m,y,L,R,Y){R[Y+0]=255,cl(m,y,L,R,Y+1)}function Fl(m,y,L,R,Y){Cs(m,y,L,R,Y),R[Y+3]=255}function Di(m,y,L,R,Y){cl(m,y,L,R,Y),R[Y+3]=255}function Kr(m,y){return 0>m?0:m>y?y:m}function ns(m,y,L){F[m]=function(R,Y,X,K,ne,le,fe,be,Re){for(var de=be+(-2&Re)*L;be!=de;)y(R[Y+0],X[K+0],ne[le+0],fe,be),y(R[Y+1],X[K+0],ne[le+0],fe,be+L),Y+=2,++K,++le,be+=2*L;1&Re&&y(R[Y+0],X[K+0],ne[le+0],fe,be)}}function Bl(m,y,L){return L==0?m==0?y==0?6:5:y==0?4:0:L}function Io(m,y,L,R,Y){switch(m>>>30){case 3:us(y,L,R,Y,0);break;case 2:Va(y,L,R,Y);break;case 1:fr(y,L,R,Y)}}function En(m,y){var L,R,Y=y.M,X=y.Nb,K=m.oc,ne=m.pc+40,le=m.oc,fe=m.pc+584,be=m.oc,Re=m.pc+600;for(L=0;16>L;++L)K[ne+32*L-1]=129;for(L=0;8>L;++L)le[fe+32*L-1]=129,be[Re+32*L-1]=129;for(0<Y?K[ne-1-32]=le[fe-1-32]=be[Re-1-32]=129:(c(K,ne-32-1,127,21),c(le,fe-32-1,127,9),c(be,Re-32-1,127,9)),R=0;R<m.za;++R){var de=y.ya[y.aa+R];if(0<R){for(L=-1;16>L;++L)l(K,ne+32*L-4,K,ne+32*L+12,4);for(L=-1;8>L;++L)l(le,fe+32*L-4,le,fe+32*L+4,4),l(be,Re+32*L-4,be,Re+32*L+4,4)}var je=m.Gd,Te=m.Hd+R,Ge=de.ad,De=de.Hc;if(0<Y&&(l(K,ne-32,je[Te].y,0,16),l(le,fe-32,je[Te].f,0,8),l(be,Re-32,je[Te].ea,0,8)),de.Za){var Ve=K,Qe=ne-32+16;for(0<Y&&(R>=m.za-1?c(Ve,Qe,je[Te].y[15],4):l(Ve,Qe,je[Te+1].y,0,4)),L=0;4>L;L++)Ve[Qe+128+L]=Ve[Qe+256+L]=Ve[Qe+384+L]=Ve[Qe+0+L];for(L=0;16>L;++L,De<<=2)Ve=K,Qe=ne+sa[L],Qr[de.Ob[L]](Ve,Qe),Io(De,Ge,16*+L,Ve,Qe)}else if(Ve=Bl(R,Y,de.Ob[0]),rn[Ve](K,ne),De!=0)for(L=0;16>L;++L,De<<=2)Io(De,Ge,16*+L,K,ne+sa[L]);for(L=de.Gc,Ve=Bl(R,Y,de.Dd),pi[Ve](le,fe),pi[Ve](be,Re),De=Ge,Ve=le,Qe=fe,255&(de=0|L)&&(170&de?Pn(De,256,Ve,Qe):sr(De,256,Ve,Qe)),de=be,De=Re,255&(L>>=8)&&(170&L?Pn(Ge,320,de,De):sr(Ge,320,de,De)),Y<m.Ub-1&&(l(je[Te].y,0,K,ne+480,16),l(je[Te].f,0,le,fe+224,8),l(je[Te].ea,0,be,Re+224,8)),L=8*X*m.B,je=m.sa,Te=m.ta+16*R+16*X*m.R,Ge=m.qa,de=m.ra+8*R+L,De=m.Ha,Ve=m.Ia+8*R+L,L=0;16>L;++L)l(je,Te+L*m.R,K,ne+32*L,16);for(L=0;8>L;++L)l(Ge,de+L*m.B,le,fe+32*L,8),l(De,Ve+L*m.B,be,Re+32*L,8)}}function hi(m,y,L,R,Y,X,K,ne,le){var fe=[0],be=[0],Re=0,de=le!=null?le.kd:0,je=le??new Xe;if(m==null||12>L)return 7;je.data=m,je.w=y,je.ha=L,y=[y],L=[L],je.gb=[je.gb];e:{var Te=y,Ge=L,De=je.gb;if(a(m!=null),a(Ge!=null),a(De!=null),De[0]=0,12<=Ge[0]&&!r(m,Te[0],"RIFF")){if(r(m,Te[0]+8,"WEBP")){De=3;break e}var Ve=O(m,Te[0]+4);if(12>Ve||4294967286<Ve){De=3;break e}if(de&&Ve>Ge[0]-8){De=7;break e}De[0]=Ve,Te[0]+=12,Ge[0]-=12}De=0}if(De!=0)return De;for(Ve=0<je.gb[0],L=L[0];;){e:{var Qe=m;Ge=y,De=L;var nt=fe,$e=be,vt=Te=[0];if((xt=Re=[Re])[0]=0,8>De[0])De=7;else{if(!r(Qe,Ge[0],"VP8X")){if(O(Qe,Ge[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var ft=O(Qe,Ge[0]+8),Ut=1+Ue(Qe,Ge[0]+12);if(2147483648<=Ut*(Qe=1+Ue(Qe,Ge[0]+15))){De=3;break e}vt!=null&&(vt[0]=ft),nt!=null&&(nt[0]=Ut),$e!=null&&($e[0]=Qe),Ge[0]+=18,De[0]-=18,xt[0]=1}De=0}}if(Re=Re[0],Te=Te[0],De!=0)return De;if(Ge=!!(2&Te),!Ve&&Re)return 3;if(X!=null&&(X[0]=!!(16&Te)),K!=null&&(K[0]=Ge),ne!=null&&(ne[0]=0),K=fe[0],Te=be[0],Re&&Ge&&le==null){De=0;break}if(4>L){De=7;break}if(Ve&&Re||!Ve&&!Re&&!r(m,y[0],"ALPH")){L=[L],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{ft=m,De=y,Ve=L;var xt=je.gb;nt=je.na,$e=je.P,vt=je.Sa,Ut=22,a(ft!=null),a(Ve!=null),Qe=De[0];var $t=Ve[0];for(a(nt!=null),a(vt!=null),nt[0]=null,$e[0]=null,vt[0]=0;;){if(De[0]=Qe,Ve[0]=$t,8>$t){De=7;break e}var zr=O(ft,Qe+4);if(4294967286<zr){De=3;break e}var Gt=8+zr+1&-2;if(Ut+=Gt,0<xt&&Ut>xt){De=3;break e}if(!r(ft,Qe,"VP8 ")||!r(ft,Qe,"VP8L")){De=0;break e}if($t[0]<Gt){De=7;break e}r(ft,Qe,"ALPH")||(nt[0]=ft,$e[0]=Qe+8,vt[0]=zr),Qe+=Gt,$t-=Gt}}if(L=L[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],De!=0)break}L=[L],je.Ja=[je.Ja],je.xa=[je.xa];e:if(xt=m,De=y,Ve=L,nt=je.gb[0],$e=je.Ja,vt=je.xa,ft=De[0],Qe=!r(xt,ft,"VP8 "),Ut=!r(xt,ft,"VP8L"),a(xt!=null),a(Ve!=null),a($e!=null),a(vt!=null),8>Ve[0])De=7;else{if(Qe||Ut){if(xt=O(xt,ft+4),12<=nt&&xt>nt-12){De=3;break e}if(de&&xt>Ve[0]-8){De=7;break e}$e[0]=xt,De[0]+=8,Ve[0]-=8,vt[0]=Ut}else vt[0]=5<=Ve[0]&&xt[ft+0]==47&&!(xt[ft+4]>>5),$e[0]=Ve[0];De=0}if(L=L[0],je.Ja=je.Ja[0],je.xa=je.xa[0],y=y[0],De!=0)break;if(4294967286<je.Ja)return 3;if(ne==null||Ge||(ne[0]=je.xa?2:1),K=[K],Te=[Te],je.xa){if(5>L){De=7;break}ne=K,de=Te,Ge=X,m==null||5>L?m=0:5<=L&&m[y+0]==47&&!(m[y+4]>>5)?(Ve=[0],xt=[0],nt=[0],ue($e=new Q,m,y,L),ki($e,Ve,xt,nt)?(ne!=null&&(ne[0]=Ve[0]),de!=null&&(de[0]=xt[0]),Ge!=null&&(Ge[0]=nt[0]),m=1):m=0):m=0}else{if(10>L){De=7;break}ne=Te,m==null||10>L||!$a(m,y+3,L-3)?m=0:(de=m[y+0]|m[y+1]<<8|m[y+2]<<16,Ge=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=je.Ja||!Ge||!m?m=0:(K&&(K[0]=Ge),ne&&(ne[0]=m),m=1))}if(!m||(K=K[0],Te=Te[0],Re&&(fe[0]!=K||be[0]!=Te)))return 3;le!=null&&(le[0]=je,le.offset=y-le.w,a(4294967286>y-le.w),a(le.offset==le.ha-L));break}return De==0||De==7&&Re&&le==null?(X!=null&&(X[0]|=je.na!=null&&0<je.na.length),R!=null&&(R[0]=K),Y!=null&&(Y[0]=Te),0):De}function is(m,y,L){var R=y.width,Y=y.height,X=0,K=0,ne=R,le=Y;if(y.Da=m!=null&&0<m.Da,y.Da&&(ne=m.cd,le=m.bd,X=m.v,K=m.j,11>L||(X&=-2,K&=-2),0>X||0>K||0>=ne||0>=le||X+ne>R||K+le>Y))return 0;if(y.v=X,y.j=K,y.va=X+ne,y.o=K+le,y.U=ne,y.T=le,y.da=m!=null&&0<m.da,y.da){if(!te(ne,le,L=[m.ib],X=[m.hb]))return 0;y.ib=L[0],y.hb=X[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*R/4&&y.hb<3*Y/4,y.Kb=0),1}function Fo(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function fi(m,y,L,R){if(R==null||0>=m||0>=y)return 2;if(L!=null){if(L.Da){var Y=L.cd,X=L.bd,K=-2&L.v,ne=-2&L.j;if(0>K||0>ne||0>=Y||0>=X||K+Y>m||ne+X>y)return 2;m=Y,y=X}if(L.da){if(!te(m,y,Y=[L.ib],X=[L.hb]))return 2;m=Y[0],y=X[0]}}R.width=m,R.height=y;e:{var le=R.width,fe=R.height;if(m=R.S,0>=le||0>=fe||!(m>=Cc&&13>m))m=2;else{if(0>=R.Rd&&R.sd==null){K=X=Y=y=0;var be=(ne=le*Ic[m])*fe;if(11>m||(X=(fe+1)/2*(y=(le+1)/2),m==12&&(K=(Y=le)*fe)),(fe=o(be+2*X+K))==null){m=1;break e}R.sd=fe,11>m?((le=R.f.RGBA).eb=fe,le.fb=0,le.A=ne,le.size=be):((le=R.f.kb).y=fe,le.O=0,le.fa=ne,le.Fd=be,le.f=fe,le.N=0+be,le.Ab=y,le.Cd=X,le.ea=fe,le.W=0+be+X,le.Db=y,le.Ed=X,m==12&&(le.F=fe,le.J=0+be+2*X),le.Tc=K,le.lb=Y)}if(y=1,Y=R.S,X=R.width,K=R.height,Y>=Cc&&13>Y)if(11>Y)m=R.f.RGBA,y&=(ne=Math.abs(m.A))*(K-1)+X<=m.size,y&=ne>=X*Ic[Y],y&=m.eb!=null;else{m=R.f.kb,ne=(X+1)/2,be=(K+1)/2,le=Math.abs(m.fa),fe=Math.abs(m.Ab);var Re=Math.abs(m.Db),de=Math.abs(m.lb),je=de*(K-1)+X;y&=le*(K-1)+X<=m.Fd,y&=fe*(be-1)+ne<=m.Cd,y=(y&=Re*(be-1)+ne<=m.Ed)&le>=X&fe>=ne&Re>=ne,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,Y==12&&(y&=de>=X,y&=je<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||L!=null&&L.fd&&(m=Fo(R)),m}var Ts=64,dn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],tn=24,Oi=32,Mi=8,ss=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(m){return m},F.Predictor2=function(m,y,L){return y[L+0]},F.Predictor3=function(m,y,L){return y[L+1]},F.Predictor4=function(m,y,L){return y[L-1]},F.Predictor5=function(m,y,L){return Pe(Pe(m,y[L+1]),y[L+0])},F.Predictor6=function(m,y,L){return Pe(m,y[L-1])},F.Predictor7=function(m,y,L){return Pe(m,y[L+0])},F.Predictor8=function(m,y,L){return Pe(y[L-1],y[L+0])},F.Predictor9=function(m,y,L){return Pe(y[L+0],y[L+1])},F.Predictor10=function(m,y,L){return Pe(Pe(m,y[L-1]),Pe(y[L+0],y[L+1]))},F.Predictor11=function(m,y,L){var R=y[L+0];return 0>=it(R>>24&255,m>>24&255,(y=y[L-1])>>24&255)+it(R>>16&255,m>>16&255,y>>16&255)+it(R>>8&255,m>>8&255,y>>8&255)+it(255&R,255&m,255&y)?R:m},F.Predictor12=function(m,y,L){var R=y[L+0];return(et((m>>24&255)+(R>>24&255)-((y=y[L-1])>>24&255))<<24|et((m>>16&255)+(R>>16&255)-(y>>16&255))<<16|et((m>>8&255)+(R>>8&255)-(y>>8&255))<<8|et((255&m)+(255&R)-(255&y)))>>>0},F.Predictor13=function(m,y,L){var R=y[L-1];return(Ye((m=Pe(m,y[L+0]))>>24&255,R>>24&255)<<24|Ye(m>>16&255,R>>16&255)<<16|Ye(m>>8&255,R>>8&255)<<8|Ye(255&m,255&R))>>>0};var Pl=F.PredictorAdd0;F.PredictorAdd1=kt,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Ul=F.PredictorAdd2;pt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),pt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var na,kc=F.ColorIndexInverseTransform,Ri=F.MapARGB,zi=F.VP8LColorIndexInverseTransformAlpha,Ta=F.MapAlpha,ls=F.VP8LPredictorsAdd=[];ls.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var ql,Hl,os,cs,Ii,ul,Ln,us,Va,Pn,fr,sr,Er,ia,Fi,mi,dl,Bo,_u,kd,_d,Ad,Au,Cu,hl,Un,Po,Tn,fl=o(511),_c=o(2041),Uo=o(225),qo=o(767),Ac=0,ds=_c,Ho=Uo,Ga=qo,Da=fl,Cc=0,Ya=1,Ec=2,qn=3,Vo=4,Vl=5,Ds=6,Go=7,Lc=8,Gl=9,Tc=10,Hn=[2,3,7],Yl=[3,3,11],ml=[280,256,256,256,40],Dc=[0,1,1,1,0],Yo=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Gn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Os=8,Yn=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zn=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dn=null,Cd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Eu=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Oc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ed=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Oa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Rr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],er=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rn=[],Qr=[],pi=[],Ms=1,Lu=2,hs=[],Ma=[];un("UpsampleRgbLinePair",cl,3),un("UpsampleBgrLinePair",Cs,3),un("UpsampleRgbaLinePair",Di,4),un("UpsampleBgraLinePair",Fl,4),un("UpsampleArgbLinePair",Ls,4),un("UpsampleRgba4444LinePair",Es,2),un("UpsampleRgb565LinePair",La,2);var pl=F.UpsampleRgbLinePair,Tu=F.UpsampleBgrLinePair,Zl=F.UpsampleRgbaLinePair,Mc=F.UpsampleBgraLinePair,Rs=F.UpsampleArgbLinePair,Bi=F.UpsampleRgba4444LinePair,zs=F.UpsampleRgb565LinePair,Xn=16,Xl=1<<Xn-1,gl=-227,Is=482,Rc=6,Fs=0,Ra=o(256),zc=o(256),Ld=o(256),of=o(256),cf=o(Is-gl),uf=o(Is-gl);ns("YuvToRgbRow",cl,3),ns("YuvToBgrRow",Cs,3),ns("YuvToRgbaRow",Di,4),ns("YuvToBgraRow",Fl,4),ns("YuvToArgbRow",Ls,4),ns("YuvToRgba4444Row",Es,2),ns("YuvToRgb565Row",La,2);var sa=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Kl=[0,2,8],Zo=[8,7,6,4,4,2,2,2,1,1,1,1],Xo=1;this.WebPDecodeRGBA=function(m,y,L,R,Y){var X=Ya,K=new Ce,ne=new Wt;K.ba=ne,ne.S=X,ne.width=[ne.width],ne.height=[ne.height];var le=ne.width,fe=ne.height,be=new _t;if(be==null||m==null)var Re=2;else a(be!=null),Re=hi(m,y,L,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Re!=0?le=0:(le!=null&&(le[0]=be.width[0]),fe!=null&&(fe[0]=be.height[0]),le=1),le){ne.width=ne.width[0],ne.height=ne.height[0],R!=null&&(R[0]=ne.width),Y!=null&&(Y[0]=ne.height);e:{if(R=new Ki,(Y=new Xe).data=m,Y.w=y,Y.ha=L,Y.kd=1,y=[0],a(Y!=null),((m=hi(Y.data,Y.w,Y.ha,null,null,null,y,null,Y))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(a(K!=null),R.data=Y.data,R.w=Y.w+Y.offset,R.ha=Y.ha-Y.offset,R.put=Lt,R.ac=zn,R.bc=Zi,R.ma=K,Y.xa){if((m=$s())==null){K=1;break e}if((function(de,je){var Te=[0],Ge=[0],De=[0];t:for(;;){if(de==null)return 0;if(je==null)return de.a=2,0;if(de.l=je,de.a=0,ue(de.m,je.data,je.w,je.ha),!ki(de.m,Te,Ge,De)){de.a=3;break t}if(de.xb=Lu,je.width=Te[0],je.height=Ge[0],!ni(Te[0],Ge[0],1,de,null))break t;return 1}return a(de.a!=0),0})(m,R)){if(R=(y=fi(R.width,R.height,K.Oa,K.ba))==0){t:{R=m;r:for(;;){if(R==null){R=0;break t}if(a(R.s.yc!=null),a(R.s.Ya!=null),a(0<R.s.Wb),a((L=R.l)!=null),a((Y=L.ma)!=null),R.xb!=0){if(R.ca=Y.ba,R.tb=Y.tb,a(R.ca!=null),!is(Y.Oa,L,qn)){R.a=2;break r}if(!ii(R,L.width)||L.da)break r;if((L.da||Pt(R.ca.S))&&Bn(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Bn()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Z(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!jn(R,R.V,R.Ba,R.c,R.i,L.o,Wa))break r;Y.Dc=R.Ma,R=1;break t}a(R.a!=0),R=0}R=!R}R&&(y=m.a)}else y=m.a}else{if((m=new Ol)==null){K=1;break e}if(m.Fa=Y.na,m.P=Y.P,m.qc=Y.Sa,Ao(m,R)){if((y=fi(R.width,R.height,K.Oa,K.ba))==0){if(m.Aa=0,L=K.Oa,a((Y=m)!=null),L!=null){if(0<(le=0>(le=L.Md)?0:100<le?255:255*le/100)){for(fe=be=0;4>fe;++fe)12>(Re=Y.pb[fe]).lc&&(Re.ia=le*Zo[0>Re.lc?0:Re.lc]>>3),be|=Re.ia;be&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=L.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(de,je){if(de==null)return 0;if(je==null)return vr(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!Ao(de,je))return 0;if(a(de.cb),je.ac==null||je.ac(je)){je.ob&&(de.L=0);var Te=Kl[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=je.v-Te>>4,de.zb=je.j-Te>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=je.o+15+Te>>4,de.Hb=je.va+15+Te>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var Ge=de.ed;for(Te=0;4>Te;++Te){var De;if(de.Qa.Cb){var Ve=de.Qa.Lb[Te];de.Qa.Fb||(Ve+=Ge.Tb)}else Ve=Ge.Tb;for(De=0;1>=De;++De){var Qe=de.gd[Te][De],nt=Ve;if(Ge.Pc&&(nt+=Ge.vd[0],De&&(nt+=Ge.od[0])),0<(nt=0>nt?0:63<nt?63:nt)){var $e=nt;0<Ge.wb&&($e=4<Ge.wb?$e>>2:$e>>1)>9-Ge.wb&&($e=9-Ge.wb),1>$e&&($e=1),Qe.dd=$e,Qe.tc=2*nt+$e,Qe.ld=40<=nt?2:15<=nt?1:0}else Qe.tc=0;Qe.La=De}}}Te=0}else vr(de,6,"Frame setup failed"),Te=de.a;if(Te=Te==0){if(Te){de.$c=0,0<de.Aa||(de.Ic=Xo);t:{Te=de.Ic,Ge=4*($e=de.za);var vt=32*$e,ft=$e+1,Ut=0<de.L?$e*(0<de.Aa?2:1):0,xt=(de.Aa==2?2:1)*$e;if((Qe=Ge+832+(De=3*(16*Te+Kl[de.L])/2*vt)+(Ve=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=Qe)Te=0;else{if(Qe>de.Vb){if(de.Vb=0,de.Ec=o(Qe),de.Fc=0,de.Ec==null){Te=vr(de,1,"no memory during frame initialization.");break t}de.Vb=Qe}Qe=de.Ec,nt=de.Fc,de.Ac=Qe,de.Bc=nt,nt+=Ge,de.Gd=h(vt,_o),de.Hd=0,de.rb=h(ft+1,oi),de.sb=1,de.wa=Ut?h(Ut,Sn):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=$e),a(!0),de.oc=Qe,de.pc=nt,nt+=832,de.ya=h(xt,So),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=$e),de.R=16*$e,de.B=8*$e,$e=(vt=Kl[de.L])*de.R,vt=vt/2*de.B,de.sa=Qe,de.ta=nt+$e,de.qa=de.sa,de.ra=de.ta+16*Te*de.R+vt,de.Ha=de.qa,de.Ia=de.ra+8*Te*de.B+vt,de.$c=0,nt+=De,de.mb=Ve?Qe:null,de.nb=Ve?nt:null,a(nt+Ve<=de.Fc+de.Vb),Ji(de),c(de.Ac,de.Bc,0,Ge),Te=1}}if(Te){if(je.ka=0,je.y=de.sa,je.O=de.ta,je.f=de.qa,je.N=de.ra,je.ea=de.Ha,je.Vd=de.Ia,je.fa=de.R,je.Rc=de.B,je.F=null,je.J=0,!Ac){for(Te=-255;255>=Te;++Te)fl[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)_c[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)Uo[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)qo[255+Te]=0>Te?0:255<Te?255:Te;Ac=1}Ln=To,us=gc,Pn=Eo,fr=en,sr=Lo,Va=Co,Er=wc,ia=Nc,Fi=_,mi=G,dl=as,Bo=jc,_u=me,kd=xe,_d=sl,Ad=ts,Au=As,Cu=ll,Qr[0]=Ro,Qr[1]=Do,Qr[2]=_s,Qr[3]=bc,Qr[4]=vc,Qr[5]=Ca,Qr[6]=_n,Qr[7]=zo,Qr[8]=An,Qr[9]=al,rn[0]=ci,rn[1]=yc,rn[2]=Oo,rn[3]=Mo,rn[4]=ui,rn[5]=Wi,rn[6]=rl,pi[0]=$i,pi[1]=xc,pi[2]=nl,pi[3]=Ci,pi[4]=Rl,pi[5]=Ml,pi[6]=Sa,Te=1}else Te=0}Te&&(Te=(function($t,zr){for($t.M=0;$t.M<$t.Va;++$t.M){var Gt,mt=$t.Jc[$t.M&$t.Xb],ct=$t.m,qr=$t;for(Gt=0;Gt<qr.za;++Gt){var zt=ct,Zt=qr,xr=Zt.Ac,ya=Zt.Bc+4*Gt,za=Zt.zc,Lr=Zt.ya[Zt.aa+Gt];if(Zt.Qa.Bb?Lr.$b=Be(zt,Zt.Pa.jb[0])?2+Be(zt,Zt.Pa.jb[2]):Be(zt,Zt.Pa.jb[1]):Lr.$b=0,Zt.kc&&(Lr.Ad=Be(zt,Zt.Bd)),Lr.Za=!Be(zt,145)+0,Lr.Za){var ua=Lr.Ob,Za=0;for(Zt=0;4>Zt;++Zt){var da,Qt=za[0+Zt];for(da=0;4>da;++da){Qt=Oa[xr[ya+da]][Qt];for(var cr=Oc[Be(zt,Qt[0])];0<cr;)cr=Oc[2*cr+Be(zt,Qt[cr])];Qt=-cr,xr[ya+da]=Qt}l(ua,Za,xr,ya,4),Za+=4,za[0+Zt]=Qt}}else Qt=Be(zt,156)?Be(zt,128)?1:3:Be(zt,163)?2:0,Lr.Ob[0]=Qt,c(xr,ya,Qt,4),c(za,0,Qt,4);Lr.Dd=Be(zt,142)?Be(zt,114)?Be(zt,183)?1:3:2:0}if(qr.m.Ka)return vr($t,7,"Premature end-of-partition0 encountered.");for(;$t.ja<$t.za;++$t.ja){if(qr=mt,zt=(ct=$t).rb[ct.sb-1],xr=ct.rb[ct.sb+ct.ja],Gt=ct.ya[ct.aa+ct.ja],ya=ct.kc?Gt.Ad:0)zt.la=xr.la=0,Gt.Za||(zt.Na=xr.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var Hr,mr;if(zt=xr,xr=qr,ya=ct.Pa.Xc,za=ct.ya[ct.aa+ct.ja],Lr=ct.pb[za.$b],Zt=za.ad,ua=0,Za=ct.rb[ct.sb-1],Qt=da=0,c(Zt,ua,0,384),za.Za)var ba=0,Vr=ya[3];else{cr=o(16);var ur=zt.Na+Za.Na;if(ur=Dn(xr,ya[1],ur,Lr.Eb,0,cr,0),zt.Na=Za.Na=(0<ur)+0,1<ur)Ln(cr,0,Zt,ua);else{var la=cr[0]+3>>3;for(cr=0;256>cr;cr+=16)Zt[ua+cr]=la}ba=1,Vr=ya[0]}var yr=15&zt.la,ha=15&Za.la;for(cr=0;4>cr;++cr){var fa=1&ha;for(la=mr=0;4>la;++la)yr=yr>>1|(fa=(ur=Dn(xr,Vr,ur=fa+(1&yr),Lr.Sc,ba,Zt,ua))>ba)<<7,mr=mr<<2|(3<ur?3:1<ur?2:Zt[ua+0]!=0),ua+=16;yr>>=4,ha=ha>>1|fa<<7,da=(da<<8|mr)>>>0}for(Vr=yr,ba=ha>>4,Hr=0;4>Hr;Hr+=2){for(mr=0,yr=zt.la>>4+Hr,ha=Za.la>>4+Hr,cr=0;2>cr;++cr){for(fa=1&ha,la=0;2>la;++la)ur=fa+(1&yr),yr=yr>>1|(fa=0<(ur=Dn(xr,ya[2],ur,Lr.Qc,0,Zt,ua)))<<3,mr=mr<<2|(3<ur?3:1<ur?2:Zt[ua+0]!=0),ua+=16;yr>>=2,ha=ha>>1|fa<<5}Qt|=mr<<4*Hr,Vr|=yr<<4<<Hr,ba|=(240&ha)<<Hr}zt.la=Vr,Za.la=ba,za.Hc=da,za.Gc=Qt,za.ia=43690&Qt?0:Lr.ia,ya=!(da|Qt)}if(0<ct.L&&(ct.wa[ct.Y+ct.ja]=ct.gd[Gt.$b][Gt.Za],ct.wa[ct.Y+ct.ja].La|=!ya),qr.Ka)return vr($t,7,"Premature end-of-file encountered.")}if(Ji($t),ct=zr,qr=1,Gt=(mt=$t).D,zt=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Gt.M=mt.M,Gt.uc=zt,En(mt,Gt),qr=1,Gt=(mr=mt.D).Nb,zt=(Qt=Kl[mt.L])*mt.R,xr=Qt/2*mt.B,cr=16*Gt*mt.R,la=8*Gt*mt.B,ya=mt.sa,za=mt.ta-zt+cr,Lr=mt.qa,Zt=mt.ra-xr+la,ua=mt.Ha,Za=mt.Ia-xr+la,ha=(yr=mr.M)==0,da=yr>=mt.Va-1,mt.Aa==2&&En(mt,mr),mr.uc)for(fa=(ur=mt).D.M,a(ur.D.uc),mr=ur.yb;mr<ur.Hb;++mr){ba=mr,Vr=fa;var Nr=(lr=(ma=ur).D).Nb;Hr=ma.R;var lr=lr.wa[lr.Y+ba],Xa=ma.sa,Jr=ma.ta+16*Nr*Hr+16*ba,Tt=lr.dd,Ot=lr.tc;if(Ot!=0)if(a(3<=Ot),ma.L==1)0<ba&&Ad(Xa,Jr,Hr,Ot+4),lr.La&&Cu(Xa,Jr,Hr,Ot),0<Vr&&_d(Xa,Jr,Hr,Ot+4),lr.La&&Au(Xa,Jr,Hr,Ot);else{var dr=ma.B,hn=ma.qa,Kn=ma.ra+8*Nr*dr+8*ba,an=ma.Ha,ma=ma.Ia+8*Nr*dr+8*ba;Nr=lr.ld,0<ba&&(ia(Xa,Jr,Hr,Ot+4,Tt,Nr),mi(hn,Kn,an,ma,dr,Ot+4,Tt,Nr)),lr.La&&(Bo(Xa,Jr,Hr,Ot,Tt,Nr),kd(hn,Kn,an,ma,dr,Ot,Tt,Nr)),0<Vr&&(Er(Xa,Jr,Hr,Ot+4,Tt,Nr),Fi(hn,Kn,an,ma,dr,Ot+4,Tt,Nr)),lr.La&&(dl(Xa,Jr,Hr,Ot,Tt,Nr),_u(hn,Kn,an,ma,dr,Ot,Tt,Nr))}}if(mt.ia&&alert("todo:DitherRow"),ct.put!=null){if(mr=16*yr,yr=16*(yr+1),ha?(ct.y=mt.sa,ct.O=mt.ta+cr,ct.f=mt.qa,ct.N=mt.ra+la,ct.ea=mt.Ha,ct.W=mt.Ia+la):(mr-=Qt,ct.y=ya,ct.O=za,ct.f=Lr,ct.N=Zt,ct.ea=ua,ct.W=Za),da||(yr-=Qt),yr>ct.o&&(yr=ct.o),ct.F=null,ct.J=null,mt.Fa!=null&&0<mt.Fa.length&&mr<yr&&(ct.J=aa(mt,ct,mr,yr-mr),ct.F=mt.mb,ct.F==null&&ct.F.length==0)){qr=vr(mt,3,"Could not decode alpha data.");break t}mr<ct.j&&(Qt=ct.j-mr,mr=ct.j,a(!(1&Qt)),ct.O+=mt.R*Qt,ct.N+=mt.B*(Qt>>1),ct.W+=mt.B*(Qt>>1),ct.F!=null&&(ct.J+=ct.width*Qt)),mr<yr&&(ct.O+=ct.v,ct.N+=ct.v>>1,ct.W+=ct.v>>1,ct.F!=null&&(ct.J+=ct.v),ct.ka=mr-ct.j,ct.U=ct.va-ct.v,ct.T=yr-mr,qr=ct.put(ct))}Gt+1!=mt.Ic||da||(l(mt.sa,mt.ta-zt,ya,za+16*mt.R,zt),l(mt.qa,mt.ra-xr,Lr,Zt+8*mt.B,xr),l(mt.Ha,mt.Ia-xr,ua,Za+8*mt.B,xr))}if(!qr)return vr($t,6,"Output aborted.")}return 1})(de,je)),je.bc!=null&&je.bc(je),Te&=1}return Te?(de.cb=0,Te):0})(m,R)||(y=m.a)}}else y=m.a}y==0&&K.Oa!=null&&K.Oa.fd&&(y=Fo(K.ba))}K=y}X=K!=0?null:11>X?ne.f.RGBA.eb:ne.f.kb.y}else X=null;return X};var Ic=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(F,re){for(var U="",A=0;A<4;A++)U+=String.fromCharCode(F[re++]);return U}function b(F,re){return F[re+0]|F[re+1]<<8}function N(F,re){return(F[re+0]|F[re+1]<<8|F[re+2]<<16)>>>0}function S(F,re){return(F[re+0]|F[re+1]<<8|F[re+2]<<16|F[re+3]<<24)>>>0}new f;var g=[0],E=[0],w=[],C=new f,k=i,D=(function(F,re){var U={},A=0,H=!1,j=0,$=0;if(U.frames=[],!(function(z,Q){for(var ae=0;ae<4;ae++)if(z[Q+ae]!="RIFF".charCodeAt(ae))return!0;return!1})(F,re)){for(S(F,re+=4),re+=8;re<F.length;){var W=p(F,re),ie=S(F,re+=4);re+=4;var ee=ie+(1&ie);switch(W){case"VP8 ":case"VP8L":U.frames[A]===void 0&&(U.frames[A]={}),(ce=U.frames[A]).src_off=H?$:re-8,ce.src_size=j+ie+8,A++,H&&(H=!1,j=0,$=0);break;case"VP8X":(ce=U.header={}).feature_flags=F[re];var ue=re+4;ce.canvas_width=1+N(F,ue),ue+=3,ce.canvas_height=1+N(F,ue),ue+=3;break;case"ALPH":H=!0,j=ee+8,$=re-8;break;case"ANIM":(ce=U.header).bgcolor=S(F,re),ue=re+4,ce.loop_count=b(F,ue),ue+=2;break;case"ANMF":var ve,ce;(ce=U.frames[A]={}).offset_x=2*N(F,re),re+=3,ce.offset_y=2*N(F,re),re+=3,ce.width=1+N(F,re),re+=3,ce.height=1+N(F,re),re+=3,ce.duration=N(F,re),re+=3,ve=F[re++],ce.dispose=1&ve,ce.blend=ve>>1&1}W!="ANMF"&&(re+=ee)}return U}})(k,0);D.response=k,D.rgbaoutput=!0,D.dataurl=!1;var T=D.header?D.header:null,M=D.frames?D.frames:null;if(T){T.loop_counter=T.loop_count,g=[T.canvas_height],E=[T.canvas_width];for(var q=0;q<M.length&&M[q].blend!=0;q++);}var P=M[0],B=C.WebPDecodeRGBA(k,P.src_off,P.src_size,E,g);P.rgba=B,P.imgwidth=E[0],P.imgheight=g[0];for(var V=0;V<E[0]*g[0]*4;V++)w[V]=B[V];return this.width=E,this.height=g,this.data=w,this}(function(i){var a,r,l,c,o,h,d,f,p,b=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new f,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new h,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new h,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new N(this),a=this.internal.f2,r=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,h=this.internal.Point,d=this.internal.Rectangle,f=this.internal.Matrix,p=new b}]);var N=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=z;Object.defineProperty(this,"pdf",{get:function(){return Q}});var ae=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ae},set:function(O){ae=!!O}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(O){oe=!!O}});var ye=0;Object.defineProperty(this,"posX",{get:function(){return ye},set:function(O){isNaN(O)||(ye=O)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(O){isNaN(O)||(Se=O)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(O){var Z;typeof O=="number"?Z=[O,O,O,O]:((Z=new Array(4))[0]=O[0],Z[1]=O.length>=2?O[1]:Z[0],Z[2]=O.length>=3?O[2]:Z[0],Z[3]=O.length>=4?O[3]:Z[1]),p.margin=Z}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(O){_e=O}});var Ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ae},set:function(O){Ae=O}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(O){Be=O}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(O){O instanceof b&&(p=O)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(O){p.path=O}});var Ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ke},set:function(O){Ke=O}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(O){var Z;Z=S(O),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(O){var Z=S(O);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(O){["butt","round","square"].indexOf(O)!==-1&&(this.ctx.lineCap=O,this.pdf.setLineCap(O))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(O){isNaN(O)||(this.ctx.lineWidth=O,this.pdf.setLineWidth(O))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(O){["bevel","round","miter"].indexOf(O)!==-1&&(this.ctx.lineJoin=O,this.pdf.setLineJoin(O))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(O){isNaN(O)||(this.ctx.miterLimit=O,this.pdf.setMiterLimit(O))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(O){this.ctx.textBaseline=O}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(O){["right","end","center","left","start"].indexOf(O)!==-1&&(this.ctx.textAlign=O)}});var pe=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(O){pe=null,Ue=O}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(O){var Z;if(this.ctx.font=O,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(O))!==null){var ke=Z[1];Z[2];var se=Z[3],te=Z[4];Z[5];var he=Z[6],Oe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(te)[2];te=Math.floor(Oe==="px"?parseFloat(te)*this.pdf.internal.scaleFactor:Oe==="em"?parseFloat(te)*this.pdf.getFontSize():parseFloat(te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(te);var Le=(function(Ct){var pt,or,St=[],dt=Ct.trim();if(dt==="")return ym;if(dt in ax)return[ax[dt]];for(;dt!=="";){switch(or=null,pt=(dt=ix(dt)).charAt(0)){case'"':case"'":or=dN(dt.substring(1),pt);break;default:or=hN(dt)}if(or===null||(St.push(or[0]),(dt=ix(or[1]))!==""&&dt.charAt(0)!==","))return ym;dt=dt.replace(/^,/,"")}return St})(he);if(this.fontFaces){var Ne=(function(Ct,pt){if(pe===null){var or=(function(St){var dt=[];return Object.keys(St).forEach(function(Et){St[Et].forEach(function(It){var Dt=null;switch(It){case"bold":Dt={family:Et,weight:"bold"};break;case"italic":Dt={family:Et,style:"italic"};break;case"bolditalic":Dt={family:Et,weight:"bold",style:"italic"};break;case"":case"normal":Dt={family:Et}}Dt!==null&&(Dt.ref={name:Et,style:It},dt.push(Dt))})}),dt})(Ct.getFontList());pe=(function(St){for(var dt={},Et=0;Et<St.length;++Et){var It=xm(St[Et]),Dt=It.family,Jt=It.stretch,Pt=It.style,Ar=It.weight;dt[Dt]=dt[Dt]||{},dt[Dt][Jt]=dt[Dt][Jt]||{},dt[Dt][Jt][Pt]=dt[Dt][Jt][Pt]||{},dt[Dt][Jt][Pt][Ar]=It}return dt})(or.concat(pt))}return pe})(this.pdf,this.fontFaces),Pe=Le.map(function(Ct){return{family:Ct,stretch:"normal",weight:se,style:ke}}),et=(function(Ct,pt,or){for(var St=(or=or||{}).defaultFontFamily||"times",dt=Object.assign({},uN,or.genericFontFamilies||{}),Et=null,It=null,Dt=0;Dt<pt.length;++Dt)if(dt[(Et=xm(pt[Dt])).family]&&(Et.family=dt[Et.family]),Ct.hasOwnProperty(Et.family)){It=Ct[Et.family];break}if(!(It=It||Ct[St]))throw new Error("Could not find a font-family for the rule '"+nx(Et)+"' and default family '"+St+"'.");if(It=(function(Jt,Pt){if(Pt[Jt])return Pt[Jt];var Ar=Im[Jt],Mr=Ar<=Im.normal?-1:1,Wt=rx(Pt,d5,Ar,Mr);if(!Wt)throw new Error("Could not find a matching font-stretch value for "+Jt);return Wt})(Et.stretch,It),It=(function(Jt,Pt){if(Pt[Jt])return Pt[Jt];for(var Ar=u5[Jt],Mr=0;Mr<Ar.length;++Mr)if(Pt[Ar[Mr]])return Pt[Ar[Mr]];throw new Error("Could not find a matching font-style for "+Jt)})(Et.style,It),!(It=(function(Jt,Pt){if(Pt[Jt])return Pt[Jt];if(Jt===400&&Pt[500])return Pt[500];if(Jt===500&&Pt[400])return Pt[400];var Ar=cN[Jt],Mr=rx(Pt,h5,Ar,Jt<400?-1:1);if(!Mr)throw new Error("Could not find a matching font-weight for value "+Jt);return Mr})(Et.weight,It)))throw new Error("Failed to resolve a font for the rule '"+nx(Et)+"'.");return It})(Ne,Pe);this.pdf.setFont(et.ref.name,et.ref.style)}else{var Ye="";(se==="bold"||parseInt(se,10)>=700||ke==="bold")&&(Ye="bold"),ke==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var it="",kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ut=0;ut<Le.length;ut++){if(this.pdf.internal.getFont(Le[ut],Ye,{noFallback:!0,disableWarning:!0})!==void 0){it=Le[ut];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(Le[ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=Le[ut],Ye="bold";else if(this.pdf.internal.getFont(Le[ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=Le[ut],Ye="normal";break}}if(it===""){for(var ht=0;ht<Le.length;ht++)if(kt[Le[ht]]){it=kt[Le[ht]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(O){this.ctx.globalCompositeOperation=O}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(O){this.ctx.globalAlpha=O}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(O){this.ctx.lineDashOffset=O,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(O){this.ctx.lineDash=O,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(O){this.ctx.ignoreClearRect=!!O}})};N.prototype.setLineDash=function(z){this.lineDash=z},N.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},N.prototype.fill=function(){M.call(this,"fill",!1)},N.prototype.stroke=function(){M.call(this,"stroke",!1)},N.prototype.beginPath=function(){this.path=[{type:"begin"}]},N.prototype.moveTo=function(z,Q){if(isNaN(z)||isNaN(Q))throw Fr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ae=this.ctx.transform.applyToPoint(new h(z,Q));this.path.push({type:"mt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new h(z,Q)},N.prototype.closePath=function(){var z=new h(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&kr(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){z=new h(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new h(z.x,z.y)},N.prototype.lineTo=function(z,Q){if(isNaN(z)||isNaN(Q))throw Fr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ae=this.ctx.transform.applyToPoint(new h(z,Q));this.path.push({type:"lt",x:ae.x,y:ae.y}),this.ctx.lastPoint=new h(ae.x,ae.y)},N.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},N.prototype.quadraticCurveTo=function(z,Q,ae,oe){if(isNaN(ae)||isNaN(oe)||isNaN(z)||isNaN(Q))throw Fr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ye=this.ctx.transform.applyToPoint(new h(ae,oe)),Se=this.ctx.transform.applyToPoint(new h(z,Q));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new h(ye.x,ye.y)},N.prototype.bezierCurveTo=function(z,Q,ae,oe,ye,Se){if(isNaN(ye)||isNaN(Se)||isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(oe))throw Fr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new h(ye,Se)),Ae=this.ctx.transform.applyToPoint(new h(z,Q)),Be=this.ctx.transform.applyToPoint(new h(ae,oe));this.path.push({type:"bct",x1:Ae.x,y1:Ae.y,x2:Be.x,y2:Be.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new h(_e.x,_e.y)},N.prototype.arc=function(z,Q,ae,oe,ye,Se){if(isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(oe)||isNaN(ye))throw Fr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new h(z,Q));z=_e.x,Q=_e.y;var Ae=this.ctx.transform.applyToPoint(new h(0,ae)),Be=this.ctx.transform.applyToPoint(new h(0,0));ae=Math.sqrt(Math.pow(Ae.x-Be.x,2)+Math.pow(Ae.y-Be.y,2))}Math.abs(ye-oe)>=2*Math.PI&&(oe=0,ye=2*Math.PI),this.path.push({type:"arc",x:z,y:Q,radius:ae,startAngle:oe,endAngle:ye,counterclockwise:Se})},N.prototype.arcTo=function(z,Q,ae,oe,ye){throw new Error("arcTo not implemented.")},N.prototype.rect=function(z,Q,ae,oe){if(isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(oe))throw Fr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,Q),this.lineTo(z+ae,Q),this.lineTo(z+ae,Q+oe),this.lineTo(z,Q+oe),this.lineTo(z,Q),this.lineTo(z+ae,Q),this.lineTo(z,Q)},N.prototype.fillRect=function(z,Q,ae,oe){if(isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(oe))throw Fr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ye={};this.lineCap!=="butt"&&(ye.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ye.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,Q,ae,oe),this.fill(),ye.hasOwnProperty("lineCap")&&(this.lineCap=ye.lineCap),ye.hasOwnProperty("lineJoin")&&(this.lineJoin=ye.lineJoin)}},N.prototype.strokeRect=function(z,Q,ae,oe){if(isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(oe))throw Fr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(z,Q,ae,oe),this.stroke())},N.prototype.clearRect=function(z,Q,ae,oe){if(isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(oe))throw Fr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,Q,ae,oe))},N.prototype.save=function(z){z=typeof z!="boolean"||z;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},N.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,ae=0;ae<this.pdf.internal.getNumberOfPages();ae++)this.pdf.setPage(ae+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},N.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var S=function(z){var Q,ae,oe,ye;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))Q=0,ae=0,oe=0,ye=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(Se!==null)Q=parseInt(Se[1]),ae=parseInt(Se[2]),oe=parseInt(Se[3]),ye=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)Q=parseInt(Se[1]),ae=parseInt(Se[2]),oe=parseInt(Se[3]),ye=parseFloat(Se[4]);else{if(ye=1,typeof z=="string"&&z.charAt(0)!=="#"){var _e=new a5(z);z=_e.ok?_e.toHex():"#000000"}z.length===4?(Q=z.substring(1,2),Q+=Q,ae=z.substring(2,3),ae+=ae,oe=z.substring(3,4),oe+=oe):(Q=z.substring(1,3),ae=z.substring(3,5),oe=z.substring(5,7)),Q=parseInt(Q,16),ae=parseInt(ae,16),oe=parseInt(oe,16)}}return{r:Q,g:ae,b:oe,a:ye,style:z}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};N.prototype.fillText=function(z,Q,ae,oe){if(isNaN(Q)||isNaN(ae)||typeof z!="string")throw Fr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!g.call(this)){var ye=ee(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;A.call(this,{text:z,x:Q,y:ae,scale:Se,angle:ye,align:this.textAlign,maxWidth:oe})}},N.prototype.strokeText=function(z,Q,ae,oe){if(isNaN(Q)||isNaN(ae)||typeof z!="string")throw Fr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){oe=isNaN(oe)?void 0:oe;var ye=ee(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;A.call(this,{text:z,x:Q,y:ae,scale:Se,renderingMode:"stroke",angle:ye,align:this.textAlign,maxWidth:oe})}},N.prototype.measureText=function(z){if(typeof z!="string")throw Fr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,ae=this.pdf.internal.scaleFactor,oe=Q.internal.getFontSize(),ye=Q.getStringUnitWidth(z)*oe/Q.internal.scaleFactor;return new function(Se){var _e=(Se=Se||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:ye*=Math.round(96*ae/72*1e4)/1e4})},N.prototype.scale=function(z,Q){if(isNaN(z)||isNaN(Q))throw Fr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ae=new f(z,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(ae)},N.prototype.rotate=function(z){if(isNaN(z))throw Fr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new f(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},N.prototype.translate=function(z,Q){if(isNaN(z)||isNaN(Q))throw Fr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ae=new f(1,0,0,1,z,Q);this.ctx.transform=this.ctx.transform.multiply(ae)},N.prototype.transform=function(z,Q,ae,oe,ye,Se){if(isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(oe)||isNaN(ye)||isNaN(Se))throw Fr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new f(z,Q,ae,oe,ye,Se);this.ctx.transform=this.ctx.transform.multiply(_e)},N.prototype.setTransform=function(z,Q,ae,oe,ye,Se){z=isNaN(z)?1:z,Q=isNaN(Q)?0:Q,ae=isNaN(ae)?0:ae,oe=isNaN(oe)?1:oe,ye=isNaN(ye)?0:ye,Se=isNaN(Se)?0:Se,this.ctx.transform=new f(z,Q,ae,oe,ye,Se)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};N.prototype.drawImage=function(z,Q,ae,oe,ye,Se,_e,Ae,Be){var Ke=this.pdf.getImageProperties(z),pe=1,Ue=1,O=1,Z=1;oe!==void 0&&Ae!==void 0&&(O=Ae/oe,Z=Be/ye,pe=Ke.width/oe*Ae/oe,Ue=Ke.height/ye*Be/ye),Se===void 0&&(Se=Q,_e=ae,Q=0,ae=0),oe!==void 0&&Ae===void 0&&(Ae=oe,Be=ye),oe===void 0&&Ae===void 0&&(Ae=Ke.width,Be=Ke.height);for(var ke,se=this.ctx.transform.decompose(),te=ee(se.rotate.shx),he=new f,Oe=(he=(he=(he=he.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new d(Se-Q*O,_e-ae*Z,oe*pe,ye*Ue)),Le=C.call(this,Oe),Ne=[],Pe=0;Pe<Le.length;Pe+=1)Ne.indexOf(Le[Pe])===-1&&Ne.push(Le[Pe]);if(T(Ne),this.autoPaging)for(var et=Ne[0],Ye=Ne[Ne.length-1],it=et;it<Ye+1;it++){this.pdf.setPage(it);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ut=it===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=it===1?0:ht+(it-2)*Ct;if(this.ctx.clip_path.length!==0){var or=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ke,this.posX+this.margin[3],-pt+ut+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=or}var St=JSON.parse(JSON.stringify(Oe));St=D([St],this.posX+this.margin[3],-pt+ut+this.ctx.prevPageLastElemOffset)[0];var dt=(it>et||it<Ye)&&w.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,Ct,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",St.x,St.y,St.w,St.h,null,null,te),dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(z,"JPEG",Oe.x,Oe.y,Oe.w,Oe.h,null,null,te)};var C=function(z,Q,ae){var oe=[];Q=Q||this.pdf.internal.pageSize.width,ae=ae||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ye=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":oe.push(Math.floor((z.y+ye)/ae)+1);break;case"arc":oe.push(Math.floor((z.y+ye-z.radius)/ae)+1),oe.push(Math.floor((z.y+ye+z.radius)/ae)+1);break;case"qct":var Se=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);oe.push(Math.floor((Se.y+ye)/ae)+1),oe.push(Math.floor((Se.y+Se.h+ye)/ae)+1);break;case"bct":var _e=ve(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);oe.push(Math.floor((_e.y+ye)/ae)+1),oe.push(Math.floor((_e.y+_e.h+ye)/ae)+1);break;case"rect":oe.push(Math.floor((z.y+ye)/ae)+1),oe.push(Math.floor((z.y+z.h+ye)/ae)+1)}for(var Ae=0;Ae<oe.length;Ae+=1)for(;this.pdf.internal.getNumberOfPages()<oe[Ae];)k.call(this);return oe},k=function(){var z=this.fillStyle,Q=this.strokeStyle,ae=this.font,oe=this.lineCap,ye=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=Q,this.font=ae,this.lineCap=oe,this.lineWidth=ye,this.lineJoin=Se},D=function(z,Q,ae){for(var oe=0;oe<z.length;oe++)switch(z[oe].type){case"bct":z[oe].x2+=Q,z[oe].y2+=ae;case"qct":z[oe].x1+=Q,z[oe].y1+=ae;default:z[oe].x+=Q,z[oe].y+=ae}return z},T=function(z){return z.sort(function(Q,ae){return Q-ae})},M=function(z,Q){for(var ae,oe,ye=this.fillStyle,Se=this.strokeStyle,_e=this.lineCap,Ae=this.lineWidth,Be=Math.abs(Ae*this.ctx.transform.scaleX),Ke=this.lineJoin,pe=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),O=[],Z=0;Z<Ue.length;Z++)if(Ue[Z].x!==void 0)for(var ke=C.call(this,Ue[Z]),se=0;se<ke.length;se+=1)O.indexOf(ke[se])===-1&&O.push(ke[se]);for(var te=0;te<O.length;te++)for(;this.pdf.internal.getNumberOfPages()<O[te];)k.call(this);if(T(O),this.autoPaging)for(var he=O[0],Oe=O[O.length-1],Le=he;Le<Oe+1;Le++){this.pdf.setPage(Le),this.fillStyle=ye,this.strokeStyle=Se,this.lineCap=_e,this.lineWidth=Be,this.lineJoin=Ke;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=Le===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Le===1?0:et+(Le-2)*Ye;if(this.ctx.clip_path.length!==0){var kt=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ae,this.posX+this.margin[3],-it+Pe+this.ctx.prevPageLastElemOffset),q.call(this,z,!0),this.path=kt}if(oe=JSON.parse(JSON.stringify(pe)),this.path=D(oe,this.posX+this.margin[3],-it+Pe+this.ctx.prevPageLastElemOffset),Q===!1||Le===0){var ut=(Le>he||Le<Oe)&&w.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Ye,null).clip().discardPath()),q.call(this,z,Q),ut&&this.pdf.restoreGraphicsState()}this.lineWidth=Ae}else this.lineWidth=Be,q.call(this,z,Q),this.lineWidth=Ae;this.path=pe},q=function(z,Q){if((z!=="stroke"||Q||!E.call(this))&&(z==="stroke"||Q||!g.call(this))){for(var ae,oe,ye=[],Se=this.path,_e=0;_e<Se.length;_e++){var Ae=Se[_e];switch(Ae.type){case"begin":ye.push({begin:!0});break;case"close":ye.push({close:!0});break;case"mt":ye.push({start:Ae,deltas:[],abs:[]});break;case"lt":var Be=ye.length;if(Se[_e-1]&&!isNaN(Se[_e-1].x)&&(ae=[Ae.x-Se[_e-1].x,Ae.y-Se[_e-1].y],Be>0)){for(;Be>=0;Be--)if(ye[Be-1].close!==!0&&ye[Be-1].begin!==!0){ye[Be-1].deltas.push(ae),ye[Be-1].abs.push(Ae);break}}break;case"bct":ae=[Ae.x1-Se[_e-1].x,Ae.y1-Se[_e-1].y,Ae.x2-Se[_e-1].x,Ae.y2-Se[_e-1].y,Ae.x-Se[_e-1].x,Ae.y-Se[_e-1].y],ye[ye.length-1].deltas.push(ae);break;case"qct":var Ke=Se[_e-1].x+2/3*(Ae.x1-Se[_e-1].x),pe=Se[_e-1].y+2/3*(Ae.y1-Se[_e-1].y),Ue=Ae.x+2/3*(Ae.x1-Ae.x),O=Ae.y+2/3*(Ae.y1-Ae.y),Z=Ae.x,ke=Ae.y;ae=[Ke-Se[_e-1].x,pe-Se[_e-1].y,Ue-Se[_e-1].x,O-Se[_e-1].y,Z-Se[_e-1].x,ke-Se[_e-1].y],ye[ye.length-1].deltas.push(ae);break;case"arc":ye.push({deltas:[],abs:[],arc:!0}),Array.isArray(ye[ye.length-1].abs)&&ye[ye.length-1].abs.push(Ae)}}oe=Q?null:z==="stroke"?"stroke":"fill";for(var se=!1,te=0;te<ye.length;te++)if(ye[te].arc)for(var he=ye[te].abs,Oe=0;Oe<he.length;Oe++){var Le=he[Oe];Le.type==="arc"?V.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,Q,!se):H.call(this,Le.x,Le.y),se=!0}else if(ye[te].close===!0)this.pdf.internal.out("h"),se=!1;else if(ye[te].begin!==!0){var Ne=ye[te].start.x,Pe=ye[te].start.y;j.call(this,ye[te].deltas,Ne,Pe),se=!0}oe&&F.call(this,oe),Q&&re.call(this)}},P=function(z){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ae=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-ae;case"top":return z+Q-ae;case"hanging":return z+Q-2*ae;case"middle":return z+Q/2-ae;default:return z}},B=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};N.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(Q,ae){this.colorStops.push([Q,ae])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},N.prototype.createPattern=function(){return this.createLinearGradient()},N.prototype.createRadialGradient=function(){return this.createLinearGradient()};var V=function(z,Q,ae,oe,ye,Se,_e,Ae,Be){for(var Ke=W.call(this,ae,oe,ye,Se),pe=0;pe<Ke.length;pe++){var Ue=Ke[pe];pe===0&&(Be?U.call(this,Ue.x1+z,Ue.y1+Q):H.call(this,Ue.x1+z,Ue.y1+Q)),$.call(this,z,Q,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}Ae?re.call(this):F.call(this,_e)},F=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(z,Q){this.pdf.internal.out(r(z)+" "+l(Q)+" m")},A=function(z){var Q;switch(z.align){case"right":case"end":Q="right";break;case"center":Q="center";break;default:Q="left"}var ae=this.pdf.getTextDimensions(z.text),oe=P.call(this,z.y),ye=B.call(this,oe)-ae.h,Se=this.ctx.transform.applyToPoint(new h(z.x,oe)),_e=this.ctx.transform.decompose(),Ae=new f;Ae=(Ae=(Ae=Ae.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Be,Ke,pe,Ue=this.ctx.transform.applyToRectangle(new d(z.x,oe,ae.w,ae.h)),O=Ae.applyToRectangle(new d(z.x,ye,ae.w,ae.h)),Z=C.call(this,O),ke=[],se=0;se<Z.length;se+=1)ke.indexOf(Z[se])===-1&&ke.push(Z[se]);if(T(ke),this.autoPaging)for(var te=ke[0],he=ke[ke.length-1],Oe=te;Oe<he+1;Oe++){this.pdf.setPage(Oe);var Le=Oe===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],et=Pe-this.margin[0],Ye=this.pdf.internal.pageSize.width-this.margin[1],it=Ye-this.margin[3],kt=Oe===1?0:Ne+(Oe-2)*et;if(this.ctx.clip_path.length!==0){var ut=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Be,this.posX+this.margin[3],-1*kt+Le),q.call(this,"fill",!0),this.path=ut}var ht=D([JSON.parse(JSON.stringify(O))],this.posX+this.margin[3],-kt+Le+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*z.scale),pe=this.lineWidth,this.lineWidth=pe*z.scale);var Ct=this.autoPaging!=="text";if(Ct||ht.y+ht.h<=Pe){if(Ct||ht.y>=Le&&ht.x<=Ye){var pt=Ct?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||Ye-ht.x)[0],or=D([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-kt+Le+this.ctx.prevPageLastElemOffset)[0],St=Ct&&(Oe>te||Oe<he)&&w.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,et,null).clip().discardPath()),this.pdf.text(pt,or.x,or.y,{angle:z.angle,align:Q,renderingMode:z.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else ht.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-ht.y);z.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=pe)}else z.scale>=.01&&(Ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ke*z.scale),pe=this.lineWidth,this.lineWidth=pe*z.scale),this.pdf.text(z.text,Se.x+this.posX,Se.y+this.posY,{angle:z.angle,align:Q,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(Ke),this.lineWidth=pe)},H=function(z,Q,ae,oe){ae=ae||0,oe=oe||0,this.pdf.internal.out(r(z+ae)+" "+l(Q+oe)+" l")},j=function(z,Q,ae){return this.pdf.lines(z,Q,ae,null,null)},$=function(z,Q,ae,oe,ye,Se,_e,Ae){this.pdf.internal.out([a(c(ae+z)),a(o(oe+Q)),a(c(ye+z)),a(o(Se+Q)),a(c(_e+z)),a(o(Ae+Q)),"c"].join(" "))},W=function(z,Q,ae,oe){for(var ye=2*Math.PI,Se=Math.PI/2;Q>ae;)Q-=ye;var _e=Math.abs(ae-Q);_e<ye&&oe&&(_e=ye-_e);for(var Ae=[],Be=oe?-1:1,Ke=Q;_e>1e-5;){var pe=Ke+Be*Math.min(_e,Se);Ae.push(ie.call(this,z,Ke,pe)),_e-=Math.abs(pe-Ke),Ke=pe}return Ae},ie=function(z,Q,ae){var oe=(ae-Q)/2,ye=z*Math.cos(oe),Se=z*Math.sin(oe),_e=ye,Ae=-Se,Be=_e*_e+Ae*Ae,Ke=Be+_e*ye+Ae*Se,pe=4/3*(Math.sqrt(2*Be*Ke)-Ke)/(_e*Se-Ae*ye),Ue=_e-pe*Ae,O=Ae+pe*_e,Z=Ue,ke=-O,se=oe+Q,te=Math.cos(se),he=Math.sin(se);return{x1:z*Math.cos(Q),y1:z*Math.sin(Q),x2:Ue*te-O*he,y2:Ue*he+O*te,x3:Z*te-ke*he,y3:Z*he+ke*te,x4:z*Math.cos(ae),y4:z*Math.sin(ae)}},ee=function(z){return 180*z/Math.PI},ue=function(z,Q,ae,oe,ye,Se){var _e=z+.5*(ae-z),Ae=Q+.5*(oe-Q),Be=ye+.5*(ae-ye),Ke=Se+.5*(oe-Se),pe=Math.min(z,ye,_e,Be),Ue=Math.max(z,ye,_e,Be),O=Math.min(Q,Se,Ae,Ke),Z=Math.max(Q,Se,Ae,Ke);return new d(pe,O,Ue-pe,Z-O)},ve=function(z,Q,ae,oe,ye,Se,_e,Ae){var Be,Ke,pe,Ue,O,Z,ke,se,te,he,Oe,Le,Ne,Pe,et=ae-z,Ye=oe-Q,it=ye-ae,kt=Se-oe,ut=_e-ye,ht=Ae-Se;for(Ke=0;Ke<41;Ke++)te=(ke=(pe=z+(Be=Ke/40)*et)+Be*((O=ae+Be*it)-pe))+Be*(O+Be*(ye+Be*ut-O)-ke),he=(se=(Ue=Q+Be*Ye)+Be*((Z=oe+Be*kt)-Ue))+Be*(Z+Be*(Se+Be*ht-Z)-se),Ke==0?(Oe=te,Le=he,Ne=te,Pe=he):(Oe=Math.min(Oe,te),Le=Math.min(Le,he),Ne=Math.max(Ne,te),Pe=Math.max(Pe,he));return new d(Math.round(Oe),Math.round(Le),Math.round(Ne-Oe),Math.round(Pe-Le))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,Q,ae=(z=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:Q}));this.prevLineDash!==ae&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ae)}}})(At.API),(function(i){var a=function(h){var d,f,p,b,N,S,g,E,w,C;for(f=[],p=0,b=(h+=d="\0\0\0\0".slice(h.length%4||4)).length;b>p;p+=4)(N=(h.charCodeAt(p)<<24)+(h.charCodeAt(p+1)<<16)+(h.charCodeAt(p+2)<<8)+h.charCodeAt(p+3))!==0?(S=(N=((N=((N=((N=(N-(C=N%85))/85)-(w=N%85))/85)-(E=N%85))/85)-(g=N%85))/85)%85,f.push(S+33,g+33,E+33,w+33,C+33)):f.push(122);return(function(k,D){for(var T=D;T>0;T--)k.pop()})(f,d.length),String.fromCharCode.apply(String,f)+"~>"},r=function(h){var d,f,p,b,N,S=String,g="length",E=255,w="charCodeAt",C="slice",k="replace";for(h[C](-2),h=h[C](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),p=[],b=0,N=(h+=d="uuuuu"[C](h[g]%5||5))[g];N>b;b+=5)f=52200625*(h[w](b)-33)+614125*(h[w](b+1)-33)+7225*(h[w](b+2)-33)+85*(h[w](b+3)-33)+(h[w](b+4)-33),p.push(E&f>>24,E&f>>16,E&f>>8,E&f);return(function(D,T){for(var M=T;M>0;M--)D.pop()})(p,d[g]),S.fromCharCode.apply(S,p)},l=function(h){return h.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},c=function(h){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((h=h.replace(/\s/g,"")).indexOf(">")!==-1&&(h=h.substr(0,h.indexOf(">"))),h.length%2&&(h+="0"),d.test(h)===!1)return"";for(var f="",p=0;p<h.length;p+=2)f+=String.fromCharCode("0x"+(h[p]+h[p+1]));return f},o=function(h){for(var d=new Uint8Array(h.length),f=h.length;f--;)d[f]=h.charCodeAt(f);return(d=Lm(d)).reduce(function(p,b){return p+String.fromCharCode(b)},"")};i.processDataByFilters=function(h,d){var f=0,p=h||"",b=[];for(typeof(d=d||[])=="string"&&(d=[d]),f=0;f<d.length;f+=1)switch(d[f]){case"ASCII85Decode":case"/ASCII85Decode":p=r(p),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":p=a(p),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":p=c(p),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":p=l(p),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":p=o(p),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[f]+'" is not implemented')}return{data:p,reverseChain:b.reverse().join(" ")}}})(At.API),(function(i){i.loadFile=function(a,r,l){return(function(c,o,h){o=o!==!1,h=typeof h=="function"?h:function(){};var d=void 0;try{d=(function(f,p,b){var N=new XMLHttpRequest,S=0,g=function(E){var w=E.length,C=[],k=String.fromCharCode;for(S=0;S<w;S+=1)C.push(k(255&E.charCodeAt(S)));return C.join("")};if(N.open("GET",f,!p),N.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(N.onload=function(){N.status===200?b(g(this.responseText)):b(void 0)}),N.send(null),p&&N.status===200)return g(N.responseText)})(c,o,h)}catch{}return d})(a,r,l)},i.loadImageFile=i.loadFile})(At.API),(function(i){function a(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):$0(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function r(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):$0(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var l=function(d){var f=kr(d);return f==="undefined"?"undefined":f==="string"||d instanceof String?"string":f==="number"||d instanceof Number?"number":f==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":f==="object"?"object":"unknown"},c=function(d,f){var p=document.createElement(d);for(var b in f.className&&(p.className=f.className),f.innerHTML&&f.dompurify&&(p.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)p.style[b]=f.style[b];return p},o=function d(f,p){for(var b=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),N=f.firstChild;N;N=N.nextSibling)p!==!0&&N.nodeType===1&&N.nodeName==="SCRIPT"||b.appendChild(d(N,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(b.width=f.width,b.height=f.height,b.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(b.value=f.value),b.addEventListener("load",function(){b.scrollTop=f.scrollTop,b.scrollLeft=f.scrollLeft},!0)),b},h=function d(f){var p=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),b=d.convert(Promise.resolve(),p);return(b=b.setProgress(1,d,1,[d])).set(f)};(h.prototype=Object.create(Promise.prototype)).constructor=h,h.convert=function(d,f){return d.__proto__=f||h.prototype,d},h.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},h.prototype.from=function(d,f){return this.then(function(){switch(f=f||(function(p){switch(l(p)){case"string":return"string";case"element":return p.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(d),f){case"string":return this.then(r).then(function(p){return this.set({src:c("div",{innerHTML:d,dompurify:p})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},h.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},h.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=c("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=c("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(c("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},h.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(a).then(function(f){var p=Object.assign({},this.opt.html2canvas);return delete p.onrendered,f(this.prop.container,p)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(a).then(function(f){var p=this.opt.jsPDF,b=this.opt.fontFaces,N=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,S=Object.assign({async:!0,allowTaint:!0,scale:N,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete S.onrendered,p.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,p.context2d.posX=this.opt.x,p.context2d.posY=this.opt.y,p.context2d.margin=this.opt.margin,p.context2d.fontFaces=b,b)for(var g=0;g<b.length;++g){var E=b[g],w=E.src.find(function(C){return C.format==="truetype"});w&&p.addFont(w.url,E.ref.name,E.ref.style)}return S.windowHeight=S.windowHeight||0,S.windowHeight=S.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):S.windowHeight,p.context2d.save(!0),f(this.prop.container,S)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},h.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},h.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},h.prototype.output=function(d,f,p){return(p=p||"pdf").toLowerCase()==="img"||p.toLowerCase()==="image"?this.outputImg(d,f):this.outputPdf(d,f)},h.prototype.outputPdf=function(d,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,f)})},h.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},h.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},h.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},h.prototype.set=function(d){if(l(d)!=="object")return this;var f=Object.keys(d||{}).map(function(p){if(p in h.template.prop)return function(){this.prop[p]=d[p]};switch(p){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[p]=d[p]}}},this);return this.then(function(){return this.thenList(f)})},h.prototype.get=function(d,f){return this.then(function(){var p=d in h.template.prop?this.prop[d]:this.opt[d];return f?f(p):p})},h.prototype.setMargin=function(d){return this.then(function(){switch(l(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},h.prototype.setPageSize=function(d){function f(p,b){return Math.floor(p*b/72*96)}return this.then(function(){(d=d||At.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:f(d.inner.width,d.k),height:f(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},h.prototype.setProgress=function(d,f,p,b){return d!=null&&(this.progress.val=d),f!=null&&(this.progress.state=f),p!=null&&(this.progress.n=p),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},h.prototype.updateProgress=function(d,f,p,b){return this.setProgress(d?this.progress.val+d:null,f||null,p?this.progress.n+p:null,b?this.progress.stack.concat(b):null)},h.prototype.then=function(d,f){var p=this;return this.thenCore(d,f,function(b,N){return p.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(S){return p.updateProgress(null,b),S}).then(b,N).then(function(S){return p.updateProgress(1),S})})},h.prototype.thenCore=function(d,f,p){p=p||Promise.prototype.then;var b=this;d&&(d=d.bind(b)),f&&(f=f.bind(b));var N=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:h.convert(Object.assign({},b),Promise.prototype),S=p.call(N,d,f);return h.convert(S,b.__proto__)},h.prototype.thenExternal=function(d,f){return Promise.prototype.then.call(this,d,f)},h.prototype.thenList=function(d){var f=this;return d.forEach(function(p){f=f.thenCore(p)}),f},h.prototype.catch=function(d){d&&(d=d.bind(this));var f=Promise.prototype.catch.call(this,d);return h.convert(f,this)},h.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},h.prototype.error=function(d){return this.then(function(){throw new Error(d)})},h.prototype.using=h.prototype.set,h.prototype.saveAs=h.prototype.save,h.prototype.export=h.prototype.output,h.prototype.run=h.prototype.then,At.getPageSize=function(d,f,p){if(kr(d)==="object"){var b=d;d=b.orientation,f=b.unit||f,p=b.format||p}f=f||"mm",p=p||"a4",d=(""+(d||"P")).toLowerCase();var N,S=(""+p).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":N=1;break;case"mm":N=72/25.4;break;case"cm":N=72/2.54;break;case"in":N=72;break;case"px":N=.75;break;case"pc":case"em":N=12;break;case"ex":N=6;break;default:throw"Invalid unit: "+f}var E,w=0,C=0;if(g.hasOwnProperty(S))w=g[S][1]/N,C=g[S][0]/N;else try{w=p[1],C=p[0]}catch{throw new Error("Invalid format: "+p)}if(d==="p"||d==="portrait")d="p",C>w&&(E=C,C=w,w=E);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",w>C&&(E=C,C=w,w=E)}return{width:C,height:w,unit:f,k:N,orientation:d}},i.html=function(d,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(xm):null;var p=new h(f);return f.worker?p:p.from(d).doCallback()}})(At.API),At.API.addJS=function(i){return lx=i,this.internal.events.subscribe("postPutResources",function(){Ah=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ah+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),sx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ah!==void 0&&sx!==void 0&&this.internal.out("/Names <</JavaScript "+Ah+" 0 R>>")}),this},(function(i){var a;i.events.push(["postPutResources",function(){var r=this,l=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var c=r.outline.render().split(/\r\n/),o=0;o<c.length;o++){var h=c[o],d=l.exec(h);if(d!=null){var f=d[1];r.internal.newObjectDeferredBegin(f,!1)}r.internal.write(h)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,b=[];for(o=0;o<p;o++){var N=r.internal.newObject();b.push(N);var S=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+S.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<b.length;o++)r.internal.write("(page_"+(o+1)+")"+b[o]+" 0 R");r.internal.write(" ] >>","endobj"),a=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+a+" 0 R"))}]),i.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(l,c,o){var h={title:c,options:o,children:[]};return l==null&&(l=this.root),l.children.push(h),h},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(l){l.id=r.internal.newObjectDeferred();for(var c=0;c<l.children.length;c++)this.genIds_r(l.children[c])},r.outline.renderRoot=function(l){this.objStart(l),this.line("/Type /Outlines"),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1]))),this.line("/Count "+this.count_r({count:0},l)),this.objEnd()},r.outline.renderItems=function(l){for(var c=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<l.children.length;o++){var h=l.children[o];this.objStart(h),this.line("/Title "+this.makeString(h.title)),this.line("/Parent "+this.makeRef(l)),o>0&&this.line("/Prev "+this.makeRef(l.children[o-1])),o<l.children.length-1&&this.line("/Next "+this.makeRef(l.children[o+1])),h.children.length>0&&(this.line("/First "+this.makeRef(h.children[0])),this.line("/Last "+this.makeRef(h.children[h.children.length-1])));var d=this.count=this.count_r({count:0},h);if(d>0&&this.line("/Count "+d),h.options&&h.options.pageNumber){var f=r.internal.getPageInfo(h.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+c(0)+" 0]")}this.objEnd()}for(var p=0;p<l.children.length;p++)this.renderItems(l.children[p])},r.outline.line=function(l){this.ctx.val+=l+`\r
`},r.outline.makeRef=function(l){return l.id+" 0 R"},r.outline.makeString=function(l){return"("+r.internal.pdfEscape(l)+")"},r.outline.objStart=function(l){this.ctx.val+=`\r
`+l.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(l,c){for(var o=0;o<c.children.length;o++)l.count++,this.count_r(l,c.children[o]);return l.count}}])})(At.API),(function(i){var a=[192,193,194,195,196,197,198,199];i.processJPEG=function(r,l,c,o,h,d){var f,p=this.decode.DCT_DECODE,b=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=h||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,f=(function(N){for(var S,g=256*N.charCodeAt(4)+N.charCodeAt(5),E=N.length,w={width:0,height:0,numcomponents:1},C=4;C<E;C+=2){if(C+=g,a.indexOf(N.charCodeAt(C+1))!==-1){S=256*N.charCodeAt(C+5)+N.charCodeAt(C+6),w={width:256*N.charCodeAt(C+7)+N.charCodeAt(C+8),height:S,numcomponents:N.charCodeAt(C+9)};break}g=256*N.charCodeAt(C+2)+N.charCodeAt(C+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),f.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}b={data:r,width:f.width,height:f.height,colorSpace:d,bitsPerComponent:8,filter:p,index:l,alias:c}}return b}})(At.API),At.API.processPNG=function(i,a,r,l){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var c,o=K6(i,{checkCrc:!0}),h=o.width,d=o.height,f=o.channels,p=o.palette,b=o.depth;c=p&&f===1?(function(V){for(var F=V.width,re=V.height,U=V.data,A=V.palette,H=V.depth,j=!1,$=[],W=[],ie=void 0,ee=!1,ue=0,ve=0;ve<A.length;ve++){var ce=d2(A[ve],4),z=ce[0],Q=ce[1],ae=ce[2],oe=ce[3];$.push(z,Q,ae),oe!=null&&(oe===0?(ue++,W.length<1&&W.push(ve)):oe<255&&(ee=!0))}if(ee||ue>1){j=!0,W=void 0;var ye=F*re;ie=new Uint8Array(ye);for(var Se=new DataView(U.buffer),_e=0;_e<ye;_e++){var Ae=bm(Se,_e,H),Be=d2(A[Ae],4)[3];ie[_e]=Be}}else ue===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:j?8:void 0,colorBytes:U,alphaBytes:ie,needSMask:j,palette:$,mask:W}})(o):f===2||f===4?(function(V){for(var F=V.data,re=V.width,U=V.height,A=V.channels,H=V.depth,j=A===2?"DeviceGray":"DeviceRGB",$=A-1,W=re*U,ie=$,ee=W*ie,ue=1*W,ve=Math.ceil(ee*H/8),ce=Math.ceil(ue*H/8),z=new Uint8Array(ve),Q=new Uint8Array(ce),ae=new DataView(F.buffer),oe=new DataView(z.buffer),ye=new DataView(Q.buffer),Se=!1,_e=0;_e<W;_e++){for(var Ae=_e*A,Be=0;Be<ie;Be++)gx(oe,bm(ae,Ae+Be,H),_e*ie+Be,H);var Ke=bm(ae,Ae+ie,H);Ke<(1<<H)-1&&(Se=!0),gx(ye,Ke,1*_e,H)}return{colorSpace:j,colorsPerPixel:$,sMaskBitsPerComponent:Se?H:void 0,colorBytes:z,alphaBytes:Q,needSMask:Se}})(o):(function(V){var F=V.data,re=V.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:re,colorsPerPixel:re==="DeviceGray"?1:3,colorBytes:F instanceof Uint16Array?(function(U){for(var A=U.length,H=new Uint8Array(2*A),j=new DataView(H.buffer,H.byteOffset,H.byteLength),$=0;$<A;$++)j.setUint16(2*$,U[$],!1);return H})(F):F,needSMask:!1}})(o);var N,S,g,E=c,w=E.colorSpace,C=E.colorsPerPixel,k=E.sMaskBitsPerComponent,D=E.colorBytes,T=E.alphaBytes,M=E.needSMask,q=E.palette,P=E.mask,B=null;return l!==At.API.image_compression.NONE&&typeof Lm=="function"?(B=(function(V){var F;switch(V){case At.API.image_compression.FAST:F=11;break;case At.API.image_compression.MEDIUM:F=13;break;case At.API.image_compression.SLOW:F=14;break;default:F=12}return F})(l),N=this.decode.FLATE_DECODE,S="/Predictor ".concat(B," /Colors ").concat(C," /BitsPerComponent ").concat(b," /Columns ").concat(h),i=dx(D,Math.ceil(h*C*b/8),C,b,l),M&&(g=dx(T,Math.ceil(h*k/8),1,k,l))):(N=void 0,S=void 0,i=D,M&&(g=T)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:i,index:a,filter:N,decodeParameters:S,transparency:P,palette:q,sMask:g,predictor:B,width:h,height:d,bitsPerComponent:b,sMaskBitsPerComponent:k,colorSpace:w}}},(function(i){i.processGIF89A=function(a,r,l,c){var o=new gN(a),h=o.width,d=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var p={data:f,width:h,height:d},b=new vm(100).encode(p,100);return i.processJPEG.call(this,b,r,l,c)},i.processGIF87A=i.processGIF89A})(At.API),bs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var a=0;a<i;a++){var r=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[a]={red:c,green:l,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bs.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,a=this.width*this.height*4;this.data=new Uint8Array(a),this[i]()}catch(r){Fr.log("bit decode error:"+r)}},bs.prototype.bit1=function(){var i,a=Math.ceil(this.width/8),r=a%4;for(i=this.height-1;i>=0;i--){for(var l=this.bottom_up?i:this.height-1-i,c=0;c<a;c++)for(var o=this.datav.getUint8(this.pos++,!0),h=l*this.width*4+8*c*4,d=0;d<8&&8*c+d<this.width;d++){var f=this.palette[o>>7-d&1];this.data[h+4*d]=f.blue,this.data[h+4*d+1]=f.green,this.data[h+4*d+2]=f.red,this.data[h+4*d+3]=255}r!==0&&(this.pos+=4-r)}},bs.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),a=i%4,r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,c=0;c<i;c++){var o=this.datav.getUint8(this.pos++,!0),h=l*this.width*4+2*c*4,d=o>>4,f=15&o,p=this.palette[d];if(this.data[h]=p.blue,this.data[h+1]=p.green,this.data[h+2]=p.red,this.data[h+3]=255,2*c+1>=this.width)break;p=this.palette[f],this.data[h+4]=p.blue,this.data[h+4+1]=p.green,this.data[h+4+2]=p.red,this.data[h+4+3]=255}a!==0&&(this.pos+=4-a)}},bs.prototype.bit8=function(){for(var i=this.width%4,a=this.height-1;a>=0;a--){for(var r=this.bottom_up?a:this.height-1-a,l=0;l<this.width;l++){var c=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*l;if(c<this.palette.length){var h=this.palette[c];this.data[o]=h.red,this.data[o+1]=h.green,this.data[o+2]=h.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},bs.prototype.bit15=function(){for(var i=this.width%3,a=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var l=this.bottom_up?r:this.height-1-r,c=0;c<this.width;c++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var h=(o&a)/a*255|0,d=(o>>5&a)/a*255|0,f=(o>>10&a)/a*255|0,p=o>>15?255:0,b=l*this.width*4+4*c;this.data[b]=f,this.data[b+1]=d,this.data[b+2]=h,this.data[b+3]=p}this.pos+=i}},bs.prototype.bit16=function(){for(var i=this.width%3,a=parseInt("11111",2),r=parseInt("111111",2),l=this.height-1;l>=0;l--){for(var c=this.bottom_up?l:this.height-1-l,o=0;o<this.width;o++){var h=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(h&a)/a*255|0,f=(h>>5&r)/r*255|0,p=(h>>11)/a*255|0,b=c*this.width*4+4*o;this.data[b]=p,this.data[b+1]=f,this.data[b+2]=d,this.data[b+3]=255}this.pos+=i}},bs.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=a*this.width*4+4*r;this.data[h]=o,this.data[h+1]=c,this.data[h+2]=l,this.data[h+3]=255}this.pos+=this.width%4}},bs.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var a=this.bottom_up?i:this.height-1-i,r=0;r<this.width;r++){var l=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),h=this.datav.getUint8(this.pos++,!0),d=a*this.width*4+4*r;this.data[d]=o,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=h}},bs.prototype.getData=function(){return this.data},(function(i){i.processBMP=function(a,r,l,c){var o=new bs(a,!1),h=o.width,d=o.height,f={data:o.getData(),width:h,height:d},p=new vm(100).encode(f,100);return i.processJPEG.call(this,p,r,l,c)}})(At.API),yx.prototype.getData=function(){return this.data},(function(i){i.processWEBP=function(a,r,l,c){var o=new yx(a),h=o.width,d=o.height,f={data:o.getData(),width:h,height:d},p=new vm(100).encode(f,100);return i.processJPEG.call(this,p,r,l,c)}})(At.API),At.API.processRGBA=function(i,a,r){for(var l=i.data,c=l.length,o=new Uint8Array(c/4*3),h=new Uint8Array(c/4),d=0,f=0,p=0;p<c;p+=4){var b=l[p],N=l[p+1],S=l[p+2],g=l[p+3];o[d++]=b,o[d++]=N,o[d++]=S,h[f++]=g}var E=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(h),data:E,index:a,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},At.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ou=At.API,Ch=ou.getCharWidthsArray=function(i,a){var r,l,c=(a=a||{}).font||this.internal.getFont(),o=a.fontSize||this.internal.getFontSize(),h=a.charSpace||this.internal.getCharSpace(),d=a.widths?a.widths:c.metadata.Unicode.widths,f=d.fof?d.fof:1,p=a.kerning?a.kerning:c.metadata.Unicode.kerning,b=p.fof?p.fof:1,N=a.doKerning!==!1,S=0,g=i.length,E=0,w=d[0]||f,C=[];for(r=0;r<g;r++)l=i.charCodeAt(r),typeof c.metadata.widthOfString=="function"?C.push((c.metadata.widthOfGlyph(c.metadata.characterToGlyph(l))+h*(1e3/o)||0)/1e3):(S=N&&kr(p[l])==="object"&&!isNaN(parseInt(p[l][E],10))?p[l][E]/b:0,C.push((d[l]||w)/f+S)),E=l;return C},ox=ou.getStringUnitWidth=function(i,a){var r=(a=a||{}).fontSize||this.internal.getFontSize(),l=a.font||this.internal.getFont(),c=a.charSpace||this.internal.getCharSpace();return ou.processArabic&&(i=ou.processArabic(i)),typeof l.metadata.widthOfString=="function"?l.metadata.widthOfString(i,r,c)/r:Ch.apply(this,arguments).reduce(function(o,h){return o+h},0)},cx=function(i,a,r,l){for(var c=[],o=0,h=i.length,d=0;o!==h&&d+a[o]<r;)d+=a[o],o++;c.push(i.slice(0,o));var f=o;for(d=0;o!==h;)d+a[o]>l&&(c.push(i.slice(f,o)),d=0,f=o),d+=a[o],o++;return f!==o&&c.push(i.slice(f,o)),c},ux=function(i,a,r){r||(r={});var l,c,o,h,d,f,p,b=[],N=[b],S=r.textIndent||0,g=0,E=0,w=i.split(" "),C=Ch.apply(this,[" ",r])[0];if(f=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var k=Array(f).join(" "),D=[];w.map(function(M){(M=M.split(/\s*\n/)).length>1?D=D.concat(M.map(function(q,P){return(P&&q.length?`
`:"")+q})):D.push(M[0])}),w=D,f=ox.apply(this,[k,r])}for(o=0,h=w.length;o<h;o++){var T=0;if(l=w[o],f&&l[0]==`
`&&(l=l.substr(1),T=1),S+g+(E=(c=Ch.apply(this,[l,r])).reduce(function(M,q){return M+q},0))>a||T){if(E>a){for(d=cx.apply(this,[l,c,a-(S+g),a]),b.push(d.shift()),b=[d.pop()];d.length;)N.push([d.shift()]);E=c.slice(l.length-(b[0]?b[0].length:0)).reduce(function(M,q){return M+q},0)}else b=[l];N.push(b),S=E+f,g=C}else b.push(l),S+=g+E,g=C}return p=f?function(M,q){return(q?k:"")+M.join(" ")}:function(M){return M.join(" ")},N.map(p)},ou.splitTextToSize=function(i,a,r){var l,c=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var N=this.internal.getFont(b.fontName,b.fontStyle),S="Unicode";return N.metadata[S]?{widths:N.metadata[S].widths||{0:1},kerning:N.metadata[S].kerning||{}}:{font:N.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);l=Array.isArray(i)?i:String(i).split(/\r?\n/);var h=1*this.internal.scaleFactor*a/c;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/c:0,o.lineIndent=r.lineIndent;var d,f,p=[];for(d=0,f=l.length;d<f;d++)p=p.concat(ux.apply(this,[l[d],h,o]));return p},(function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var a="0123456789abcdef",r="klmnopqrstuvwxyz",l={},c={},o=0;o<16;o++)l[r[o]]=a[o],c[a[o]]=r[o];var h=function(S){return"0x"+parseInt(S,10).toString(16)},d=i.__fontmetrics__.compress=function(S){var g,E,w,C,k=["{"];for(var D in S){if(g=S[D],isNaN(parseInt(D,10))?E="'"+D+"'":(D=parseInt(D,10),E=(E=h(D).slice(2)).slice(0,-1)+c[E.slice(-1)]),typeof g=="number")g<0?(w=h(g).slice(3),C="-"):(w=h(g).slice(2),C=""),w=C+w.slice(0,-1)+c[w.slice(-1)];else{if(kr(g)!=="object")throw new Error("Don't know what to do with value type "+kr(g)+".");w=d(g)}k.push(E+w)}return k.push("}"),k.join("")},f=i.__fontmetrics__.uncompress=function(S){if(typeof S!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,E,w,C,k={},D=1,T=k,M=[],q="",P="",B=S.length-1,V=1;V<B;V+=1)(C=S[V])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(C):C=="{"?(M.push([T,w]),T={},w=void 0):C=="}"?((E=M.pop())[0][E[1]]=T,w=void 0,T=E[0]):C=="-"?D=-1:w===void 0?l.hasOwnProperty(C)?(q+=l[C],w=parseInt(q,16)*D,D=1,q=""):q+=C:l.hasOwnProperty(C)?(P+=l[C],T[w]=parseInt(P,16)*D,D=1,w=void 0,P=""):P+=C;return k},p={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:p,"Courier-Bold":p,"Courier-BoldOblique":p,"Courier-Oblique":p,Helvetica:p,"Helvetica-Bold":p,"Helvetica-BoldOblique":p,"Helvetica-Oblique":p,"Times-Roman":p,"Times-Bold":p,"Times-BoldItalic":p,"Times-Italic":p}},N={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(S){var g=S.font,E=N.Unicode[g.postScriptName];E&&(g.metadata.Unicode={},g.metadata.Unicode.widths=E.widths,g.metadata.Unicode.kerning=E.kerning);var w=b.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])})(At.API),(function(i){var a=function(r){for(var l=r.length,c=new Uint8Array(l),o=0;o<l;o++)c[o]=r.charCodeAt(o);return c};i.API.events.push(["addFont",function(r){var l=void 0,c=r.font,o=r.instance;if(!c.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");if(typeof(l=o.existsFileInVFS(c.postScriptName)===!1?o.loadFile(c.postScriptName):o.getFileFromVFS(c.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");(function(h,d){d=/^\x00\x01\x00\x00/.test(d)?a(d):a(Mh(d)),h.metadata=i.API.TTFFont.open(d),h.metadata.Unicode=h.metadata.Unicode||{encoding:{},kerning:{},widths:[]},h.metadata.glyIdsUsed=[0]})(c,l)}}])})(At),At.API.addSvgAsImage=function(i,a,r,l,c,o,h,d){if(isNaN(a)||isNaN(r))throw Fr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(l)||isNaN(c))throw Fr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=l,f.height=c;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},N=this;return(qt.canvg?Promise.resolve(qt.canvg):$0(()=>import("./index.es-Crik6dsm.js"),__vite__mapDeps([0,1,2,3,4]))).catch(function(S){return Promise.reject(new Error("Could not load canvg: "+S))}).then(function(S){return S.default?S.default:S}).then(function(S){return S.fromString(p,i,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(b)}).then(function(){N.addImage(f.toDataURL("image/jpeg",1),a,r,l,c,h,d)})},At.API.putTotalPages=function(i){var a,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(a=new RegExp(i,"g"),r=this.internal.getNumberOfPages()):(a=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var l=1;l<=this.internal.getNumberOfPages();l++)for(var c=0;c<this.internal.pages[l].length;c++)this.internal.pages[l][c]=this.internal.pages[l][c].replace(a,r);return this},At.API.viewerPreferences=function(i,a){var r;i=i||{},a=a||!1;var l,c,o,h={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(h),f=[],p=0,b=0,N=0;function S(E,w){var C,k=!1;for(C=0;C<E.length;C+=1)E[C]===w&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(h)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,i==="reset"||a===!0){var g=d.length;for(N=0;N<g;N+=1)r[d[N]].value=r[d[N]].defaultValue,r[d[N]].explicitSet=!1}if(kr(i)==="object"){for(c in i)if(o=i[c],S(d,c)&&o!==void 0){if(r[c].type==="boolean"&&typeof o=="boolean")r[c].value=o;else if(r[c].type==="name"&&S(r[c].valueSet,o))r[c].value=o;else if(r[c].type==="integer"&&Number.isInteger(o))r[c].value=o;else if(r[c].type==="array"){for(p=0;p<o.length;p+=1)if(l=!0,o[p].length===1&&typeof o[p][0]=="number")f.push(String(o[p]-1));else if(o[p].length>1){for(b=0;b<o[p].length;b+=1)typeof o[p][b]!="number"&&(l=!1);l===!0&&f.push([o[p][0]-1,o[p][1]-1].join(" "))}r[c].value="["+f.join(" ")+"]"}else r[c].value=r[c].defaultValue;r[c].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,w=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?w.push("/"+E+" /"+r[E].value):w.push("/"+E+" "+r[E].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(i){var a=function(){var l='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',c=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(l)),h=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),f=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+h.length+d.length+c.length+f.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(c+o+h+d+f),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(l,c){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:l,namespaceuri:c||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",a)),this}})(At.API),(function(i){var a=i.API,r=a.pdfEscape16=function(o,h){for(var d,f=h.metadata.Unicode.widths,p=["","0","00","000","0000"],b=[""],N=0,S=o.length;N<S;++N){if(d=h.metadata.characterToGlyph(o.charCodeAt(N)),h.metadata.glyIdsUsed.push(d),h.metadata.toUnicode[d]=o.charCodeAt(N),f.indexOf(d)==-1&&(f.push(d),f.push([parseInt(h.metadata.widthOfGlyph(d),10)])),d=="0")return b.join("");d=d.toString(16),b.push(p[4-d.length],d)}return b.join("")},l=function(o){var h,d,f,p,b,N,S;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],N=0,S=(d=Object.keys(o).sort(function(g,E){return g-E})).length;N<S;N++)h=d[N],f.length>=100&&(b+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[h]!==void 0&&o[h]!==null&&typeof o[h].toString=="function"&&(p=("0000"+o[h].toString(16)).slice(-4),h=("0000"+(+h).toString(16)).slice(-4),f.push("<"+h+"><"+p+">"));return f.length&&(b+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};a.events.push(["putFont",function(o){(function(h){var d=h.font,f=h.out,p=h.newObject,b=h.putStream;if(d.metadata instanceof i.API.TTFFont&&d.encoding==="Identity-H"){for(var N=d.metadata.Unicode.widths,S=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),g="",E=0;E<S.length;E++)g+=String.fromCharCode(S[E]);var w=p();b({data:g,addLength1:!0,objectId:w}),f("endobj");var C=p();b({data:l(d.metadata.toUnicode),addLength1:!0,objectId:C}),f("endobj");var k=p();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+du(d.fontName)),f("/FontFile2 "+w+" 0 R"),f("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),f("/Flags "+d.metadata.flags),f("/StemV "+d.metadata.stemV),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f(">>"),f("endobj");var D=p();f("<<"),f("/Type /Font"),f("/BaseFont /"+du(d.fontName)),f("/FontDescriptor "+k+" 0 R"),f("/W "+i.API.PDFObject.convert(N)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+d.encoding+")"),f(">>"),f(">>"),f("endobj"),d.objectNumber=p(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+C+" 0 R"),f("/BaseFont /"+du(d.fontName)),f("/Encoding /"+d.encoding),f("/DescendantFonts ["+D+" 0 R]"),f(">>"),f("endobj"),d.isAlreadyPutted=!0}})(o)}]),a.events.push(["putFont",function(o){(function(h){var d=h.font,f=h.out,p=h.newObject,b=h.putStream;if(d.metadata instanceof i.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var N=d.metadata.rawData,S="",g=0;g<N.length;g++)S+=String.fromCharCode(N[g]);var E=p();b({data:S,addLength1:!0,objectId:E}),f("endobj");var w=p();b({data:l(d.metadata.toUnicode),addLength1:!0,objectId:w}),f("endobj");var C=p();f("<<"),f("/Descent "+d.metadata.decender),f("/CapHeight "+d.metadata.capHeight),f("/StemV "+d.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+E+" 0 R"),f("/Flags 96"),f("/FontBBox "+i.API.PDFObject.convert(d.metadata.bbox)),f("/FontName /"+du(d.fontName)),f("/ItalicAngle "+d.metadata.italicAngle),f("/Ascent "+d.metadata.ascender),f(">>"),f("endobj"),d.objectNumber=p();for(var k=0;k<d.metadata.hmtx.widths.length;k++)d.metadata.hmtx.widths[k]=parseInt(d.metadata.hmtx.widths[k]*(1e3/d.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+du(d.fontName)+"/FontDescriptor "+C+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),f("endobj"),d.isAlreadyPutted=!0}})(o)}]);var c=function(o){var h,d=o.text||"",f=o.x,p=o.y,b=o.options||{},N=o.mutex||{},S=N.pdfEscape,g=N.activeFontKey,E=N.fonts,w=g,C="",k=0,D="",T=E[w].encoding;if(E[w].encoding!=="Identity-H")return{text:d,x:f,y:p,options:b,mutex:N};for(D=d,w=g,Array.isArray(d)&&(D=d[0]),k=0;k<D.length;k+=1)E[w].metadata.hasOwnProperty("cmap")&&(h=E[w].metadata.cmap.unicode.codeMap[D[k].charCodeAt(0)]),h||D[k].charCodeAt(0)<256&&E[w].metadata.hasOwnProperty("Unicode")?C+=D[k]:C+="";var M="";return parseInt(w.slice(1))<14||T==="WinAnsiEncoding"?M=S(C,w).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(M=r(C,E[w])),N.isHex=!0,{text:M,x:f,y:p,options:b,mutex:N}};a.events.push(["postProcessText",function(o){var h=o.text||"",d=[],f={text:h,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(h)){var p=0;for(p=0;p<h.length;p+=1)Array.isArray(h[p])&&h[p].length===3?d.push([c(Object.assign({},f,{text:h[p][0]})).text,h[p][1],h[p][2]]):d.push(c(Object.assign({},f,{text:h[p]})).text);o.text=d}else o.text=c(Object.assign({},f,{text:h})).text}])})(At),(function(i){var a=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0},i.addFileToVFS=function(r,l){return a.call(this),this.internal.vFS[r]=l,this},i.getFileFromVFS=function(r){return a.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(At.API),(function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(l){var c,o,h,d,f,p,b,N=a,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},C=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,T=0;this.__bidiEngine__={};var M=function(U){var A=U.charCodeAt(),H=A>>8,j=w[H];return j!==void 0?N[256*j+(255&A)]:H===252||H===253?"AL":k.test(H)?"L":H===8?"R":"N"},q=function(U){for(var A,H=0;H<U.length;H++){if((A=M(U.charAt(H)))==="L")return!1;if(A==="R")return!0}return!1},P=function(U,A,H,j){var $,W,ie,ee,ue=A[j];switch(ue){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(ue="AN");break;case"AL":D=!0,ue="R";break;case"WS":case"BN":ue="N";break;case"CS":j<1||j+1>=A.length||($=H[j-1])!=="EN"&&$!=="AN"||(W=A[j+1])!=="EN"&&W!=="AN"?ue="N":D&&(W="AN"),ue=W===$?W:"N";break;case"ES":ue=($=j>0?H[j-1]:"B")==="EN"&&j+1<A.length&&A[j+1]==="EN"?"EN":"N";break;case"ET":if(j>0&&H[j-1]==="EN"){ue="EN";break}if(D){ue="N";break}for(ie=j+1,ee=A.length;ie<ee&&A[ie]==="ET";)ie++;ue=ie<ee&&A[ie]==="EN"?"EN":"N";break;case"NSM":if(h&&!d){for(ee=A.length,ie=j+1;ie<ee&&A[ie]==="NSM";)ie++;if(ie<ee){var ve=U[j],ce=ve>=1425&&ve<=2303||ve===64286;if($=A[ie],ce&&($==="R"||$==="AL")){ue="R";break}}}ue=j<1||($=A[j-1])==="B"?"N":H[j-1];break;case"B":D=!1,c=!0,ue=T;break;case"S":o=!0,ue="N"}return ue},B=function(U,A,H){var j=U.split("");return H&&V(j,H,{hiLevel:T}),j.reverse(),A&&A.reverse(),j.join("")},V=function(U,A,H){var j,$,W,ie,ee,ue=-1,ve=U.length,ce=0,z=[],Q=T?g:S,ae=[];for(D=!1,c=!1,o=!1,$=0;$<ve;$++)ae[$]=M(U[$]);for(W=0;W<ve;W++){if(ee=ce,z[W]=P(U,ae,z,W),j=240&(ce=Q[ee][E[z[W]]]),ce&=15,A[W]=ie=Q[ce][5],j>0)if(j===16){for($=ue;$<W;$++)A[$]=1;ue=-1}else ue=-1;if(Q[ce][6])ue===-1&&(ue=W);else if(ue>-1){for($=ue;$<W;$++)A[$]=ie;ue=-1}ae[W]==="B"&&(A[W]=0),H.hiLevel|=ie}o&&(function(oe,ye,Se){for(var _e=0;_e<Se;_e++)if(oe[_e]==="S"){ye[_e]=T;for(var Ae=_e-1;Ae>=0&&oe[Ae]==="WS";Ae--)ye[Ae]=T}})(ae,A,ve)},F=function(U,A,H,j,$){if(!($.hiLevel<U)){if(U===1&&T===1&&!c)return A.reverse(),void(H&&H.reverse());for(var W,ie,ee,ue,ve=A.length,ce=0;ce<ve;){if(j[ce]>=U){for(ee=ce+1;ee<ve&&j[ee]>=U;)ee++;for(ue=ce,ie=ee-1;ue<ie;ue++,ie--)W=A[ue],A[ue]=A[ie],A[ie]=W,H&&(W=H[ue],H[ue]=H[ie],H[ie]=W);ce=ee}ce++}}},re=function(U,A,H){var j=U.split(""),$={hiLevel:T};return H||(H=[]),V(j,H,$),(function(W,ie,ee){if(ee.hiLevel!==0&&b)for(var ue,ve=0;ve<W.length;ve++)ie[ve]===1&&(ue=C.indexOf(W[ve]))>=0&&(W[ve]=C[ue+1])})(j,H,$),F(2,j,A,H,$),F(1,j,A,H,$),j.join("")};return this.__bidiEngine__.doBidiReorder=function(U,A,H){if((function($,W){if(W)for(var ie=0;ie<$.length;ie++)W[ie]=ie;d===void 0&&(d=q($)),p===void 0&&(p=q($))})(U,A),h||!f||p)if(h&&f&&d^p)T=d?1:0,U=B(U,A,H);else if(!h&&f&&p)T=d?1:0,U=re(U,A,H),U=B(U,A);else if(!h||d||f||p){if(h&&!f&&d^p)U=B(U,A),d?(T=0,U=re(U,A,H)):(T=1,U=re(U,A,H),U=B(U,A));else if(h&&d&&!f&&p)T=1,U=re(U,A,H),U=B(U,A);else if(!h&&!f&&d^p){var j=b;d?(T=1,U=re(U,A,H),T=0,b=!1,U=re(U,A,H),b=j):(T=0,U=re(U,A,H),U=B(U,A),T=1,b=!1,U=re(U,A,H),b=j,U=B(U,A))}}else T=0,U=re(U,A,H);else T=d?1:0,U=re(U,A,H);return U},this.__bidiEngine__.setOptions=function(U){U&&(h=U.isInputVisual,f=U.isOutputVisual,d=U.isInputRtl,p=U.isOutputRtl,b=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(l),this.__bidiEngine__};var a=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(l){var c=l.text;l.x,l.y;var o=l.options||{};l.mutex,o.lang;var h=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(c)==="[object Array]"){var d=0;for(h=[],d=0;d<c.length;d+=1)Object.prototype.toString.call(c[d])==="[object Array]"?h.push([r.doBidiReorder(c[d][0]),c[d][1],c[d][2]]):h.push([r.doBidiReorder(c[d])]);l.text=h}else l.text=r.doBidiReorder(c);r.setOptions({isInputVisual:!0})}])})(At),At.API.TTFFont=(function(){function i(a){var r;if(this.rawData=a,r=this.contents=new No(a),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TN(this),this.registerTTF()}return i.open=function(a){return new i(a)},i.prototype.parse=function(){return this.directory=new xN(this.contents),this.head=new bN(this),this.name=new SN(this),this.cmap=new m5(this),this.toUnicode={},this.hhea=new vN(this),this.maxp=new kN(this),this.hmtx=new _N(this),this.post=new NN(this),this.os2=new wN(this),this.loca=new LN(this),this.glyf=new AN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var a,r,l,c,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var h,d,f,p;for(p=[],h=0,d=(f=this.bbox).length;h<d;h++)a=f[h],p.push(Math.round(a*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(l=255&(c=this.post.italic_angle),32768&(r=c>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+l)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(a){var r;return((r=this.cmap.unicode)!=null?r.codeMap[a]:void 0)||0},i.prototype.widthOfGlyph=function(a){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(a).advance*r},i.prototype.widthOfString=function(a,r,l){var c,o,h,d;for(h=0,o=0,d=(a=""+a).length;0<=d?o<d:o>d;o=0<=d?++o:--o)c=a.charCodeAt(o),h+=this.widthOfGlyph(this.characterToGlyph(c))+l*(1e3/r)||0;return h*(r/1e3)},i.prototype.lineHeight=function(a,r){var l;return r==null&&(r=!1),l=r?this.lineGap:0,(this.ascender+l-this.decender)/1e3*a},i})();var js,No=(function(){function i(a){this.data=a??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(a){return this.data[this.pos++]=a},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(a){return this.writeByte(a>>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt32=function(){var a;return(a=this.readUInt32())>=2147483648?a-4294967296:a},i.prototype.writeInt32=function(a){return a<0&&(a+=4294967296),this.writeUInt32(a)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(a){return this.writeByte(a>>8&255),this.writeByte(255&a)},i.prototype.readInt16=function(){var a;return(a=this.readUInt16())>=32768?a-65536:a},i.prototype.writeInt16=function(a){return a<0&&(a+=65536),this.writeUInt16(a)},i.prototype.readString=function(a){var r,l;for(l=[],r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)l[r]=String.fromCharCode(this.readByte());return l.join("")},i.prototype.writeString=function(a){var r,l,c;for(c=[],r=0,l=a.length;0<=l?r<l:r>l;r=0<=l?++r:--r)c.push(this.writeByte(a.charCodeAt(r)));return c},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(a){return this.writeInt16(a)},i.prototype.readLongLong=function(){var a,r,l,c,o,h,d,f;return a=this.readByte(),r=this.readByte(),l=this.readByte(),c=this.readByte(),o=this.readByte(),h=this.readByte(),d=this.readByte(),f=this.readByte(),128&a?-1*(72057594037927940*(255^a)+281474976710656*(255^r)+1099511627776*(255^l)+4294967296*(255^c)+16777216*(255^o)+65536*(255^h)+256*(255^d)+(255^f)+1):72057594037927940*a+281474976710656*r+1099511627776*l+4294967296*c+16777216*o+65536*h+256*d+f},i.prototype.writeLongLong=function(a){var r,l;return r=Math.floor(a/4294967296),l=4294967295&a,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(l>>24&255),this.writeByte(l>>16&255),this.writeByte(l>>8&255),this.writeByte(255&l)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(a){return this.writeInt32(a)},i.prototype.read=function(a){var r,l;for(r=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)r.push(this.readByte());return r},i.prototype.write=function(a){var r,l,c,o;for(o=[],l=0,c=a.length;l<c;l++)r=a[l],o.push(this.writeByte(r));return o},i})(),xN=(function(){var i;function a(r){var l,c,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},c=0,o=this.tableCount;0<=o?c<o:c>o;c=0<=o?++c:--c)l={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[l.tag]=l}return a.prototype.encode=function(r){var l,c,o,h,d,f,p,b,N,S,g,E,w;for(w in g=Object.keys(r).length,f=Math.log(2),N=16*Math.floor(Math.log(g)/f),h=Math.floor(N/f),b=16*g-N,(c=new No).writeInt(this.scalarType),c.writeShort(g),c.writeShort(N),c.writeShort(h),c.writeShort(b),o=16*g,p=c.pos+o,d=null,E=[],r)for(S=r[w],c.writeString(w),c.writeInt(i(S)),c.writeInt(p),c.writeInt(S.length),E=E.concat(S),w==="head"&&(d=p),p+=S.length;p%4;)E.push(0),p++;return c.write(E),l=2981146554-i(c.data),c.pos=d+8,c.writeUInt32(l),c.data},i=function(r){var l,c,o,h;for(r=p5.call(r);r.length%4;)r.push(0);for(o=new No(r),c=0,l=0,h=r.length;l<h;l=l+=4)c+=o.readUInt32();return 4294967295&c},a})(),yN={}.hasOwnProperty,Ws=function(i,a){for(var r in a)yN.call(a,r)&&(i[r]=a[r]);function l(){this.constructor=i}return l.prototype=a.prototype,i.prototype=new l,i.__super__=a.prototype,i};js=(function(){function i(a){var r;this.file=a,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i})();var bN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="head",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.revision=a.readInt(),this.checkSumAdjustment=a.readInt(),this.magicNumber=a.readInt(),this.flags=a.readShort(),this.unitsPerEm=a.readShort(),this.created=a.readLongLong(),this.modified=a.readLongLong(),this.xMin=a.readShort(),this.yMin=a.readShort(),this.xMax=a.readShort(),this.yMax=a.readShort(),this.macStyle=a.readShort(),this.lowestRecPPEM=a.readShort(),this.fontDirectionHint=a.readShort(),this.indexToLocFormat=a.readShort(),this.glyphDataFormat=a.readShort()},i.prototype.encode=function(a){var r;return(r=new No).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(a),r.writeShort(this.glyphDataFormat),r.data},i})(),bx=(function(){function i(a,r){var l,c,o,h,d,f,p,b,N,S,g,E,w,C,k,D,T;switch(this.platformID=a.readUInt16(),this.encodingID=a.readShort(),this.offset=r+a.readInt(),N=a.pos,a.pos=this.offset,this.format=a.readUInt16(),this.length=a.readUInt16(),this.language=a.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=a.readByte();break;case 4:for(g=a.readUInt16(),S=g/2,a.pos+=6,o=(function(){var M,q;for(q=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)q.push(a.readUInt16());return q})(),a.pos+=2,w=(function(){var M,q;for(q=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)q.push(a.readUInt16());return q})(),p=(function(){var M,q;for(q=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)q.push(a.readUInt16());return q})(),b=(function(){var M,q;for(q=[],f=M=0;0<=S?M<S:M>S;f=0<=S?++M:--M)q.push(a.readUInt16());return q})(),c=(this.length-a.pos+this.offset)/2,d=(function(){var M,q;for(q=[],f=M=0;0<=c?M<c:M>c;f=0<=c?++M:--M)q.push(a.readUInt16());return q})(),f=k=0,T=o.length;k<T;f=++k)for(C=o[f],l=D=E=w[f];E<=C?D<=C:D>=C;l=E<=C?++D:--D)b[f]===0?h=l+p[f]:(h=d[b[f]/2+(l-E)-(S-f)]||0)!==0&&(h+=p[f]),this.codeMap[l]=65535&h}a.pos=N}return i.encode=function(a,r){var l,c,o,h,d,f,p,b,N,S,g,E,w,C,k,D,T,M,q,P,B,V,F,re,U,A,H,j,$,W,ie,ee,ue,ve,ce,z,Q,ae,oe,ye,Se,_e,Ae,Be,Ke,pe;switch(j=new No,h=Object.keys(a).sort(function(Ue,O){return Ue-O}),r){case"macroman":for(w=0,C=(function(){var Ue=[];for(E=0;E<256;++E)Ue.push(0);return Ue})(),D={0:0},o={},$=0,ue=h.length;$<ue;$++)D[Ae=a[c=h[$]]]==null&&(D[Ae]=++w),o[c]={old:a[c],new:D[a[c]]},C[c]=D[a[c]];return j.writeUInt16(1),j.writeUInt16(0),j.writeUInt32(12),j.writeUInt16(0),j.writeUInt16(262),j.writeUInt16(0),j.write(C),{charMap:o,subtable:j.data,maxGlyphID:w+1};case"unicode":for(A=[],N=[],T=0,D={},l={},k=p=null,W=0,ve=h.length;W<ve;W++)D[q=a[c=h[W]]]==null&&(D[q]=++T),l[c]={old:q,new:D[q]},d=D[q]-c,k!=null&&d===p||(k&&N.push(k),A.push(c),p=d),k=c;for(k&&N.push(k),N.push(65535),A.push(65535),re=2*(F=A.length),V=2*Math.pow(Math.log(F)/Math.LN2,2),S=Math.log(V/2)/Math.LN2,B=2*F-V,f=[],P=[],g=[],E=ie=0,ce=A.length;ie<ce;E=++ie){if(U=A[E],b=N[E],U===65535){f.push(0),P.push(0);break}if(U-(H=l[U].new)>=32768)for(f.push(0),P.push(2*(g.length+F-E)),c=ee=U;U<=b?ee<=b:ee>=b;c=U<=b?++ee:--ee)g.push(l[c].new);else f.push(H-U),P.push(0)}for(j.writeUInt16(3),j.writeUInt16(1),j.writeUInt32(12),j.writeUInt16(4),j.writeUInt16(16+8*F+2*g.length),j.writeUInt16(0),j.writeUInt16(re),j.writeUInt16(V),j.writeUInt16(S),j.writeUInt16(B),Se=0,z=N.length;Se<z;Se++)c=N[Se],j.writeUInt16(c);for(j.writeUInt16(0),_e=0,Q=A.length;_e<Q;_e++)c=A[_e],j.writeUInt16(c);for(Be=0,ae=f.length;Be<ae;Be++)d=f[Be],j.writeUInt16(d);for(Ke=0,oe=P.length;Ke<oe;Ke++)M=P[Ke],j.writeUInt16(M);for(pe=0,ye=g.length;pe<ye;pe++)w=g[pe],j.writeUInt16(w);return{charMap:l,subtable:j.data,maxGlyphID:T+1}}},i})(),m5=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="cmap",i.prototype.parse=function(a){var r,l,c;for(a.pos=this.offset,this.version=a.readUInt16(),c=a.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=c?l<c:l>c;l=0<=c?++l:--l)r=new bx(a,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},i.encode=function(a,r){var l,c;return r==null&&(r="macroman"),l=bx.encode(a,r),(c=new No).writeUInt16(0),c.writeUInt16(1),l.table=c.data.concat(l.subtable),l},i})(),vN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="hhea",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.ascender=a.readShort(),this.decender=a.readShort(),this.lineGap=a.readShort(),this.advanceWidthMax=a.readShort(),this.minLeftSideBearing=a.readShort(),this.minRightSideBearing=a.readShort(),this.xMaxExtent=a.readShort(),this.caretSlopeRise=a.readShort(),this.caretSlopeRun=a.readShort(),this.caretOffset=a.readShort(),a.pos+=8,this.metricDataFormat=a.readShort(),this.numberOfMetrics=a.readUInt16()},i})(),wN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="OS/2",i.prototype.parse=function(a){if(a.pos=this.offset,this.version=a.readUInt16(),this.averageCharWidth=a.readShort(),this.weightClass=a.readUInt16(),this.widthClass=a.readUInt16(),this.type=a.readShort(),this.ySubscriptXSize=a.readShort(),this.ySubscriptYSize=a.readShort(),this.ySubscriptXOffset=a.readShort(),this.ySubscriptYOffset=a.readShort(),this.ySuperscriptXSize=a.readShort(),this.ySuperscriptYSize=a.readShort(),this.ySuperscriptXOffset=a.readShort(),this.ySuperscriptYOffset=a.readShort(),this.yStrikeoutSize=a.readShort(),this.yStrikeoutPosition=a.readShort(),this.familyClass=a.readShort(),this.panose=(function(){var r,l;for(l=[],r=0;r<10;++r)l.push(a.readByte());return l})(),this.charRange=(function(){var r,l;for(l=[],r=0;r<4;++r)l.push(a.readInt());return l})(),this.vendorID=a.readString(4),this.selection=a.readShort(),this.firstCharIndex=a.readShort(),this.lastCharIndex=a.readShort(),this.version>0&&(this.ascent=a.readShort(),this.descent=a.readShort(),this.lineGap=a.readShort(),this.winAscent=a.readShort(),this.winDescent=a.readShort(),this.codePageRange=(function(){var r,l;for(l=[],r=0;r<2;r=++r)l.push(a.readInt());return l})(),this.version>1))return this.xHeight=a.readShort(),this.capHeight=a.readShort(),this.defaultChar=a.readShort(),this.breakChar=a.readShort(),this.maxContext=a.readShort()},i})(),NN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="post",i.prototype.parse=function(a){var r,l,c;switch(a.pos=this.offset,this.format=a.readInt(),this.italicAngle=a.readInt(),this.underlinePosition=a.readShort(),this.underlineThickness=a.readShort(),this.isFixedPitch=a.readInt(),this.minMemType42=a.readInt(),this.maxMemType42=a.readInt(),this.minMemType1=a.readInt(),this.maxMemType1=a.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(l=a.readUInt16(),this.glyphNameIndex=[],o=0;0<=l?o<l:o>l;o=0<=l?++o:--o)this.glyphNameIndex.push(a.readUInt16());for(this.names=[],c=[];a.pos<this.offset+this.length;)r=a.readByte(),c.push(this.names.push(a.readString(r)));return c;case 151552:return l=a.readUInt16(),this.offsets=a.read(l);case 262144:return this.map=(function(){var h,d,f;for(f=[],o=h=0,d=this.file.maxp.numGlyphs;0<=d?h<d:h>d;o=0<=d?++h:--h)f.push(a.readUInt32());return f}).call(this)}},i})(),jN=function(i,a){this.raw=i,this.length=i.length,this.platformID=a.platformID,this.encodingID=a.encodingID,this.languageID=a.languageID},SN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="name",i.prototype.parse=function(a){var r,l,c,o,h,d,f,p,b,N,S;for(a.pos=this.offset,a.readShort(),r=a.readShort(),d=a.readShort(),l=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)l.push({platformID:a.readShort(),encodingID:a.readShort(),languageID:a.readShort(),nameID:a.readShort(),length:a.readShort(),offset:this.offset+d+a.readShort()});for(f={},o=b=0,N=l.length;b<N;o=++b)c=l[o],a.pos=c.offset,p=a.readString(c.length),h=new jN(p,c),f[S=c.nameID]==null&&(f[S]=[]),f[c.nameID].push(h);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},i})(),kN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="maxp",i.prototype.parse=function(a){return a.pos=this.offset,this.version=a.readInt(),this.numGlyphs=a.readUInt16(),this.maxPoints=a.readUInt16(),this.maxContours=a.readUInt16(),this.maxCompositePoints=a.readUInt16(),this.maxComponentContours=a.readUInt16(),this.maxZones=a.readUInt16(),this.maxTwilightPoints=a.readUInt16(),this.maxStorage=a.readUInt16(),this.maxFunctionDefs=a.readUInt16(),this.maxInstructionDefs=a.readUInt16(),this.maxStackElements=a.readUInt16(),this.maxSizeOfInstructions=a.readUInt16(),this.maxComponentElements=a.readUInt16(),this.maxComponentDepth=a.readUInt16()},i})(),_N=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="hmtx",i.prototype.parse=function(a){var r,l,c,o,h,d,f;for(a.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:a.readUInt16(),lsb:a.readInt16()});for(c=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var p,b;for(b=[],r=p=0;0<=c?p<c:p>c;r=0<=c?++p:--p)b.push(a.readInt16());return b})(),this.widths=(function(){var p,b,N,S;for(S=[],p=0,b=(N=this.metrics).length;p<b;p++)o=N[p],S.push(o.advance);return S}).call(this),l=this.widths[this.widths.length-1],f=[],r=h=0;0<=c?h<c:h>c;r=0<=c?++h:--h)f.push(this.widths.push(l));return f},i.prototype.forGlyph=function(a){return a in this.metrics?this.metrics[a]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[a-this.metrics.length]}},i})(),p5=[].slice,AN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(a){var r,l,c,o,h,d,f,p,b,N;return a in this.cache?this.cache[a]:(o=this.file.loca,r=this.file.contents,l=o.indexOf(a),(c=o.lengthOf(a))===0?this.cache[a]=null:(r.pos=this.offset+l,h=(d=new No(r.read(c))).readShort(),p=d.readShort(),N=d.readShort(),f=d.readShort(),b=d.readShort(),this.cache[a]=h===-1?new EN(d,p,N,f,b):new CN(d,h,p,N,f,b),this.cache[a]))},i.prototype.encode=function(a,r,l){var c,o,h,d,f;for(h=[],o=[],d=0,f=r.length;d<f;d++)c=a[r[d]],o.push(h.length),c&&(h=h.concat(c.encode(l)));return o.push(h.length),{table:h,offsets:o}},i})(),CN=(function(){function i(a,r,l,c,o,h){this.raw=a,this.numberOfContours=r,this.xMin=l,this.yMin=c,this.xMax=o,this.yMax=h,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i})(),EN=(function(){function i(a,r,l,c,o){var h,d;for(this.raw=a,this.xMin=r,this.yMin=l,this.xMax=c,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],h=this.raw;d=h.readShort(),this.glyphOffsets.push(h.pos),this.glyphIDs.push(h.readUInt16()),32&d;)h.pos+=1&d?4:2,128&d?h.pos+=8:64&d?h.pos+=4:8&d&&(h.pos+=2)}return i.prototype.encode=function(){var a,r,l;for(r=new No(p5.call(this.raw.data)),a=0,l=this.glyphIDs.length;a<l;++a)r.pos=this.glyphOffsets[a];return r.data},i})(),LN=(function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Ws(i,js),i.prototype.tag="loca",i.prototype.parse=function(a){var r,l;return a.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var c,o;for(o=[],l=0,c=this.length;l<c;l+=2)o.push(2*a.readUInt16());return o}).call(this):(function(){var c,o;for(o=[],l=0,c=this.length;l<c;l+=4)o.push(a.readUInt32());return o}).call(this)},i.prototype.indexOf=function(a){return this.offsets[a]},i.prototype.lengthOf=function(a){return this.offsets[a+1]-this.offsets[a]},i.prototype.encode=function(a,r){for(var l=new Uint32Array(this.offsets.length),c=0,o=0,h=0;h<l.length;++h)if(l[h]=c,o<r.length&&r[o]==h){++o,l[h]=c;var d=this.offsets[h],f=this.offsets[h+1]-d;f>0&&(c+=f)}for(var p=new Array(4*l.length),b=0;b<l.length;++b)p[4*b+3]=255&l[b],p[4*b+2]=(65280&l[b])>>8,p[4*b+1]=(16711680&l[b])>>16,p[4*b]=(4278190080&l[b])>>24;return p},i})(),TN=(function(){function i(a){this.font=a,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var a,r,l,c,o;for(r in c=this.font.cmap.tables[0].codeMap,a={},o=this.subset)l=o[r],a[r]=c[l];return a},i.prototype.glyphsFor=function(a){var r,l,c,o,h,d,f;for(c={},h=0,d=a.length;h<d;h++)c[o=a[h]]=this.font.glyf.glyphFor(o);for(o in r=[],c)(l=c[o])!=null&&l.compound&&r.push.apply(r,l.glyphIDs);if(r.length>0)for(o in f=this.glyphsFor(r))l=f[o],c[o]=l;return c},i.prototype.encode=function(a,r){var l,c,o,h,d,f,p,b,N,S,g,E,w,C,k;for(c in l=m5.encode(this.generateCmap(),"unicode"),h=this.glyphsFor(a),g={0:0},k=l.charMap)g[(f=k[c]).old]=f.new;for(E in S=l.maxGlyphID,h)E in g||(g[E]=S++);return b=(function(D){var T,M;for(T in M={},D)M[D[T]]=T;return M})(g),N=Object.keys(b).sort(function(D,T){return D-T}),w=(function(){var D,T,M;for(M=[],D=0,T=N.length;D<T;D++)d=N[D],M.push(b[d]);return M})(),o=this.font.glyf.encode(h,w,g),p=this.font.loca.encode(o.offsets,w),C={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(C["OS/2"]=this.font.os2.raw()),this.font.directory.encode(C)},i})();At.API.PDFObject=(function(){var i;function a(){}return i=function(r,l){return(Array(l+1).join("0")+r).slice(-l)},a.convert=function(r){var l,c,o,h;if(Array.isArray(r))return"["+(function(){var d,f,p;for(p=[],d=0,f=r.length;d<f;d++)l=r[d],p.push(a.convert(l));return p})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+i(r.getUTCFullYear(),4)+i(r.getUTCMonth(),2)+i(r.getUTCDate(),2)+i(r.getUTCHours(),2)+i(r.getUTCMinutes(),2)+i(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(c in o=["<<"],r)h=r[c],o.push("/"+c+" "+a.convert(h));return o.push(">>"),o.join(`
`)}return""+r},a})();const g5="/tristar-fitness-clean/assets/tristarimage-gXZWA8X3.jpg",DN=["The TRI-STAR FITNESS allows the members to join the gym.","The membership is non-transferable, non-refundable, and cannot be shared.","The Member promises to follow all the rules and conditions of the agreement.","Respect other members' rights and follow the rules as per the agreement.","Not engaging in activities like doping, steroids, smoking, or alcohol that could harm health.","Outside shoes are strictly not allowed; members need to carry extra shoes with them.","The Gym will be open from morning 6:30 till afternoon 11 and from 4:30 till 10 in the evening.","Wearing inappropriate clothes is not allowed.","For any injury, physical or internal damages TRI-STAR FITNESS does not hold any liability.","Using dumbbells and weights, members need to re-rack at the appropriate places after use.","Tri-Star Fitness holds all the rights to cancel the membership if proper rules and regulations are not followed."];class lf{doc;supportsRupeeSymbol=!1;fontName;constructor(){this.doc=new At}setFontFamily(a){this.fontName=a,this.doc.setFont(a,"normal")}generateInvoice(a,r,l=!0,c){if(this.supportsRupeeSymbol=l,this.fontName=c,this.fontName&&this.doc.setFont(this.fontName,"normal"),this.doc.setFillColor(16,185,129),this.doc.rect(0,0,210,50,"F"),this.doc.setFillColor(255,255,255),this.doc.circle(25,25,12,"F"),r)try{this.doc.addImage(r,"JPEG",13,13,24,24)}catch{this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(16,185,129),this.doc.text("TS",25,30,{align:"center"})}else this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(16,185,129),this.doc.text("TS",25,30,{align:"center"});return this.doc.setTextColor(255,255,255),this.doc.setFontSize(20),this.doc.setFont("helvetica","bold"),this.doc.text("TRISTAR FITNESS",105,20,{align:"center"}),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text("Your Fitness Journey Starts Here",105,28,{align:"center"}),this.doc.setFontSize(9),this.doc.text("SAPNA SANGEETA MAIN ROAD NEXT TO LOTUS ELECTRONICS, INDORE",105,35,{align:"center"}),this.doc.setFontSize(8),this.doc.text("7693006066, 8103199510",105,42,{align:"center"}),this.doc.text("tristarfitness26@gmail.com",105,47,{align:"center"}),this.doc.setFillColor(255,255,255),this.doc.rect(10,60,190,30,"F"),this.doc.setFontSize(24),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(0,0,0),this.doc.text("INVOICE",20,80),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text(`Invoice #: ${a.id}`,150,75),this.doc.text(`Date: ${this.formatDate(a.date)}`,150,82),this.doc.text(`Due Date: ${this.formatDate(a.dueDate)}`,150,89),this.doc.setFillColor(245,158,11),this.doc.roundedRect(150,92,25,8,2,2,"F"),this.doc.setTextColor(255,255,255),this.doc.setFontSize(8),this.doc.setFont("helvetica","bold"),this.doc.text(a.status.toUpperCase(),162,98,{align:"center"}),this.doc.setTextColor(0,0,0),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text("BILL TO:",20,110),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text(a.memberName,20,120),this.doc.text(a.memberPhone,20,130),a.memberEmail&&this.doc.text(a.memberEmail,20,140),this.addItemsTable(a.items),this.addTotals(a),this.addNotesAndFooter(a),this.doc}addItemsTable(a){this.doc.setFontSize(10),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(0,0,0),this.doc.text("Description",20,160),this.doc.text("Qty",120,160),this.doc.text("Price",140,160),this.doc.text("Total",170,160),this.doc.line(20,165,190,165);let l=175;a.forEach(c=>{this.doc.setFontSize(9),this.doc.setFont("helvetica","normal"),this.doc.setTextColor(0,0,0),this.doc.text(c.description,20,l),this.doc.text(c.quantity.toString(),120,l),this.doc.text(this.formatCurrency(c.price,this.supportsRupeeSymbol),140,l),this.doc.text(this.formatCurrency(c.total,this.supportsRupeeSymbol),170,l),l+=12})}addTotals(a){this.doc.setFontSize(11),this.doc.setFont(this.fontName||"helvetica","normal"),this.doc.setTextColor(0,0,0),this.doc.text("Subtotal:",120,200),this.doc.text(this.formatCurrency(a.subtotal,this.supportsRupeeSymbol),170,200),this.doc.setFontSize(13),this.doc.setFont(this.fontName||"helvetica","bold"),this.doc.text("Total:",120,215),this.doc.text(this.formatCurrency(a.total,this.supportsRupeeSymbol),170,215)}addNotesAndFooter(a){let r=250;this.doc.setFontSize(10),this.doc.setFont("helvetica","bold"),this.doc.setTextColor(0,0,0),this.doc.text("Notes:",20,r),this.doc.setFont("helvetica","normal"),this.doc.setFontSize(9);const l=this.doc.splitTextToSize(a.notes||"",170);this.doc.text(l,20,r+8),r+=Math.max(20,l.length*5+8),this.doc.addPage(),r=20,this.doc.setFont("helvetica","bold"),this.doc.setFontSize(12),this.doc.text("Terms & Conditions:",20,r),this.doc.setFont("helvetica","normal"),this.doc.setFontSize(9);const c=a.termsAndConditions?a.termsAndConditions.split(/\r?\n/).map(p=>p.trim()).filter(Boolean):DN;let o=r+8;const h=25,d=22,f=170;for(const p of c){const b=this.doc.splitTextToSize(p,f);o+b.length*5>285&&(this.doc.addPage(),o=20),this.doc.setFont("helvetica","bold"),this.doc.text("",d,o),this.doc.setFont("helvetica","normal"),this.doc.text(b,h,o),o+=Math.max(6,b.length*5+2)}r=o,this.doc.setFontSize(8),this.doc.setFont("helvetica","normal"),this.doc.setTextColor(100,100,100),this.doc.text("Thank you for choosing Tri Star Fitness!",105,r+20,{align:"center"})}getStatusColor(a){switch(a){case"paid":return{r:34,g:197,b:94};case"pending":return{r:245,g:158,b:11};case"overdue":return{r:239,g:68,b:68};default:return{r:107,g:114,b:128}}}formatDate(a){return new Date(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}formatCurrency(a,r){const l=Math.round(Number(a)||0);return`${r?"":"Rs"}${l}`}static async generateAndDownload(a,r){const l=new lf;let c,o=!1,h;try{c=await x5(g5)}catch{}try{h=await Xh(l,"/fonts/NotoSans-Regular.ttf","NotoSans"),h||(h=await Xh(l,"/fonts/Roboto-Regular.ttf","Roboto")),h&&(o=!0,l.setFontFamily(h))}catch{o=!1}const d=l.generateInvoice(a,c,o,h);try{d.save(r)}catch{try{const p=d.output("blob"),b=URL.createObjectURL(p),N=document.createElement("a");N.href=b,N.download=r,document.body.appendChild(N),N.click(),N.remove(),setTimeout(()=>URL.revokeObjectURL(b),1e4)}catch{try{const p=d.output("bloburl");window.open(p,"_blank")}catch{}}}}}const ON=async(i,a)=>{const r=`invoice-${i.id}.pdf`;return lf.generateAndDownload(i,a||r)},MN=async i=>{const a=new lf;let r,l=!1,c;try{r=await x5(g5)}catch{}try{c=await Xh(a,"/fonts/NotoSans-Regular.ttf","NotoSans"),c||(c=await Xh(a,"/fonts/Roboto-Regular.ttf","Roboto")),c&&(l=!0,a.setFontFamily(c))}catch{l=!1}const h=a.generateInvoice(i,r,l,c).output("bloburl");window.open(h,"_blank")};async function x5(i){const r=await(await fetch(i)).blob();return new Promise((l,c)=>{const o=new FileReader;o.onloadend=()=>{typeof o.result=="string"?l(o.result):c(new Error("Failed to convert image to data URL"))},o.onerror=h=>c(h),o.readAsDataURL(r)})}async function Xh(i,a,r){try{const l=await fetch(a);if(!l.ok)return;const c=await l.blob(),o=await RN(c);return i.doc.addFileToVFS(`${r}.ttf`,o),i.doc.addFont(`${r}.ttf`,r,"normal"),r}catch{return}}function RN(i){return new Promise((a,r)=>{const l=new FileReader;l.onloadend=()=>a(String(l.result)),l.onerror=c=>r(c),l.readAsDataURL(i)})}const zN=()=>{const{toast:i}=cn(),{user:a}=Pa(),r=Ja();if(!r)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loading..."}),n.jsx("p",{className:"text-gray-600",children:"Initializing data store..."})]})});const{members:l,invoices:c,addInvoice:o,addActivity:h,updateInvoice:d,updateMember:f,pricing:p,termsAndConditions:b,generateInvoiceNumber:N,proteins:S}=r,[g,E]=Me.useState(!1),[w,C]=Me.useState("generate"),[k,D]=Me.useState("all"),[T,M]=Me.useState(""),[q,P]=Me.useState("membership"),[B,V]=Me.useState([]),[F,re]=Me.useState({description:"",quantity:1,price:0}),[U,A]=Me.useState(""),[H,j]=Me.useState(""),[$,W]=Me.useState(0),[ie,ee]=Me.useState(""),[ue,ve]=Me.useState(""),[ce,z]=Me.useState(!0);Me.useEffect(()=>{z(!1)},[l,c,o,h]);const Q=[{name:"Monthly Membership",price:p.monthlyFee,description:"1 month access to all facilities"},{name:"Quarterly Membership",price:p.quarterlyFee,description:"3 months access to all facilities"},{name:"Annual Membership",price:p.yearlyFee,description:"12 months access to all facilities"},{name:"Personal Training Session",price:p.personalTrainingFee,description:"1 hour personal training"},{name:"Group Class",price:200,description:"1 group fitness class"},{name:"Protein Shake",price:150,description:"Post-workout protein shake"},{name:"Locker Rental",price:100,description:"Monthly locker rental"}],ae=(S||[]).map(pe=>({name:pe.name,price:pe.sellingPrice})),oe=()=>{if(F.description&&F.price>0){const pe={id:Date.now().toString(),description:F.description,quantity:F.quantity,price:F.price,total:F.quantity*F.price};V([...B,pe]),re({description:"",quantity:1,price:0})}},ye=pe=>{V(B.filter(Ue=>Ue.id!==pe))},Se=pe=>{const Ue={id:Date.now().toString(),description:pe.name,quantity:1,price:pe.price,total:pe.price};V([...B,Ue])};Me.useEffect(()=>{if(q!=="membership"||!T)return;const pe=l.find(se=>se.id===T);if(!pe)return;if(B.length===0){const se=(pe.membershipType||"").toLowerCase();let te=p.monthlyFee,he="Monthly Membership";se.includes("quarter")?(te=p.quarterlyFee,he="Quarterly Membership"):(se.includes("year")||se.includes("annual"))&&(te=p.yearlyFee,he="Annual Membership"),V([{id:"auto-membership",description:he,quantity:1,price:te,total:te}])}const Ue=pe.startDate||pe.membershipStartDate,O=pe.expiryDate||pe.endDate||pe.membershipEndDate;let Z=Ue||new Date().toISOString().split("T")[0],ke=O;if(!ke){const se=new Date(Z);ie&&ue||(B.find(te=>te.id==="auto-membership")?.description?.startsWith("Quarter")?se.setMonth(se.getMonth()+3):B.find(te=>te.id==="auto-membership")?.description?.startsWith("Annual")?se.setFullYear(se.getFullYear()+1):se.setMonth(se.getMonth()+1),ke=se.toISOString().split("T")[0])}ee(Z),ve(ke||ue)},[q,T,l,p]);const _e=()=>{if(!T||B.length===0){i({title:"Error",description:"Please select a member and add at least one item",variant:"destructive"});return}const pe=l.find(te=>te.id===T);if(!pe)return;const Ue=B.reduce((te,he)=>te+he.total,0),O=Ue,ke={id:N(),memberName:pe.name,memberPhone:pe.phone,memberEmail:pe.email,items:[...B],date:new Date().toISOString().split("T")[0],dueDate:H||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],membershipStartDate:ie||new Date().toISOString().split("T")[0],membershipEndDate:ue||(ie?new Date(new Date(ie).getTime()+720*60*60*1e3).toISOString().split("T")[0]:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0])},se=o({memberId:pe.id,memberName:pe.name,amount:O,description:`Invoice for ${pe.name} - ${B.length} items`,dueDate:ke.dueDate,status:$>=O?"paid":"pending",items:B,subtotal:Ue,total:O,notes:U});h({type:"invoice",action:"Invoice generated",name:`Invoice ${se?.id||ke.id} - ${pe.name}`,time:new Date().toISOString(),details:`Total: ${On(O)}`,memberId:pe.id}),$>=O&&f(pe.id,{status:"active"}),E(!1),V([]),M(""),A(""),j(""),W(0),i({title:"Success",description:`Invoice generated for ${pe.name}`})},Ae=async pe=>{try{const Ue={id:pe.id,memberName:pe.memberName,memberPhone:pe.memberPhone,memberEmail:pe.memberEmail,items:pe.items,subtotal:pe.subtotal,total:pe.total,date:pe.date,dueDate:pe.dueDate,status:pe.status,notes:pe.notes,termsAndConditions:b};try{await ON(Ue,`invoice-${pe.id}.pdf`)}catch{await MN(Ue)}}catch(Ue){console.error("PDF generation error:",Ue),i({title:"Error",description:"Failed to generate PDF. Please try again.",variant:"destructive"})}},Be=pe=>{const Ue=`
Invoice Preview:
${pe.id} - ${pe.memberName}
Total: ${On(pe.total)}
Status: ${pe.status}
    `;alert(Ue)},Ke=pe=>{try{const Ue=c.find(Z=>Z.id===pe),O=Ue?.total??Ue?.amount??0;d(pe,{status:"paid",total:O}),Ue?.memberId&&f(Ue.memberId,{status:"active"}),h({type:"invoice",action:"Payment received",name:`Invoice ${pe} marked as paid`,time:new Date().toISOString(),details:`Payment received for invoice ${pe}`}),i({title:"Payment Recorded",description:"Invoice has been marked as paid successfully."})}catch(Ue){console.error("Error marking invoice as paid:",Ue),i({title:"Error",description:"Failed to update payment status. Please try again.",variant:"destructive"})}};return ce?n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-tristar-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading invoices..."})]})}):r?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Invoices"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generate and manage invoices for members"})]}),(bo(a)||tc(a))&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx(He,{variant:w==="generate"?"default":"outline",onClick:()=>C("generate"),children:"Generate"}),n.jsx(He,{variant:w==="history"?"default":"outline",onClick:()=>C("history"),children:"History"})]})]}),(bo(a)||tc(a))&&w==="generate"&&n.jsx("div",{className:"flex justify-end",children:n.jsxs(He,{className:"bg-orange-600 hover:bg-orange-700",onClick:()=>E(!g),children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),g?"Cancel":"Generate Invoice"]})}),w==="history"&&n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(He,{variant:"outline",onClick:async()=>{try{const pe=c||[];if(!pe||pe.length===0){i({title:"No Data",description:"No invoice data available to print",variant:"destructive"});return}const Ue=window.open("","_blank");if(!Ue)return;const O=["Invoice ID","Member Name","Amount","Status","Created","Due Date","Description"],Z=pe.map(se=>[se.id||"",se.memberName||"",se.total||se.amount?`${(se.total||se.amount).toLocaleString()}`:"",se.status||"",se.createdAt?new Date(se.createdAt).toLocaleDateString():"",se.dueDate?new Date(se.dueDate).toLocaleDateString():"",se.description||""]),ke=`
                  <!DOCTYPE html>
                  <html>
                  <head>
                    <title>Tri Star Fitness - Invoices Report</title>
                    <style>
                      body { font-family: Arial, sans-serif; margin: 20px; }
                      h1 { color: #2563eb; text-align: center; }
                      table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                      th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                      th { background-color: #f2f2f2; font-weight: bold; }
                      .header { text-align: center; margin-bottom: 20px; }
                      .date { color: #666; font-size: 12px; }
                      .status-paid { color: green; font-weight: bold; }
                      .status-pending { color: orange; font-weight: bold; }
                      .status-overdue { color: red; font-weight: bold; }
                    </style>
                  </head>
                  <body>
                    <div class="header">
                      <h1>Tri Star Fitness</h1>
                      <h2>Invoices Report</h2>
                      <p class="date">Generated on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>
                    </div>
                    <table>
                      <thead>
                        <tr>${O.map(se=>`<th>${se}</th>`).join("")}</tr>
                      </thead>
                      <tbody>
                        ${Z.map(se=>`<tr>${se.map(te=>`<td>${te}</td>`).join("")}</tr>`).join("")}
                      </tbody>
                    </table>
                    <p style="margin-top: 20px; font-size: 12px; color: #666;">
                      Total Invoices: ${pe.length} | 
                      Total Amount: ${pe.reduce((se,te)=>se+(te.amount||0),0).toLocaleString()}
                    </p>
                  </body>
                  </html>
                `;Ue.document.write(ke),Ue.document.close(),Ue.focus(),Ue.print(),i({title:"Print Ready",description:"Invoice data has been prepared for printing"})}catch(pe){console.error("Print error:",pe),i({title:"Print Error",description:"Failed to prepare data for printing",variant:"destructive"})}},children:"Print Data"}),n.jsx(He,{variant:"outline",onClick:async()=>{try{const pe=c||[];if(!pe||pe.length===0){i({title:"No Data",description:"No invoice data available to export",variant:"destructive"});return}const Ue=af(pe),O=new Blob([Ue],{type:"text/csv;charset=utf-8;"}),Z=URL.createObjectURL(O),ke=document.createElement("a");ke.href=Z,ke.download=`tri-star-fitness-invoices_${new Date().toISOString().slice(0,10)}.csv`,ke.click(),URL.revokeObjectURL(Z),i({title:"Export Successful",description:"Invoice data has been exported to CSV"})}catch(pe){console.error("Export error:",pe),i({title:"Export Error",description:"Failed to export invoice data",variant:"destructive"})}},children:"Export CSV"})]})]}),w==="generate"&&g&&(bo(a)||tc(a))&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsxs(lt,{className:"text-gray-900 dark:text-white flex items-center space-x-2",children:[n.jsx(Mn,{className:"h-5 w-5 text-orange-600"}),n.jsx("span",{children:"Generate New Invoice"})]})}),n.jsxs(at,{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"member",className:"text-gray-700 dark:text-gray-300",children:"Select Member"}),n.jsxs(bn,{value:T,onValueChange:M,children:[n.jsx(ln,{className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:n.jsx(vn,{placeholder:"Choose a member"})}),n.jsx(on,{children:l.map(pe=>n.jsxs(Vt,{value:pe.id,children:[pe.name," - ",pe.phone]},pe.id))})]})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"purpose",className:"text-gray-700 dark:text-gray-300",children:"Invoice For"}),n.jsxs(bn,{value:q,onValueChange:pe=>{P(pe)},children:[n.jsx(ln,{className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:n.jsx(vn,{placeholder:"Select purpose"})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"membership",children:"Membership"}),n.jsx(Vt,{value:"personal_training",children:"Personal Training"}),n.jsx(Vt,{value:"protein",children:"Protein Store"}),n.jsx(Vt,{value:"other",children:"Other"})]})]})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"dueDate",className:"text-gray-700 dark:text-gray-300",children:"Due Date"}),n.jsx(gt,{id:"dueDate",type:"date",value:H,onChange:pe=>j(pe.target.value),min:new Date().toISOString().split("T")[0],className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"membershipStartDate",className:"text-gray-700 dark:text-gray-300",children:"Membership Start Date"}),n.jsx(gt,{id:"membershipStartDate",type:"date",value:ie,onChange:pe=>ee(pe.target.value),min:new Date().toISOString().split("T")[0],className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"membershipEndDate",className:"text-gray-700 dark:text-gray-300",children:"Membership End Date"}),n.jsx(gt,{id:"membershipEndDate",type:"date",value:ue,onChange:pe=>ve(pe.target.value),min:ie||new Date().toISOString().split("T")[0],className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),q==="membership"&&n.jsxs("div",{children:[n.jsx(ot,{className:"text-gray-700 dark:text-gray-300 mb-3 block",children:"Quick Add Packages"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(pe=>n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>Se(pe),className:"text-xs hover:scale-105 transition-transform duration-200 border-tristar-300 hover:border-tristar-500 hover:bg-tristar-50 dark:hover:bg-tristar-900/30",children:[n.jsx(Gi,{className:"h-3 w-3 mr-1"}),pe.name," - ",On(pe.price)]},pe.name))})]}),q==="protein"&&n.jsxs("div",{children:[n.jsx(ot,{className:"text-gray-700 dark:text-gray-300 mb-3 block",children:"Quick Add Products (Protein Store)"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:ae.map(pe=>n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>Se({name:pe.name,price:pe.price}),className:"text-xs hover:scale-105 transition-transform duration-200 border-tristar-300 hover:border-tristar-500 hover:bg-tristar-50 dark:hover:bg-tristar-900/30",children:[n.jsx(Gi,{className:"h-3 w-3 mr-1"}),pe.name," - ",On(pe.price)]},pe.name))})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[n.jsx(ot,{className:"text-gray-700 dark:text-gray-300 mb-3 block",children:"Add Custom Items"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"description",className:"text-xs text-gray-600 dark:text-gray-400",children:"Description"}),n.jsx(gt,{id:"description",value:F.description,onChange:pe=>re({...F,description:pe.target.value}),placeholder:"Item description",className:"dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"quantity",className:"text-xs text-gray-600 dark:text-gray-400",children:"Qty"}),n.jsx(gt,{id:"quantity",type:"number",min:"1",value:F.quantity,onChange:pe=>re({...F,quantity:parseInt(pe.target.value)||1}),className:"dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"price",className:"text-xs text-gray-600 dark:text-gray-400",children:"Price ()"}),n.jsx(gt,{id:"price",type:"number",min:"0",value:F.price,onChange:pe=>re({...F,price:parseFloat(pe.target.value)||0}),className:"dark:bg-gray-600 dark:border-gray-500 dark:text-white"})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs(He,{onClick:oe,className:"w-full bg-tristar-600 hover:bg-tristar-700 hover:scale-105 transition-transform duration-200",disabled:!F.description||F.price<=0,children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Add Item"]})})]})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300",children:"Notes (Optional)"}),n.jsx(gt,{id:"notes",value:U,onChange:pe=>A(pe.target.value),placeholder:"Additional notes for the invoice",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),B.length>0&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 px-4 py-3 border-b border-gray-200 dark:border-gray-600",children:n.jsx(ot,{className:"text-gray-900 dark:text-white font-medium",children:"Invoice Items"})}),n.jsxs("div",{className:"p-4 space-y-3",children:[B.map(pe=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600 hover:shadow-sm transition-all duration-200",children:[n.jsx("span",{className:"flex-1 text-gray-900 dark:text-white font-medium",children:pe.description}),n.jsxs("span",{className:"mx-4 text-gray-600 dark:text-gray-400",children:["x",pe.quantity]}),n.jsx("span",{className:"mx-4 text-gray-600 dark:text-gray-400",children:On(pe.price)}),n.jsx("span",{className:"mx-4 font-bold text-gray-900 dark:text-white",children:On(pe.total)}),n.jsx(He,{variant:"ghost",size:"sm",onClick:()=>ye(pe.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 transition-all duration-200",children:n.jsx(ef,{className:"h-4 w-4"})})]},pe.id)),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4 mt-4 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:On(B.reduce((pe,Ue)=>pe+Ue.total,0))})]}),n.jsxs("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 dark:border-gray-600 pt-2 mt-2",children:[n.jsx("span",{className:"text-gray-900 dark:text-white",children:"Total:"}),n.jsx("span",{className:"text-tristar-600 dark:text-tristar-400",children:On(B.reduce((pe,Ue)=>pe+Ue.total,0))})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"paidAmount",className:"text-gray-700 dark:text-gray-300",children:"Amount Paid ()"}),n.jsx(gt,{id:"paidAmount",type:"number",min:"0",value:$,onChange:pe=>W(Math.max(0,parseFloat(pe.target.value)||0)),className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{className:"md:col-span-2 flex flex-col sm:flex-row gap-3 md:pt-6",children:[n.jsxs(He,{onClick:_e,className:"flex-1 bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200 h-12 text-lg",disabled:!T||B.length===0,children:[n.jsx(Mn,{className:"h-5 w-5 mr-2"}),"Generate Invoice"]}),B.length>0&&n.jsxs(He,{variant:"outline",onClick:()=>{const pe={id:"PREVIEW",memberName:l.find(Ue=>Ue.id===T)?.name||"",memberPhone:l.find(Ue=>Ue.id===T)?.phone||"",memberEmail:l.find(Ue=>Ue.id===T)?.email,items:B,subtotal:B.reduce((Ue,O)=>Ue+O.total,0),total:B.reduce((Ue,O)=>Ue+O.total,0),date:new Date().toISOString().split("T")[0],dueDate:H||new Date(Date.now()+2592e6).toISOString().split("T")[0],status:$>=B.reduce((Ue,O)=>Ue+O.total,0)?"paid":"pending",notes:U};Ae(pe)},disabled:!T||B.length===0,className:"flex-1 h-12 text-lg hover:scale-105 transition-transform duration-200",children:[n.jsx(Uh,{className:"h-5 w-5 mr-2"}),"Preview PDF"]})]})]})]})]}),w==="history"&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsxs(lt,{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[n.jsx(Mn,{className:"h-5 w-5 text-orange-600"}),n.jsxs("span",{children:["Invoice History (",c.length,")"]})]})}),n.jsxs(at,{className:"p-6",children:[n.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[n.jsx(He,{size:"sm",variant:k==="all"?"default":"outline",onClick:()=>D("all"),children:"All"}),n.jsx(He,{size:"sm",variant:k==="paid"?"default":"outline",onClick:()=>D("paid"),children:"Paid"}),n.jsx(He,{size:"sm",variant:k==="pending"?"default":"outline",onClick:()=>D("pending"),children:"Pending"}),n.jsx(He,{size:"sm",variant:k==="overdue"?"default":"outline",onClick:()=>D("overdue"),children:"Overdue"})]}),c.length>0?n.jsx("div",{className:"space-y-4",children:c.filter(pe=>k==="all"?!0:pe.status===k).map(pe=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg overflow-hidden hover:shadow-lg transition-all duration-200 hover:scale-[1.01]",children:[n.jsx("div",{className:"bg-gradient-to-r from-tristar-50 to-green-50 dark:from-tristar-900/20 dark:to-green-900/20 px-6 py-4 border-b border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-tristar-600 rounded-lg flex items-center justify-center",children:n.jsx(Mn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:pe.memberName}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Invoice #",pe.id]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx(_r,{variant:pe.status==="paid"?"default":pe.status==="overdue"?"destructive":"secondary",className:"text-sm px-3 py-1 font-semibold",children:pe.status.toUpperCase()}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["Due: ",Rn(vi(pe.dueDate),"dd MMM yyyy")]})]})]})}),n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Invoice Date"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:Rn(vi(pe.createdAt),"dd MMM yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Items"}),n.jsxs("p",{className:"text-sm text-gray-900 dark:text-white",children:[pe.items.length," item(s)"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:pe.description})]}),pe.membershipStartDate&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wide",children:"Membership Period"}),n.jsxs("p",{className:"text-sm text-gray-900 dark:text-white",children:[Rn(vi(pe.membershipStartDate),"dd MMM yyyy")," - ",Rn(vi(pe.membershipEndDate||pe.membershipStartDate),"dd MMM yyyy")]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Subtotal:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:On(pe.subtotal)})]}),n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Total:"}),n.jsx("span",{className:"text-lg font-bold text-tristar-600 dark:text-tristar-400",children:On(pe.total)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount Paid:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:On(pe.paidAmount||0)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Amount Remaining:"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:On(Math.max(0,(pe.total||0)-(pe.paidAmount||0)))})]})]})]}),n.jsxs("div",{className:"flex flex-col space-y-3",children:[n.jsxs(He,{onClick:()=>Ae({id:pe.id,memberName:pe.memberName,memberPhone:l.find(Ue=>Ue.id===pe.memberId)?.phone||"",memberEmail:l.find(Ue=>Ue.id===pe.memberId)?.email,items:pe.items,subtotal:pe.subtotal,total:pe.total,date:pe.createdAt.split("T")[0],dueDate:pe.dueDate,status:pe.status,notes:pe.notes||pe.description}),className:"w-full bg-green-600 hover:bg-green-700 text-white hover:scale-105 transition-all duration-200",children:[n.jsx(sc,{className:"h-4 w-4 mr-2"}),"Download PDF"]}),pe.status==="pending"&&n.jsxs(He,{onClick:()=>Ke(pe.id),className:"w-full bg-blue-600 hover:bg-blue-700 text-white hover:scale-105 transition-all duration-200",children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]}),n.jsxs(He,{variant:"outline",onClick:()=>Be({id:pe.id,memberName:pe.memberName,memberPhone:l.find(Ue=>Ue.id===pe.memberId)?.phone||"",memberEmail:l.find(Ue=>Ue.id===pe.memberId)?.email,items:pe.items,subtotal:pe.subtotal,total:pe.total,date:pe.createdAt.split("T")[0],dueDate:pe.dueDate,status:pe.status,notes:pe.description}),className:"w-full hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300 dark:hover:bg-blue-900/30 dark:hover:text-blue-300 transition-all duration-200",children:[n.jsx(Uh,{className:"h-4 w-4 mr-2"}),"Preview"]})]})]})})]},pe.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Mn,{className:"h-16 w-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No invoices yet"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:bo(a)||tc(a)?"Generate your first invoice using the form above":"Invoices will appear here once generated by management"}),(bo(a)||tc(a))&&n.jsxs(He,{onClick:()=>E(!0),className:"bg-tristar-600 hover:bg-tristar-700 hover:scale-105 transition-transform duration-200",children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Create First Invoice"]})]})]})]})]}):n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Data Store Error"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Unable to load invoice data. Please refresh the page."}),n.jsx(He,{onClick:()=>window.location.reload(),children:"Refresh Page"})]})})};function Eh(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wm={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var vx;function IN(){return vx||(vx=1,(function(i,a){(function(r){i.exports=r()})(function(){return(function r(l,c,o){function h(p,b){if(!c[p]){if(!l[p]){var N=typeof Eh=="function"&&Eh;if(!b&&N)return N(p,!0);if(d)return d(p,!0);var S=new Error("Cannot find module '"+p+"'");throw S.code="MODULE_NOT_FOUND",S}var g=c[p]={exports:{}};l[p][0].call(g.exports,function(E){var w=l[p][1][E];return h(w||E)},g,g.exports,r,l,c,o)}return c[p].exports}for(var d=typeof Eh=="function"&&Eh,f=0;f<o.length;f++)h(o[f]);return h})({1:[function(r,l,c){var o=r("./utils"),h=r("./support"),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(f){for(var p,b,N,S,g,E,w,C=[],k=0,D=f.length,T=D,M=o.getTypeOf(f)!=="string";k<f.length;)T=D-k,N=M?(p=f[k++],b=k<D?f[k++]:0,k<D?f[k++]:0):(p=f.charCodeAt(k++),b=k<D?f.charCodeAt(k++):0,k<D?f.charCodeAt(k++):0),S=p>>2,g=(3&p)<<4|b>>4,E=1<T?(15&b)<<2|N>>6:64,w=2<T?63&N:64,C.push(d.charAt(S)+d.charAt(g)+d.charAt(E)+d.charAt(w));return C.join("")},c.decode=function(f){var p,b,N,S,g,E,w=0,C=0,k="data:";if(f.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var D,T=3*(f=f.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(f.charAt(f.length-1)===d.charAt(64)&&T--,f.charAt(f.length-2)===d.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(D=h.uint8array?new Uint8Array(0|T):new Array(0|T);w<f.length;)p=d.indexOf(f.charAt(w++))<<2|(S=d.indexOf(f.charAt(w++)))>>4,b=(15&S)<<4|(g=d.indexOf(f.charAt(w++)))>>2,N=(3&g)<<6|(E=d.indexOf(f.charAt(w++))),D[C++]=p,g!==64&&(D[C++]=b),E!==64&&(D[C++]=N);return D}},{"./support":30,"./utils":32}],2:[function(r,l,c){var o=r("./external"),h=r("./stream/DataWorker"),d=r("./stream/Crc32Probe"),f=r("./stream/DataLengthProbe");function p(b,N,S,g,E){this.compressedSize=b,this.uncompressedSize=N,this.crc32=S,this.compression=g,this.compressedContent=E}p.prototype={getContentWorker:function(){var b=new h(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new f("data_length")),N=this;return b.on("end",function(){if(this.streamInfo.data_length!==N.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new h(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},p.createWorkerFrom=function(b,N,S){return b.pipe(new d).pipe(new f("uncompressedSize")).pipe(N.compressWorker(S)).pipe(new f("compressedSize")).withStreamInfo("compression",N)},l.exports=p},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,l,c){var o=r("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},c.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,l,c){var o=r("./utils"),h=(function(){for(var d,f=[],p=0;p<256;p++){d=p;for(var b=0;b<8;b++)d=1&d?3988292384^d>>>1:d>>>1;f[p]=d}return f})();l.exports=function(d,f){return d!==void 0&&d.length?o.getTypeOf(d)!=="string"?(function(p,b,N,S){var g=h,E=S+N;p^=-1;for(var w=S;w<E;w++)p=p>>>8^g[255&(p^b[w])];return-1^p})(0|f,d,d.length,0):(function(p,b,N,S){var g=h,E=S+N;p^=-1;for(var w=S;w<E;w++)p=p>>>8^g[255&(p^b.charCodeAt(w))];return-1^p})(0|f,d,d.length,0):0}},{"./utils":32}],5:[function(r,l,c){c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(r,l,c){var o=null;o=typeof Promise<"u"?Promise:r("lie"),l.exports={Promise:o}},{lie:37}],7:[function(r,l,c){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=r("pako"),d=r("./utils"),f=r("./stream/GenericWorker"),p=o?"uint8array":"array";function b(N,S){f.call(this,"FlateWorker/"+N),this._pako=null,this._pakoAction=N,this._pakoOptions=S,this.meta={}}c.magic="\b\0",d.inherits(b,f),b.prototype.processChunk=function(N){this.meta=N.meta,this._pako===null&&this._createPako(),this._pako.push(d.transformTo(p,N.data),!1)},b.prototype.flush=function(){f.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var N=this;this._pako.onData=function(S){N.push({data:S,meta:N.meta})}},c.compressWorker=function(N){return new b("Deflate",N)},c.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,l,c){function o(g,E){var w,C="";for(w=0;w<E;w++)C+=String.fromCharCode(255&g),g>>>=8;return C}function h(g,E,w,C,k,D){var T,M,q=g.file,P=g.compression,B=D!==p.utf8encode,V=d.transformTo("string",D(q.name)),F=d.transformTo("string",p.utf8encode(q.name)),re=q.comment,U=d.transformTo("string",D(re)),A=d.transformTo("string",p.utf8encode(re)),H=F.length!==q.name.length,j=A.length!==re.length,$="",W="",ie="",ee=q.dir,ue=q.date,ve={crc32:0,compressedSize:0,uncompressedSize:0};E&&!w||(ve.crc32=g.crc32,ve.compressedSize=g.compressedSize,ve.uncompressedSize=g.uncompressedSize);var ce=0;E&&(ce|=8),B||!H&&!j||(ce|=2048);var z=0,Q=0;ee&&(z|=16),k==="UNIX"?(Q=798,z|=(function(oe,ye){var Se=oe;return oe||(Se=ye?16893:33204),(65535&Se)<<16})(q.unixPermissions,ee)):(Q=20,z|=(function(oe){return 63&(oe||0)})(q.dosPermissions)),T=ue.getUTCHours(),T<<=6,T|=ue.getUTCMinutes(),T<<=5,T|=ue.getUTCSeconds()/2,M=ue.getUTCFullYear()-1980,M<<=4,M|=ue.getUTCMonth()+1,M<<=5,M|=ue.getUTCDate(),H&&(W=o(1,1)+o(b(V),4)+F,$+="up"+o(W.length,2)+W),j&&(ie=o(1,1)+o(b(U),4)+A,$+="uc"+o(ie.length,2)+ie);var ae="";return ae+=`
\0`,ae+=o(ce,2),ae+=P.magic,ae+=o(T,2),ae+=o(M,2),ae+=o(ve.crc32,4),ae+=o(ve.compressedSize,4),ae+=o(ve.uncompressedSize,4),ae+=o(V.length,2),ae+=o($.length,2),{fileRecord:N.LOCAL_FILE_HEADER+ae+V+$,dirRecord:N.CENTRAL_FILE_HEADER+o(Q,2)+ae+o(U.length,2)+"\0\0\0\0"+o(z,4)+o(C,4)+V+$+U}}var d=r("../utils"),f=r("../stream/GenericWorker"),p=r("../utf8"),b=r("../crc32"),N=r("../signature");function S(g,E,w,C){f.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=E,this.zipPlatform=w,this.encodeFileName=C,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}d.inherits(S,f),S.prototype.push=function(g){var E=g.meta.percent||0,w=this.entriesCount,C=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,f.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:w?(E+100*(w-C-1))/w:100}}))},S.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var E=this.streamFiles&&!g.file.dir;if(E){var w=h(g,E,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},S.prototype.closedSource=function(g){this.accumulate=!1;var E=this.streamFiles&&!g.file.dir,w=h(g,E,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),E)this.push({data:(function(C){return N.DATA_DESCRIPTOR+o(C.crc32,4)+o(C.compressedSize,4)+o(C.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},S.prototype.flush=function(){for(var g=this.bytesWritten,E=0;E<this.dirRecords.length;E++)this.push({data:this.dirRecords[E],meta:{percent:100}});var w=this.bytesWritten-g,C=(function(k,D,T,M,q){var P=d.transformTo("string",q(M));return N.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(k,2)+o(k,2)+o(D,4)+o(T,4)+o(P.length,2)+P})(this.dirRecords.length,w,g,this.zipComment,this.encodeFileName);this.push({data:C,meta:{percent:100}})},S.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},S.prototype.registerPrevious=function(g){this._sources.push(g);var E=this;return g.on("data",function(w){E.processChunk(w)}),g.on("end",function(){E.closedSource(E.previous.streamInfo),E._sources.length?E.prepareNextSource():E.end()}),g.on("error",function(w){E.error(w)}),this},S.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},S.prototype.error=function(g){var E=this._sources;if(!f.prototype.error.call(this,g))return!1;for(var w=0;w<E.length;w++)try{E[w].error(g)}catch{}return!0},S.prototype.lock=function(){f.prototype.lock.call(this);for(var g=this._sources,E=0;E<g.length;E++)g[E].lock()},l.exports=S},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,l,c){var o=r("../compressions"),h=r("./ZipFileWorker");c.generateWorker=function(d,f,p){var b=new h(f.streamFiles,p,f.platform,f.encodeFileName),N=0;try{d.forEach(function(S,g){N++;var E=(function(D,T){var M=D||T,q=o[M];if(!q)throw new Error(M+" is not a valid compression method !");return q})(g.options.compression,f.compression),w=g.options.compressionOptions||f.compressionOptions||{},C=g.dir,k=g.date;g._compressWorker(E,w).withStreamInfo("file",{name:S,dir:C,date:k,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(b)}),b.entriesCount=N}catch(S){b.error(S)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,l,c){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new o;for(var d in this)typeof this[d]!="function"&&(h[d]=this[d]);return h}}(o.prototype=r("./object")).loadAsync=r("./load"),o.support=r("./support"),o.defaults=r("./defaults"),o.version="3.10.1",o.loadAsync=function(h,d){return new o().loadAsync(h,d)},o.external=r("./external"),l.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,l,c){var o=r("./utils"),h=r("./external"),d=r("./utf8"),f=r("./zipEntries"),p=r("./stream/Crc32Probe"),b=r("./nodejsUtils");function N(S){return new h.Promise(function(g,E){var w=S.decompressed.getContentWorker().pipe(new p);w.on("error",function(C){E(C)}).on("end",function(){w.streamInfo.crc32!==S.decompressed.crc32?E(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}l.exports=function(S,g){var E=this;return g=o.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:d.utf8decode}),b.isNode&&b.isStream(S)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",S,!0,g.optimizedBinaryString,g.base64).then(function(w){var C=new f(g);return C.load(w),C}).then(function(w){var C=[h.Promise.resolve(w)],k=w.files;if(g.checkCRC32)for(var D=0;D<k.length;D++)C.push(N(k[D]));return h.Promise.all(C)}).then(function(w){for(var C=w.shift(),k=C.files,D=0;D<k.length;D++){var T=k[D],M=T.fileNameStr,q=o.resolve(T.fileNameStr);E.file(q,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:g.createFolders}),T.dir||(E.file(q).unsafeOriginalName=M)}return C.zipComment.length&&(E.comment=C.zipComment),E})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,l,c){var o=r("../utils"),h=r("../stream/GenericWorker");function d(f,p){h.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(p)}o.inherits(d,h),d.prototype._bindStream=function(f){var p=this;(this._stream=f).pause(),f.on("data",function(b){p.push({data:b,meta:{percent:0}})}).on("error",function(b){p.isPaused?this.generatedError=b:p.error(b)}).on("end",function(){p.isPaused?p._upstreamEnded=!0:p.end()})},d.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,l,c){var o=r("readable-stream").Readable;function h(d,f,p){o.call(this,f),this._helper=d;var b=this;d.on("data",function(N,S){b.push(N)||b._helper.pause(),p&&p(S)}).on("error",function(N){b.emit("error",N)}).on("end",function(){b.push(null)})}r("../utils").inherits(h,o),h.prototype._read=function(){this._helper.resume()},l.exports=h},{"../utils":32,"readable-stream":16}],14:[function(r,l,c){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,h);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,h)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var h=new Buffer(o);return h.fill(0),h},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(r,l,c){function o(q,P,B){var V,F=d.getTypeOf(P),re=d.extend(B||{},b);re.date=re.date||new Date,re.compression!==null&&(re.compression=re.compression.toUpperCase()),typeof re.unixPermissions=="string"&&(re.unixPermissions=parseInt(re.unixPermissions,8)),re.unixPermissions&&16384&re.unixPermissions&&(re.dir=!0),re.dosPermissions&&16&re.dosPermissions&&(re.dir=!0),re.dir&&(q=k(q)),re.createFolders&&(V=C(q))&&D.call(this,V,!0);var U=F==="string"&&re.binary===!1&&re.base64===!1;B&&B.binary!==void 0||(re.binary=!U),(P instanceof N&&P.uncompressedSize===0||re.dir||!P||P.length===0)&&(re.base64=!1,re.binary=!0,P="",re.compression="STORE",F="string");var A=null;A=P instanceof N||P instanceof f?P:E.isNode&&E.isStream(P)?new w(q,P):d.prepareContent(q,P,re.binary,re.optimizedBinaryString,re.base64);var H=new S(q,A,re);this.files[q]=H}var h=r("./utf8"),d=r("./utils"),f=r("./stream/GenericWorker"),p=r("./stream/StreamHelper"),b=r("./defaults"),N=r("./compressedObject"),S=r("./zipObject"),g=r("./generate"),E=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),C=function(q){q.slice(-1)==="/"&&(q=q.substring(0,q.length-1));var P=q.lastIndexOf("/");return 0<P?q.substring(0,P):""},k=function(q){return q.slice(-1)!=="/"&&(q+="/"),q},D=function(q,P){return P=P!==void 0?P:b.createFolders,q=k(q),this.files[q]||o.call(this,q,null,{dir:!0,createFolders:P}),this.files[q]};function T(q){return Object.prototype.toString.call(q)==="[object RegExp]"}var M={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(q){var P,B,V;for(P in this.files)V=this.files[P],(B=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&q(B,V)},filter:function(q){var P=[];return this.forEach(function(B,V){q(B,V)&&P.push(V)}),P},file:function(q,P,B){if(arguments.length!==1)return q=this.root+q,o.call(this,q,P,B),this;if(T(q)){var V=q;return this.filter(function(re,U){return!U.dir&&V.test(re)})}var F=this.files[this.root+q];return F&&!F.dir?F:null},folder:function(q){if(!q)return this;if(T(q))return this.filter(function(F,re){return re.dir&&q.test(F)});var P=this.root+q,B=D.call(this,P),V=this.clone();return V.root=B.name,V},remove:function(q){q=this.root+q;var P=this.files[q];if(P||(q.slice(-1)!=="/"&&(q+="/"),P=this.files[q]),P&&!P.dir)delete this.files[q];else for(var B=this.filter(function(F,re){return re.name.slice(0,q.length)===q}),V=0;V<B.length;V++)delete this.files[B[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(q){var P,B={};try{if((B=d.extend(q||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=B.type.toLowerCase(),B.compression=B.compression.toUpperCase(),B.type==="binarystring"&&(B.type="string"),!B.type)throw new Error("No output type specified.");d.checkSupport(B.type),B.platform!=="darwin"&&B.platform!=="freebsd"&&B.platform!=="linux"&&B.platform!=="sunos"||(B.platform="UNIX"),B.platform==="win32"&&(B.platform="DOS");var V=B.comment||this.comment||"";P=g.generateWorker(this,B,V)}catch(F){(P=new f("error")).error(F)}return new p(P,B.type||"string",B.mimeType)},generateAsync:function(q,P){return this.generateInternalStream(q).accumulate(P)},generateNodeStream:function(q,P){return(q=q||{}).type||(q.type="nodebuffer"),this.generateInternalStream(q).toNodejsStream(P)}};l.exports=M},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,l,c){l.exports=r("stream")},{stream:void 0}],17:[function(r,l,c){var o=r("./DataReader");function h(d){o.call(this,d);for(var f=0;f<this.data.length;f++)d[f]=255&d[f]}r("../utils").inherits(h,o),h.prototype.byteAt=function(d){return this.data[this.zero+d]},h.prototype.lastIndexOfSignature=function(d){for(var f=d.charCodeAt(0),p=d.charCodeAt(1),b=d.charCodeAt(2),N=d.charCodeAt(3),S=this.length-4;0<=S;--S)if(this.data[S]===f&&this.data[S+1]===p&&this.data[S+2]===b&&this.data[S+3]===N)return S-this.zero;return-1},h.prototype.readAndCheckSignature=function(d){var f=d.charCodeAt(0),p=d.charCodeAt(1),b=d.charCodeAt(2),N=d.charCodeAt(3),S=this.readData(4);return f===S[0]&&p===S[1]&&b===S[2]&&N===S[3]},h.prototype.readData=function(d){if(this.checkOffset(d),d===0)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},l.exports=h},{"../utils":32,"./DataReader":18}],18:[function(r,l,c){var o=r("../utils");function h(d){this.data=d,this.length=d.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(d){this.checkIndex(this.index+d)},checkIndex:function(d){if(this.length<this.zero+d||d<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+d+"). Corrupted zip ?")},setIndex:function(d){this.checkIndex(d),this.index=d},skip:function(d){this.setIndex(this.index+d)},byteAt:function(){},readInt:function(d){var f,p=0;for(this.checkOffset(d),f=this.index+d-1;f>=this.index;f--)p=(p<<8)+this.byteAt(f);return this.index+=d,p},readString:function(d){return o.transformTo("string",this.readData(d))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var d=this.readInt(4);return new Date(Date.UTC(1980+(d>>25&127),(d>>21&15)-1,d>>16&31,d>>11&31,d>>5&63,(31&d)<<1))}},l.exports=h},{"../utils":32}],19:[function(r,l,c){var o=r("./Uint8ArrayReader");function h(d){o.call(this,d)}r("../utils").inherits(h,o),h.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},l.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,l,c){var o=r("./DataReader");function h(d){o.call(this,d)}r("../utils").inherits(h,o),h.prototype.byteAt=function(d){return this.data.charCodeAt(this.zero+d)},h.prototype.lastIndexOfSignature=function(d){return this.data.lastIndexOf(d)-this.zero},h.prototype.readAndCheckSignature=function(d){return d===this.readData(4)},h.prototype.readData=function(d){this.checkOffset(d);var f=this.data.slice(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},l.exports=h},{"../utils":32,"./DataReader":18}],21:[function(r,l,c){var o=r("./ArrayReader");function h(d){o.call(this,d)}r("../utils").inherits(h,o),h.prototype.readData=function(d){if(this.checkOffset(d),d===0)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+d);return this.index+=d,f},l.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(r,l,c){var o=r("../utils"),h=r("../support"),d=r("./ArrayReader"),f=r("./StringReader"),p=r("./NodeBufferReader"),b=r("./Uint8ArrayReader");l.exports=function(N){var S=o.getTypeOf(N);return o.checkSupport(S),S!=="string"||h.uint8array?S==="nodebuffer"?new p(N):h.uint8array?new b(o.transformTo("uint8array",N)):new d(o.transformTo("array",N)):new f(N)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,l,c){c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,l,c){var o=r("./GenericWorker"),h=r("../utils");function d(f){o.call(this,"ConvertWorker to "+f),this.destType=f}h.inherits(d,o),d.prototype.processChunk=function(f){this.push({data:h.transformTo(this.destType,f.data),meta:f.meta})},l.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(r,l,c){var o=r("./GenericWorker"),h=r("../crc32");function d(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(d,o),d.prototype.processChunk=function(f){this.streamInfo.crc32=h(f.data,this.streamInfo.crc32||0),this.push(f)},l.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,l,c){var o=r("../utils"),h=r("./GenericWorker");function d(f){h.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}o.inherits(d,h),d.prototype.processChunk=function(f){if(f){var p=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=p+f.data.length}h.prototype.processChunk.call(this,f)},l.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(r,l,c){var o=r("../utils"),h=r("./GenericWorker");function d(f){h.call(this,"DataWorker");var p=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(b){p.dataIsReady=!0,p.data=b,p.max=b&&b.length||0,p.type=o.getTypeOf(b),p.isPaused||p._tickAndRepeat()},function(b){p.error(b)})}o.inherits(d,h),d.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,p=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,p);break;case"uint8array":f=this.data.subarray(this.index,p);break;case"array":case"nodebuffer":f=this.data.slice(this.index,p)}return this.index=p,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(r,l,c){function o(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,d){return this._listeners[h].push(d),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,d){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,d)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var d=this;return h.on("data",function(f){d.processChunk(f)}),h.on("end",function(){d.end()}),h.on("error",function(f){d.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,d){return this.extraStreamInfo[h]=d,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},l.exports=o},{}],29:[function(r,l,c){var o=r("../utils"),h=r("./ConvertWorker"),d=r("./GenericWorker"),f=r("../base64"),p=r("../support"),b=r("../external"),N=null;if(p.nodestream)try{N=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function S(E,w){return new b.Promise(function(C,k){var D=[],T=E._internalType,M=E._outputType,q=E._mimeType;E.on("data",function(P,B){D.push(P),w&&w(B)}).on("error",function(P){D=[],k(P)}).on("end",function(){try{var P=(function(B,V,F){switch(B){case"blob":return o.newBlob(o.transformTo("arraybuffer",V),F);case"base64":return f.encode(V);default:return o.transformTo(B,V)}})(M,(function(B,V){var F,re=0,U=null,A=0;for(F=0;F<V.length;F++)A+=V[F].length;switch(B){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(U=new Uint8Array(A),F=0;F<V.length;F++)U.set(V[F],re),re+=V[F].length;return U;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+B+"'")}})(T,D),q);C(P)}catch(B){k(B)}D=[]}).resume()})}function g(E,w,C){var k=w;switch(w){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=w,this._mimeType=C,o.checkSupport(k),this._worker=E.pipe(new h(k)),E.lock()}catch(D){this._worker=new d("error"),this._worker.error(D)}}g.prototype={accumulate:function(E){return S(this,E)},on:function(E,w){var C=this;return E==="data"?this._worker.on(E,function(k){w.call(C,k.data,k.meta)}):this._worker.on(E,function(){o.delay(w,arguments,C)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(E){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new N(this,{objectMode:this._outputType!=="nodebuffer"},E)}},l.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,l,c){if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",c.nodebuffer=typeof Buffer<"u",c.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")c.blob=!1;else{var o=new ArrayBuffer(0);try{c.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(o),c.blob=h.getBlob("application/zip").size===0}catch{c.blob=!1}}}try{c.nodestream=!!r("readable-stream").Readable}catch{c.nodestream=!1}},{"readable-stream":16}],31:[function(r,l,c){for(var o=r("./utils"),h=r("./support"),d=r("./nodejsUtils"),f=r("./stream/GenericWorker"),p=new Array(256),b=0;b<256;b++)p[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;p[254]=p[254]=1;function N(){f.call(this,"utf-8 decode"),this.leftOver=null}function S(){f.call(this,"utf-8 encode")}c.utf8encode=function(g){return h.nodebuffer?d.newBufferFrom(g,"utf-8"):(function(E){var w,C,k,D,T,M=E.length,q=0;for(D=0;D<M;D++)(64512&(C=E.charCodeAt(D)))==55296&&D+1<M&&(64512&(k=E.charCodeAt(D+1)))==56320&&(C=65536+(C-55296<<10)+(k-56320),D++),q+=C<128?1:C<2048?2:C<65536?3:4;for(w=h.uint8array?new Uint8Array(q):new Array(q),D=T=0;T<q;D++)(64512&(C=E.charCodeAt(D)))==55296&&D+1<M&&(64512&(k=E.charCodeAt(D+1)))==56320&&(C=65536+(C-55296<<10)+(k-56320),D++),C<128?w[T++]=C:(C<2048?w[T++]=192|C>>>6:(C<65536?w[T++]=224|C>>>12:(w[T++]=240|C>>>18,w[T++]=128|C>>>12&63),w[T++]=128|C>>>6&63),w[T++]=128|63&C);return w})(g)},c.utf8decode=function(g){return h.nodebuffer?o.transformTo("nodebuffer",g).toString("utf-8"):(function(E){var w,C,k,D,T=E.length,M=new Array(2*T);for(w=C=0;w<T;)if((k=E[w++])<128)M[C++]=k;else if(4<(D=p[k]))M[C++]=65533,w+=D-1;else{for(k&=D===2?31:D===3?15:7;1<D&&w<T;)k=k<<6|63&E[w++],D--;1<D?M[C++]=65533:k<65536?M[C++]=k:(k-=65536,M[C++]=55296|k>>10&1023,M[C++]=56320|1023&k)}return M.length!==C&&(M.subarray?M=M.subarray(0,C):M.length=C),o.applyFromCharCode(M)})(g=o.transformTo(h.uint8array?"uint8array":"array",g))},o.inherits(N,f),N.prototype.processChunk=function(g){var E=o.transformTo(h.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var w=E;(E=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),E.set(w,this.leftOver.length)}else E=this.leftOver.concat(E);this.leftOver=null}var C=(function(D,T){var M;for((T=T||D.length)>D.length&&(T=D.length),M=T-1;0<=M&&(192&D[M])==128;)M--;return M<0||M===0?T:M+p[D[M]]>T?M:T})(E),k=E;C!==E.length&&(h.uint8array?(k=E.subarray(0,C),this.leftOver=E.subarray(C,E.length)):(k=E.slice(0,C),this.leftOver=E.slice(C,E.length))),this.push({data:c.utf8decode(k),meta:g.meta})},N.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=N,o.inherits(S,f),S.prototype.processChunk=function(g){this.push({data:c.utf8encode(g.data),meta:g.meta})},c.Utf8EncodeWorker=S},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,l,c){var o=r("./support"),h=r("./base64"),d=r("./nodejsUtils"),f=r("./external");function p(w){return w}function b(w,C){for(var k=0;k<w.length;++k)C[k]=255&w.charCodeAt(k);return C}r("setimmediate"),c.newBlob=function(w,C){c.checkSupport("blob");try{return new Blob([w],{type:C})}catch{try{var k=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return k.append(w),k.getBlob(C)}catch{throw new Error("Bug : can't construct the Blob.")}}};var N={stringifyByChunk:function(w,C,k){var D=[],T=0,M=w.length;if(M<=k)return String.fromCharCode.apply(null,w);for(;T<M;)C==="array"||C==="nodebuffer"?D.push(String.fromCharCode.apply(null,w.slice(T,Math.min(T+k,M)))):D.push(String.fromCharCode.apply(null,w.subarray(T,Math.min(T+k,M)))),T+=k;return D.join("")},stringifyByChar:function(w){for(var C="",k=0;k<w.length;k++)C+=String.fromCharCode(w[k]);return C},applyCanBeUsed:{uint8array:(function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,d.allocBuffer(1)).length===1}catch{return!1}})()}};function S(w){var C=65536,k=c.getTypeOf(w),D=!0;if(k==="uint8array"?D=N.applyCanBeUsed.uint8array:k==="nodebuffer"&&(D=N.applyCanBeUsed.nodebuffer),D)for(;1<C;)try{return N.stringifyByChunk(w,k,C)}catch{C=Math.floor(C/2)}return N.stringifyByChar(w)}function g(w,C){for(var k=0;k<w.length;k++)C[k]=w[k];return C}c.applyFromCharCode=S;var E={};E.string={string:p,array:function(w){return b(w,new Array(w.length))},arraybuffer:function(w){return E.string.uint8array(w).buffer},uint8array:function(w){return b(w,new Uint8Array(w.length))},nodebuffer:function(w){return b(w,d.allocBuffer(w.length))}},E.array={string:S,array:p,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return d.newBufferFrom(w)}},E.arraybuffer={string:function(w){return S(new Uint8Array(w))},array:function(w){return g(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:p,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return d.newBufferFrom(new Uint8Array(w))}},E.uint8array={string:S,array:function(w){return g(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:p,nodebuffer:function(w){return d.newBufferFrom(w)}},E.nodebuffer={string:S,array:function(w){return g(w,new Array(w.length))},arraybuffer:function(w){return E.nodebuffer.uint8array(w).buffer},uint8array:function(w){return g(w,new Uint8Array(w.length))},nodebuffer:p},c.transformTo=function(w,C){if(C=C||"",!w)return C;c.checkSupport(w);var k=c.getTypeOf(C);return E[k][w](C)},c.resolve=function(w){for(var C=w.split("/"),k=[],D=0;D<C.length;D++){var T=C[D];T==="."||T===""&&D!==0&&D!==C.length-1||(T===".."?k.pop():k.push(T))}return k.join("/")},c.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":o.nodebuffer&&d.isBuffer(w)?"nodebuffer":o.uint8array&&w instanceof Uint8Array?"uint8array":o.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(w){if(!o[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(w){var C,k,D="";for(k=0;k<(w||"").length;k++)D+="\\x"+((C=w.charCodeAt(k))<16?"0":"")+C.toString(16).toUpperCase();return D},c.delay=function(w,C,k){setImmediate(function(){w.apply(k||null,C||[])})},c.inherits=function(w,C){function k(){}k.prototype=C.prototype,w.prototype=new k},c.extend=function(){var w,C,k={};for(w=0;w<arguments.length;w++)for(C in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],C)&&k[C]===void 0&&(k[C]=arguments[w][C]);return k},c.prepareContent=function(w,C,k,D,T){return f.Promise.resolve(C).then(function(M){return o.blob&&(M instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(M))!==-1)&&typeof FileReader<"u"?new f.Promise(function(q,P){var B=new FileReader;B.onload=function(V){q(V.target.result)},B.onerror=function(V){P(V.target.error)},B.readAsArrayBuffer(M)}):M}).then(function(M){var q=c.getTypeOf(M);return q?(q==="arraybuffer"?M=c.transformTo("uint8array",M):q==="string"&&(T?M=h.decode(M):k&&D!==!0&&(M=(function(P){return b(P,o.uint8array?new Uint8Array(P.length):new Array(P.length))})(M))),M):f.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,l,c){var o=r("./reader/readerFor"),h=r("./utils"),d=r("./signature"),f=r("./zipEntry"),p=r("./support");function b(N){this.files=[],this.loadOptions=N}b.prototype={checkSignature:function(N){if(!this.reader.readAndCheckSignature(N)){this.reader.index-=4;var S=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(S)+", expected "+h.pretty(N)+")")}},isSignature:function(N,S){var g=this.reader.index;this.reader.setIndex(N);var E=this.reader.readString(4)===S;return this.reader.setIndex(g),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var N=this.reader.readData(this.zipCommentLength),S=p.uint8array?"uint8array":"array",g=h.transformTo(S,N);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var N,S,g,E=this.zip64EndOfCentralSize-44;0<E;)N=this.reader.readInt(2),S=this.reader.readInt(4),g=this.reader.readData(S),this.zip64ExtensibleData[N]={id:N,length:S,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var N,S;for(N=0;N<this.files.length;N++)S=this.files[N],this.reader.setIndex(S.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),S.readLocalPart(this.reader),S.handleUTF8(),S.processAttributes()},readCentralDir:function(){var N;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(d.CENTRAL_FILE_HEADER);)(N=new f({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(N);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var N=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(N<0)throw this.isSignature(0,d.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(N);var S=N;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(N=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(N),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var E=S-g;if(0<E)this.isSignature(S,d.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(N){this.reader=o(N)},load:function(N){this.prepareReader(N),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,l,c){var o=r("./reader/readerFor"),h=r("./utils"),d=r("./compressedObject"),f=r("./crc32"),p=r("./utf8"),b=r("./compressions"),N=r("./support");function S(g,E){this.options=g,this.loadOptions=E}S.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var E,w;if(g.skip(22),this.fileNameLength=g.readInt(2),w=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((E=(function(C){for(var k in b)if(Object.prototype.hasOwnProperty.call(b,k)&&b[k].magic===C)return b[k];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new d(this.compressedSize,this.uncompressedSize,this.crc32,E,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var E=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(E),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=o(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var E,w,C,k=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<k;)E=g.readInt(2),w=g.readInt(2),C=g.readData(w),this.extraFields[E]={id:E,length:w,value:C};g.setIndex(k)},handleUTF8:function(){var g=N.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=p.utf8decode(this.fileName),this.fileCommentStr=p.utf8decode(this.fileComment);else{var E=this.findExtraFieldUnicodePath();if(E!==null)this.fileNameStr=E;else{var w=h.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var k=h.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var E=o(g.value);return E.readInt(1)!==1||f(this.fileName)!==E.readInt(4)?null:p.utf8decode(E.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var E=o(g.value);return E.readInt(1)!==1||f(this.fileComment)!==E.readInt(4)?null:p.utf8decode(E.readData(g.length-5))}return null}},l.exports=S},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,l,c){function o(E,w,C){this.name=E,this.dir=C.dir,this.date=C.date,this.comment=C.comment,this.unixPermissions=C.unixPermissions,this.dosPermissions=C.dosPermissions,this._data=w,this._dataBinary=C.binary,this.options={compression:C.compression,compressionOptions:C.compressionOptions}}var h=r("./stream/StreamHelper"),d=r("./stream/DataWorker"),f=r("./utf8"),p=r("./compressedObject"),b=r("./stream/GenericWorker");o.prototype={internalStream:function(E){var w=null,C="string";try{if(!E)throw new Error("No output type specified.");var k=(C=E.toLowerCase())==="string"||C==="text";C!=="binarystring"&&C!=="text"||(C="string"),w=this._decompressWorker();var D=!this._dataBinary;D&&!k&&(w=w.pipe(new f.Utf8EncodeWorker)),!D&&k&&(w=w.pipe(new f.Utf8DecodeWorker))}catch(T){(w=new b("error")).error(T)}return new h(w,C,"")},async:function(E,w){return this.internalStream(E).accumulate(w)},nodeStream:function(E,w){return this.internalStream(E||"nodebuffer").toNodejsStream(w)},_compressWorker:function(E,w){if(this._data instanceof p&&this._data.compression.magic===E.magic)return this._data.getCompressedWorker();var C=this._decompressWorker();return this._dataBinary||(C=C.pipe(new f.Utf8EncodeWorker)),p.createWorkerFrom(C,E,w)},_decompressWorker:function(){return this._data instanceof p?this._data.getContentWorker():this._data instanceof b?this._data:new d(this._data)}};for(var N=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],S=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<N.length;g++)o.prototype[N[g]]=S;l.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,l,c){(function(o){var h,d,f=o.MutationObserver||o.WebKitMutationObserver;if(f){var p=0,b=new f(E),N=o.document.createTextNode("");b.observe(N,{characterData:!0}),h=function(){N.data=p=++p%2}}else if(o.setImmediate||o.MessageChannel===void 0)h="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var w=o.document.createElement("script");w.onreadystatechange=function(){E(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},o.document.documentElement.appendChild(w)}:function(){setTimeout(E,0)};else{var S=new o.MessageChannel;S.port1.onmessage=E,h=function(){S.port2.postMessage(0)}}var g=[];function E(){var w,C;d=!0;for(var k=g.length;k;){for(C=g,g=[],w=-1;++w<k;)C[w]();k=g.length}d=!1}l.exports=function(w){g.push(w)!==1||d||h()}}).call(this,typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,l,c){var o=r("immediate");function h(){}var d={},f=["REJECTED"],p=["FULFILLED"],b=["PENDING"];function N(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,k!==h&&w(this,k)}function S(k,D,T){this.promise=k,typeof D=="function"&&(this.onFulfilled=D,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function g(k,D,T){o(function(){var M;try{M=D(T)}catch(q){return d.reject(k,q)}M===k?d.reject(k,new TypeError("Cannot resolve promise with itself")):d.resolve(k,M)})}function E(k){var D=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof D=="function")return function(){D.apply(k,arguments)}}function w(k,D){var T=!1;function M(B){T||(T=!0,d.reject(k,B))}function q(B){T||(T=!0,d.resolve(k,B))}var P=C(function(){D(q,M)});P.status==="error"&&M(P.value)}function C(k,D){var T={};try{T.value=k(D),T.status="success"}catch(M){T.status="error",T.value=M}return T}(l.exports=N).prototype.finally=function(k){if(typeof k!="function")return this;var D=this.constructor;return this.then(function(T){return D.resolve(k()).then(function(){return T})},function(T){return D.resolve(k()).then(function(){throw T})})},N.prototype.catch=function(k){return this.then(null,k)},N.prototype.then=function(k,D){if(typeof k!="function"&&this.state===p||typeof D!="function"&&this.state===f)return this;var T=new this.constructor(h);return this.state!==b?g(T,this.state===p?k:D,this.outcome):this.queue.push(new S(T,k,D)),T},S.prototype.callFulfilled=function(k){d.resolve(this.promise,k)},S.prototype.otherCallFulfilled=function(k){g(this.promise,this.onFulfilled,k)},S.prototype.callRejected=function(k){d.reject(this.promise,k)},S.prototype.otherCallRejected=function(k){g(this.promise,this.onRejected,k)},d.resolve=function(k,D){var T=C(E,D);if(T.status==="error")return d.reject(k,T.value);var M=T.value;if(M)w(k,M);else{k.state=p,k.outcome=D;for(var q=-1,P=k.queue.length;++q<P;)k.queue[q].callFulfilled(D)}return k},d.reject=function(k,D){k.state=f,k.outcome=D;for(var T=-1,M=k.queue.length;++T<M;)k.queue[T].callRejected(D);return k},N.resolve=function(k){return k instanceof this?k:d.resolve(new this(h),k)},N.reject=function(k){var D=new this(h);return d.reject(D,k)},N.all=function(k){var D=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,M=!1;if(!T)return this.resolve([]);for(var q=new Array(T),P=0,B=-1,V=new this(h);++B<T;)F(k[B],B);return V;function F(re,U){D.resolve(re).then(function(A){q[U]=A,++P!==T||M||(M=!0,d.resolve(V,q))},function(A){M||(M=!0,d.reject(V,A))})}},N.race=function(k){var D=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=k.length,M=!1;if(!T)return this.resolve([]);for(var q=-1,P=new this(h);++q<T;)B=k[q],D.resolve(B).then(function(V){M||(M=!0,d.resolve(P,V))},function(V){M||(M=!0,d.reject(P,V))});var B;return P}},{immediate:36}],38:[function(r,l,c){var o={};(0,r("./lib/utils/common").assign)(o,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),l.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,l,c){var o=r("./zlib/deflate"),h=r("./utils/common"),d=r("./utils/strings"),f=r("./zlib/messages"),p=r("./zlib/zstream"),b=Object.prototype.toString,N=0,S=-1,g=0,E=8;function w(k){if(!(this instanceof w))return new w(k);this.options=h.assign({level:S,method:E,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},k||{});var D=this.options;D.raw&&0<D.windowBits?D.windowBits=-D.windowBits:D.gzip&&0<D.windowBits&&D.windowBits<16&&(D.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var T=o.deflateInit2(this.strm,D.level,D.method,D.windowBits,D.memLevel,D.strategy);if(T!==N)throw new Error(f[T]);if(D.header&&o.deflateSetHeader(this.strm,D.header),D.dictionary){var M;if(M=typeof D.dictionary=="string"?d.string2buf(D.dictionary):b.call(D.dictionary)==="[object ArrayBuffer]"?new Uint8Array(D.dictionary):D.dictionary,(T=o.deflateSetDictionary(this.strm,M))!==N)throw new Error(f[T]);this._dict_set=!0}}function C(k,D){var T=new w(D);if(T.push(k,!0),T.err)throw T.msg||f[T.err];return T.result}w.prototype.push=function(k,D){var T,M,q=this.strm,P=this.options.chunkSize;if(this.ended)return!1;M=D===~~D?D:D===!0?4:0,typeof k=="string"?q.input=d.string2buf(k):b.call(k)==="[object ArrayBuffer]"?q.input=new Uint8Array(k):q.input=k,q.next_in=0,q.avail_in=q.input.length;do{if(q.avail_out===0&&(q.output=new h.Buf8(P),q.next_out=0,q.avail_out=P),(T=o.deflate(q,M))!==1&&T!==N)return this.onEnd(T),!(this.ended=!0);q.avail_out!==0&&(q.avail_in!==0||M!==4&&M!==2)||(this.options.to==="string"?this.onData(d.buf2binstring(h.shrinkBuf(q.output,q.next_out))):this.onData(h.shrinkBuf(q.output,q.next_out)))}while((0<q.avail_in||q.avail_out===0)&&T!==1);return M===4?(T=o.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===N):M!==2||(this.onEnd(N),!(q.avail_out=0))},w.prototype.onData=function(k){this.chunks.push(k)},w.prototype.onEnd=function(k){k===N&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},c.Deflate=w,c.deflate=C,c.deflateRaw=function(k,D){return(D=D||{}).raw=!0,C(k,D)},c.gzip=function(k,D){return(D=D||{}).gzip=!0,C(k,D)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,l,c){var o=r("./zlib/inflate"),h=r("./utils/common"),d=r("./utils/strings"),f=r("./zlib/constants"),p=r("./zlib/messages"),b=r("./zlib/zstream"),N=r("./zlib/gzheader"),S=Object.prototype.toString;function g(w){if(!(this instanceof g))return new g(w);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},w||{});var C=this.options;C.raw&&0<=C.windowBits&&C.windowBits<16&&(C.windowBits=-C.windowBits,C.windowBits===0&&(C.windowBits=-15)),!(0<=C.windowBits&&C.windowBits<16)||w&&w.windowBits||(C.windowBits+=32),15<C.windowBits&&C.windowBits<48&&(15&C.windowBits)==0&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var k=o.inflateInit2(this.strm,C.windowBits);if(k!==f.Z_OK)throw new Error(p[k]);this.header=new N,o.inflateGetHeader(this.strm,this.header)}function E(w,C){var k=new g(C);if(k.push(w,!0),k.err)throw k.msg||p[k.err];return k.result}g.prototype.push=function(w,C){var k,D,T,M,q,P,B=this.strm,V=this.options.chunkSize,F=this.options.dictionary,re=!1;if(this.ended)return!1;D=C===~~C?C:C===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof w=="string"?B.input=d.binstring2buf(w):S.call(w)==="[object ArrayBuffer]"?B.input=new Uint8Array(w):B.input=w,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new h.Buf8(V),B.next_out=0,B.avail_out=V),(k=o.inflate(B,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&F&&(P=typeof F=="string"?d.string2buf(F):S.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,k=o.inflateSetDictionary(this.strm,P)),k===f.Z_BUF_ERROR&&re===!0&&(k=f.Z_OK,re=!1),k!==f.Z_STREAM_END&&k!==f.Z_OK)return this.onEnd(k),!(this.ended=!0);B.next_out&&(B.avail_out!==0&&k!==f.Z_STREAM_END&&(B.avail_in!==0||D!==f.Z_FINISH&&D!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=d.utf8border(B.output,B.next_out),M=B.next_out-T,q=d.buf2string(B.output,T),B.next_out=M,B.avail_out=V-M,M&&h.arraySet(B.output,B.output,T,M,0),this.onData(q)):this.onData(h.shrinkBuf(B.output,B.next_out)))),B.avail_in===0&&B.avail_out===0&&(re=!0)}while((0<B.avail_in||B.avail_out===0)&&k!==f.Z_STREAM_END);return k===f.Z_STREAM_END&&(D=f.Z_FINISH),D===f.Z_FINISH?(k=o.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===f.Z_OK):D!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),!(B.avail_out=0))},g.prototype.onData=function(w){this.chunks.push(w)},g.prototype.onEnd=function(w){w===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},c.Inflate=g,c.inflate=E,c.inflateRaw=function(w,C){return(C=C||{}).raw=!0,E(w,C)},c.ungzip=E},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,l,c){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";c.assign=function(f){for(var p=Array.prototype.slice.call(arguments,1);p.length;){var b=p.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var N in b)b.hasOwnProperty(N)&&(f[N]=b[N])}}return f},c.shrinkBuf=function(f,p){return f.length===p?f:f.subarray?f.subarray(0,p):(f.length=p,f)};var h={arraySet:function(f,p,b,N,S){if(p.subarray&&f.subarray)f.set(p.subarray(b,b+N),S);else for(var g=0;g<N;g++)f[S+g]=p[b+g]},flattenChunks:function(f){var p,b,N,S,g,E;for(p=N=0,b=f.length;p<b;p++)N+=f[p].length;for(E=new Uint8Array(N),p=S=0,b=f.length;p<b;p++)g=f[p],E.set(g,S),S+=g.length;return E}},d={arraySet:function(f,p,b,N,S){for(var g=0;g<N;g++)f[S+g]=p[b+g]},flattenChunks:function(f){return[].concat.apply([],f)}};c.setTyped=function(f){f?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,h)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,d))},c.setTyped(o)},{}],42:[function(r,l,c){var o=r("./common"),h=!0,d=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{d=!1}for(var f=new o.Buf8(256),p=0;p<256;p++)f[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;function b(N,S){if(S<65537&&(N.subarray&&d||!N.subarray&&h))return String.fromCharCode.apply(null,o.shrinkBuf(N,S));for(var g="",E=0;E<S;E++)g+=String.fromCharCode(N[E]);return g}f[254]=f[254]=1,c.string2buf=function(N){var S,g,E,w,C,k=N.length,D=0;for(w=0;w<k;w++)(64512&(g=N.charCodeAt(w)))==55296&&w+1<k&&(64512&(E=N.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(E-56320),w++),D+=g<128?1:g<2048?2:g<65536?3:4;for(S=new o.Buf8(D),w=C=0;C<D;w++)(64512&(g=N.charCodeAt(w)))==55296&&w+1<k&&(64512&(E=N.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(E-56320),w++),g<128?S[C++]=g:(g<2048?S[C++]=192|g>>>6:(g<65536?S[C++]=224|g>>>12:(S[C++]=240|g>>>18,S[C++]=128|g>>>12&63),S[C++]=128|g>>>6&63),S[C++]=128|63&g);return S},c.buf2binstring=function(N){return b(N,N.length)},c.binstring2buf=function(N){for(var S=new o.Buf8(N.length),g=0,E=S.length;g<E;g++)S[g]=N.charCodeAt(g);return S},c.buf2string=function(N,S){var g,E,w,C,k=S||N.length,D=new Array(2*k);for(g=E=0;g<k;)if((w=N[g++])<128)D[E++]=w;else if(4<(C=f[w]))D[E++]=65533,g+=C-1;else{for(w&=C===2?31:C===3?15:7;1<C&&g<k;)w=w<<6|63&N[g++],C--;1<C?D[E++]=65533:w<65536?D[E++]=w:(w-=65536,D[E++]=55296|w>>10&1023,D[E++]=56320|1023&w)}return b(D,E)},c.utf8border=function(N,S){var g;for((S=S||N.length)>N.length&&(S=N.length),g=S-1;0<=g&&(192&N[g])==128;)g--;return g<0||g===0?S:g+f[N[g]]>S?g:S}},{"./common":41}],43:[function(r,l,c){l.exports=function(o,h,d,f){for(var p=65535&o|0,b=o>>>16&65535|0,N=0;d!==0;){for(d-=N=2e3<d?2e3:d;b=b+(p=p+h[f++]|0)|0,--N;);p%=65521,b%=65521}return p|b<<16|0}},{}],44:[function(r,l,c){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,l,c){var o=(function(){for(var h,d=[],f=0;f<256;f++){h=f;for(var p=0;p<8;p++)h=1&h?3988292384^h>>>1:h>>>1;d[f]=h}return d})();l.exports=function(h,d,f,p){var b=o,N=p+f;h^=-1;for(var S=p;S<N;S++)h=h>>>8^b[255&(h^d[S])];return-1^h}},{}],46:[function(r,l,c){var o,h=r("../utils/common"),d=r("./trees"),f=r("./adler32"),p=r("./crc32"),b=r("./messages"),N=0,S=4,g=0,E=-2,w=-1,C=4,k=2,D=8,T=9,M=286,q=30,P=19,B=2*M+1,V=15,F=3,re=258,U=re+F+1,A=42,H=113,j=1,$=2,W=3,ie=4;function ee(O,Z){return O.msg=b[Z],Z}function ue(O){return(O<<1)-(4<O?9:0)}function ve(O){for(var Z=O.length;0<=--Z;)O[Z]=0}function ce(O){var Z=O.state,ke=Z.pending;ke>O.avail_out&&(ke=O.avail_out),ke!==0&&(h.arraySet(O.output,Z.pending_buf,Z.pending_out,ke,O.next_out),O.next_out+=ke,Z.pending_out+=ke,O.total_out+=ke,O.avail_out-=ke,Z.pending-=ke,Z.pending===0&&(Z.pending_out=0))}function z(O,Z){d._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,Z),O.block_start=O.strstart,ce(O.strm)}function Q(O,Z){O.pending_buf[O.pending++]=Z}function ae(O,Z){O.pending_buf[O.pending++]=Z>>>8&255,O.pending_buf[O.pending++]=255&Z}function oe(O,Z){var ke,se,te=O.max_chain_length,he=O.strstart,Oe=O.prev_length,Le=O.nice_match,Ne=O.strstart>O.w_size-U?O.strstart-(O.w_size-U):0,Pe=O.window,et=O.w_mask,Ye=O.prev,it=O.strstart+re,kt=Pe[he+Oe-1],ut=Pe[he+Oe];O.prev_length>=O.good_match&&(te>>=2),Le>O.lookahead&&(Le=O.lookahead);do if(Pe[(ke=Z)+Oe]===ut&&Pe[ke+Oe-1]===kt&&Pe[ke]===Pe[he]&&Pe[++ke]===Pe[he+1]){he+=2,ke++;do;while(Pe[++he]===Pe[++ke]&&Pe[++he]===Pe[++ke]&&Pe[++he]===Pe[++ke]&&Pe[++he]===Pe[++ke]&&Pe[++he]===Pe[++ke]&&Pe[++he]===Pe[++ke]&&Pe[++he]===Pe[++ke]&&Pe[++he]===Pe[++ke]&&he<it);if(se=re-(it-he),he=it-re,Oe<se){if(O.match_start=Z,Le<=(Oe=se))break;kt=Pe[he+Oe-1],ut=Pe[he+Oe]}}while((Z=Ye[Z&et])>Ne&&--te!=0);return Oe<=O.lookahead?Oe:O.lookahead}function ye(O){var Z,ke,se,te,he,Oe,Le,Ne,Pe,et,Ye=O.w_size;do{if(te=O.window_size-O.lookahead-O.strstart,O.strstart>=Ye+(Ye-U)){for(h.arraySet(O.window,O.window,Ye,Ye,0),O.match_start-=Ye,O.strstart-=Ye,O.block_start-=Ye,Z=ke=O.hash_size;se=O.head[--Z],O.head[Z]=Ye<=se?se-Ye:0,--ke;);for(Z=ke=Ye;se=O.prev[--Z],O.prev[Z]=Ye<=se?se-Ye:0,--ke;);te+=Ye}if(O.strm.avail_in===0)break;if(Oe=O.strm,Le=O.window,Ne=O.strstart+O.lookahead,Pe=te,et=void 0,et=Oe.avail_in,Pe<et&&(et=Pe),ke=et===0?0:(Oe.avail_in-=et,h.arraySet(Le,Oe.input,Oe.next_in,et,Ne),Oe.state.wrap===1?Oe.adler=f(Oe.adler,Le,et,Ne):Oe.state.wrap===2&&(Oe.adler=p(Oe.adler,Le,et,Ne)),Oe.next_in+=et,Oe.total_in+=et,et),O.lookahead+=ke,O.lookahead+O.insert>=F)for(he=O.strstart-O.insert,O.ins_h=O.window[he],O.ins_h=(O.ins_h<<O.hash_shift^O.window[he+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[he+F-1])&O.hash_mask,O.prev[he&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=he,he++,O.insert--,!(O.lookahead+O.insert<F)););}while(O.lookahead<U&&O.strm.avail_in!==0)}function Se(O,Z){for(var ke,se;;){if(O.lookahead<U){if(ye(O),O.lookahead<U&&Z===N)return j;if(O.lookahead===0)break}if(ke=0,O.lookahead>=F&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ke=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),ke!==0&&O.strstart-ke<=O.w_size-U&&(O.match_length=oe(O,ke)),O.match_length>=F)if(se=d._tr_tally(O,O.strstart-O.match_start,O.match_length-F),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=F){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ke=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else se=d._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(se&&(z(O,!1),O.strm.avail_out===0))return j}return O.insert=O.strstart<F-1?O.strstart:F-1,Z===S?(z(O,!0),O.strm.avail_out===0?W:ie):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?j:$}function _e(O,Z){for(var ke,se,te;;){if(O.lookahead<U){if(ye(O),O.lookahead<U&&Z===N)return j;if(O.lookahead===0)break}if(ke=0,O.lookahead>=F&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ke=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=F-1,ke!==0&&O.prev_length<O.max_lazy_match&&O.strstart-ke<=O.w_size-U&&(O.match_length=oe(O,ke),O.match_length<=5&&(O.strategy===1||O.match_length===F&&4096<O.strstart-O.match_start)&&(O.match_length=F-1)),O.prev_length>=F&&O.match_length<=O.prev_length){for(te=O.strstart+O.lookahead-F,se=d._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-F),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=te&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+F-1])&O.hash_mask,ke=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=F-1,O.strstart++,se&&(z(O,!1),O.strm.avail_out===0))return j}else if(O.match_available){if((se=d._tr_tally(O,0,O.window[O.strstart-1]))&&z(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return j}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(se=d._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<F-1?O.strstart:F-1,Z===S?(z(O,!0),O.strm.avail_out===0?W:ie):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?j:$}function Ae(O,Z,ke,se,te){this.good_length=O,this.max_lazy=Z,this.nice_length=ke,this.max_chain=se,this.func=te}function Be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*B),this.dyn_dtree=new h.Buf16(2*(2*q+1)),this.bl_tree=new h.Buf16(2*(2*P+1)),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(V+1),this.heap=new h.Buf16(2*M+1),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*M+1),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ke(O){var Z;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=k,(Z=O.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?A:H,O.adler=Z.wrap===2?0:1,Z.last_flush=N,d._tr_init(Z),g):ee(O,E)}function pe(O){var Z=Ke(O);return Z===g&&(function(ke){ke.window_size=2*ke.w_size,ve(ke.head),ke.max_lazy_match=o[ke.level].max_lazy,ke.good_match=o[ke.level].good_length,ke.nice_match=o[ke.level].nice_length,ke.max_chain_length=o[ke.level].max_chain,ke.strstart=0,ke.block_start=0,ke.lookahead=0,ke.insert=0,ke.match_length=ke.prev_length=F-1,ke.match_available=0,ke.ins_h=0})(O.state),Z}function Ue(O,Z,ke,se,te,he){if(!O)return E;var Oe=1;if(Z===w&&(Z=6),se<0?(Oe=0,se=-se):15<se&&(Oe=2,se-=16),te<1||T<te||ke!==D||se<8||15<se||Z<0||9<Z||he<0||C<he)return ee(O,E);se===8&&(se=9);var Le=new Be;return(O.state=Le).strm=O,Le.wrap=Oe,Le.gzhead=null,Le.w_bits=se,Le.w_size=1<<Le.w_bits,Le.w_mask=Le.w_size-1,Le.hash_bits=te+7,Le.hash_size=1<<Le.hash_bits,Le.hash_mask=Le.hash_size-1,Le.hash_shift=~~((Le.hash_bits+F-1)/F),Le.window=new h.Buf8(2*Le.w_size),Le.head=new h.Buf16(Le.hash_size),Le.prev=new h.Buf16(Le.w_size),Le.lit_bufsize=1<<te+6,Le.pending_buf_size=4*Le.lit_bufsize,Le.pending_buf=new h.Buf8(Le.pending_buf_size),Le.d_buf=1*Le.lit_bufsize,Le.l_buf=3*Le.lit_bufsize,Le.level=Z,Le.strategy=he,Le.method=ke,pe(O)}o=[new Ae(0,0,0,0,function(O,Z){var ke=65535;for(ke>O.pending_buf_size-5&&(ke=O.pending_buf_size-5);;){if(O.lookahead<=1){if(ye(O),O.lookahead===0&&Z===N)return j;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var se=O.block_start+ke;if((O.strstart===0||O.strstart>=se)&&(O.lookahead=O.strstart-se,O.strstart=se,z(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-U&&(z(O,!1),O.strm.avail_out===0))return j}return O.insert=0,Z===S?(z(O,!0),O.strm.avail_out===0?W:ie):(O.strstart>O.block_start&&(z(O,!1),O.strm.avail_out),j)}),new Ae(4,4,8,4,Se),new Ae(4,5,16,8,Se),new Ae(4,6,32,32,Se),new Ae(4,4,16,16,_e),new Ae(8,16,32,32,_e),new Ae(8,16,128,128,_e),new Ae(8,32,128,256,_e),new Ae(32,128,258,1024,_e),new Ae(32,258,258,4096,_e)],c.deflateInit=function(O,Z){return Ue(O,Z,D,15,8,0)},c.deflateInit2=Ue,c.deflateReset=pe,c.deflateResetKeep=Ke,c.deflateSetHeader=function(O,Z){return O&&O.state?O.state.wrap!==2?E:(O.state.gzhead=Z,g):E},c.deflate=function(O,Z){var ke,se,te,he;if(!O||!O.state||5<Z||Z<0)return O?ee(O,E):E;if(se=O.state,!O.output||!O.input&&O.avail_in!==0||se.status===666&&Z!==S)return ee(O,O.avail_out===0?-5:E);if(se.strm=O,ke=se.last_flush,se.last_flush=Z,se.status===A)if(se.wrap===2)O.adler=0,Q(se,31),Q(se,139),Q(se,8),se.gzhead?(Q(se,(se.gzhead.text?1:0)+(se.gzhead.hcrc?2:0)+(se.gzhead.extra?4:0)+(se.gzhead.name?8:0)+(se.gzhead.comment?16:0)),Q(se,255&se.gzhead.time),Q(se,se.gzhead.time>>8&255),Q(se,se.gzhead.time>>16&255),Q(se,se.gzhead.time>>24&255),Q(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),Q(se,255&se.gzhead.os),se.gzhead.extra&&se.gzhead.extra.length&&(Q(se,255&se.gzhead.extra.length),Q(se,se.gzhead.extra.length>>8&255)),se.gzhead.hcrc&&(O.adler=p(O.adler,se.pending_buf,se.pending,0)),se.gzindex=0,se.status=69):(Q(se,0),Q(se,0),Q(se,0),Q(se,0),Q(se,0),Q(se,se.level===9?2:2<=se.strategy||se.level<2?4:0),Q(se,3),se.status=H);else{var Oe=D+(se.w_bits-8<<4)<<8;Oe|=(2<=se.strategy||se.level<2?0:se.level<6?1:se.level===6?2:3)<<6,se.strstart!==0&&(Oe|=32),Oe+=31-Oe%31,se.status=H,ae(se,Oe),se.strstart!==0&&(ae(se,O.adler>>>16),ae(se,65535&O.adler)),O.adler=1}if(se.status===69)if(se.gzhead.extra){for(te=se.pending;se.gzindex<(65535&se.gzhead.extra.length)&&(se.pending!==se.pending_buf_size||(se.gzhead.hcrc&&se.pending>te&&(O.adler=p(O.adler,se.pending_buf,se.pending-te,te)),ce(O),te=se.pending,se.pending!==se.pending_buf_size));)Q(se,255&se.gzhead.extra[se.gzindex]),se.gzindex++;se.gzhead.hcrc&&se.pending>te&&(O.adler=p(O.adler,se.pending_buf,se.pending-te,te)),se.gzindex===se.gzhead.extra.length&&(se.gzindex=0,se.status=73)}else se.status=73;if(se.status===73)if(se.gzhead.name){te=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>te&&(O.adler=p(O.adler,se.pending_buf,se.pending-te,te)),ce(O),te=se.pending,se.pending===se.pending_buf_size)){he=1;break}he=se.gzindex<se.gzhead.name.length?255&se.gzhead.name.charCodeAt(se.gzindex++):0,Q(se,he)}while(he!==0);se.gzhead.hcrc&&se.pending>te&&(O.adler=p(O.adler,se.pending_buf,se.pending-te,te)),he===0&&(se.gzindex=0,se.status=91)}else se.status=91;if(se.status===91)if(se.gzhead.comment){te=se.pending;do{if(se.pending===se.pending_buf_size&&(se.gzhead.hcrc&&se.pending>te&&(O.adler=p(O.adler,se.pending_buf,se.pending-te,te)),ce(O),te=se.pending,se.pending===se.pending_buf_size)){he=1;break}he=se.gzindex<se.gzhead.comment.length?255&se.gzhead.comment.charCodeAt(se.gzindex++):0,Q(se,he)}while(he!==0);se.gzhead.hcrc&&se.pending>te&&(O.adler=p(O.adler,se.pending_buf,se.pending-te,te)),he===0&&(se.status=103)}else se.status=103;if(se.status===103&&(se.gzhead.hcrc?(se.pending+2>se.pending_buf_size&&ce(O),se.pending+2<=se.pending_buf_size&&(Q(se,255&O.adler),Q(se,O.adler>>8&255),O.adler=0,se.status=H)):se.status=H),se.pending!==0){if(ce(O),O.avail_out===0)return se.last_flush=-1,g}else if(O.avail_in===0&&ue(Z)<=ue(ke)&&Z!==S)return ee(O,-5);if(se.status===666&&O.avail_in!==0)return ee(O,-5);if(O.avail_in!==0||se.lookahead!==0||Z!==N&&se.status!==666){var Le=se.strategy===2?(function(Ne,Pe){for(var et;;){if(Ne.lookahead===0&&(ye(Ne),Ne.lookahead===0)){if(Pe===N)return j;break}if(Ne.match_length=0,et=d._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++,et&&(z(Ne,!1),Ne.strm.avail_out===0))return j}return Ne.insert=0,Pe===S?(z(Ne,!0),Ne.strm.avail_out===0?W:ie):Ne.last_lit&&(z(Ne,!1),Ne.strm.avail_out===0)?j:$})(se,Z):se.strategy===3?(function(Ne,Pe){for(var et,Ye,it,kt,ut=Ne.window;;){if(Ne.lookahead<=re){if(ye(Ne),Ne.lookahead<=re&&Pe===N)return j;if(Ne.lookahead===0)break}if(Ne.match_length=0,Ne.lookahead>=F&&0<Ne.strstart&&(Ye=ut[it=Ne.strstart-1])===ut[++it]&&Ye===ut[++it]&&Ye===ut[++it]){kt=Ne.strstart+re;do;while(Ye===ut[++it]&&Ye===ut[++it]&&Ye===ut[++it]&&Ye===ut[++it]&&Ye===ut[++it]&&Ye===ut[++it]&&Ye===ut[++it]&&Ye===ut[++it]&&it<kt);Ne.match_length=re-(kt-it),Ne.match_length>Ne.lookahead&&(Ne.match_length=Ne.lookahead)}if(Ne.match_length>=F?(et=d._tr_tally(Ne,1,Ne.match_length-F),Ne.lookahead-=Ne.match_length,Ne.strstart+=Ne.match_length,Ne.match_length=0):(et=d._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++),et&&(z(Ne,!1),Ne.strm.avail_out===0))return j}return Ne.insert=0,Pe===S?(z(Ne,!0),Ne.strm.avail_out===0?W:ie):Ne.last_lit&&(z(Ne,!1),Ne.strm.avail_out===0)?j:$})(se,Z):o[se.level].func(se,Z);if(Le!==W&&Le!==ie||(se.status=666),Le===j||Le===W)return O.avail_out===0&&(se.last_flush=-1),g;if(Le===$&&(Z===1?d._tr_align(se):Z!==5&&(d._tr_stored_block(se,0,0,!1),Z===3&&(ve(se.head),se.lookahead===0&&(se.strstart=0,se.block_start=0,se.insert=0))),ce(O),O.avail_out===0))return se.last_flush=-1,g}return Z!==S?g:se.wrap<=0?1:(se.wrap===2?(Q(se,255&O.adler),Q(se,O.adler>>8&255),Q(se,O.adler>>16&255),Q(se,O.adler>>24&255),Q(se,255&O.total_in),Q(se,O.total_in>>8&255),Q(se,O.total_in>>16&255),Q(se,O.total_in>>24&255)):(ae(se,O.adler>>>16),ae(se,65535&O.adler)),ce(O),0<se.wrap&&(se.wrap=-se.wrap),se.pending!==0?g:1)},c.deflateEnd=function(O){var Z;return O&&O.state?(Z=O.state.status)!==A&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==H&&Z!==666?ee(O,E):(O.state=null,Z===H?ee(O,-3):g):E},c.deflateSetDictionary=function(O,Z){var ke,se,te,he,Oe,Le,Ne,Pe,et=Z.length;if(!O||!O.state||(he=(ke=O.state).wrap)===2||he===1&&ke.status!==A||ke.lookahead)return E;for(he===1&&(O.adler=f(O.adler,Z,et,0)),ke.wrap=0,et>=ke.w_size&&(he===0&&(ve(ke.head),ke.strstart=0,ke.block_start=0,ke.insert=0),Pe=new h.Buf8(ke.w_size),h.arraySet(Pe,Z,et-ke.w_size,ke.w_size,0),Z=Pe,et=ke.w_size),Oe=O.avail_in,Le=O.next_in,Ne=O.input,O.avail_in=et,O.next_in=0,O.input=Z,ye(ke);ke.lookahead>=F;){for(se=ke.strstart,te=ke.lookahead-(F-1);ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[se+F-1])&ke.hash_mask,ke.prev[se&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=se,se++,--te;);ke.strstart=se,ke.lookahead=F-1,ye(ke)}return ke.strstart+=ke.lookahead,ke.block_start=ke.strstart,ke.insert=ke.lookahead,ke.lookahead=0,ke.match_length=ke.prev_length=F-1,ke.match_available=0,O.next_in=Le,O.input=Ne,O.avail_in=Oe,ke.wrap=he,g},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,l,c){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,l,c){l.exports=function(o,h){var d,f,p,b,N,S,g,E,w,C,k,D,T,M,q,P,B,V,F,re,U,A,H,j,$;d=o.state,f=o.next_in,j=o.input,p=f+(o.avail_in-5),b=o.next_out,$=o.output,N=b-(h-o.avail_out),S=b+(o.avail_out-257),g=d.dmax,E=d.wsize,w=d.whave,C=d.wnext,k=d.window,D=d.hold,T=d.bits,M=d.lencode,q=d.distcode,P=(1<<d.lenbits)-1,B=(1<<d.distbits)-1;e:do{T<15&&(D+=j[f++]<<T,T+=8,D+=j[f++]<<T,T+=8),V=M[D&P];t:for(;;){if(D>>>=F=V>>>24,T-=F,(F=V>>>16&255)===0)$[b++]=65535&V;else{if(!(16&F)){if((64&F)==0){V=M[(65535&V)+(D&(1<<F)-1)];continue t}if(32&F){d.mode=12;break e}o.msg="invalid literal/length code",d.mode=30;break e}re=65535&V,(F&=15)&&(T<F&&(D+=j[f++]<<T,T+=8),re+=D&(1<<F)-1,D>>>=F,T-=F),T<15&&(D+=j[f++]<<T,T+=8,D+=j[f++]<<T,T+=8),V=q[D&B];r:for(;;){if(D>>>=F=V>>>24,T-=F,!(16&(F=V>>>16&255))){if((64&F)==0){V=q[(65535&V)+(D&(1<<F)-1)];continue r}o.msg="invalid distance code",d.mode=30;break e}if(U=65535&V,T<(F&=15)&&(D+=j[f++]<<T,(T+=8)<F&&(D+=j[f++]<<T,T+=8)),g<(U+=D&(1<<F)-1)){o.msg="invalid distance too far back",d.mode=30;break e}if(D>>>=F,T-=F,(F=b-N)<U){if(w<(F=U-F)&&d.sane){o.msg="invalid distance too far back",d.mode=30;break e}if(H=k,(A=0)===C){if(A+=E-F,F<re){for(re-=F;$[b++]=k[A++],--F;);A=b-U,H=$}}else if(C<F){if(A+=E+C-F,(F-=C)<re){for(re-=F;$[b++]=k[A++],--F;);if(A=0,C<re){for(re-=F=C;$[b++]=k[A++],--F;);A=b-U,H=$}}}else if(A+=C-F,F<re){for(re-=F;$[b++]=k[A++],--F;);A=b-U,H=$}for(;2<re;)$[b++]=H[A++],$[b++]=H[A++],$[b++]=H[A++],re-=3;re&&($[b++]=H[A++],1<re&&($[b++]=H[A++]))}else{for(A=b-U;$[b++]=$[A++],$[b++]=$[A++],$[b++]=$[A++],2<(re-=3););re&&($[b++]=$[A++],1<re&&($[b++]=$[A++]))}break}}break}}while(f<p&&b<S);f-=re=T>>3,D&=(1<<(T-=re<<3))-1,o.next_in=f,o.next_out=b,o.avail_in=f<p?p-f+5:5-(f-p),o.avail_out=b<S?S-b+257:257-(b-S),d.hold=D,d.bits=T}},{}],49:[function(r,l,c){var o=r("../utils/common"),h=r("./adler32"),d=r("./crc32"),f=r("./inffast"),p=r("./inftrees"),b=1,N=2,S=0,g=-2,E=1,w=852,C=592;function k(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function D(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(A){var H;return A&&A.state?(H=A.state,A.total_in=A.total_out=H.total=0,A.msg="",H.wrap&&(A.adler=1&H.wrap),H.mode=E,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new o.Buf32(w),H.distcode=H.distdyn=new o.Buf32(C),H.sane=1,H.back=-1,S):g}function M(A){var H;return A&&A.state?((H=A.state).wsize=0,H.whave=0,H.wnext=0,T(A)):g}function q(A,H){var j,$;return A&&A.state?($=A.state,H<0?(j=0,H=-H):(j=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?g:($.window!==null&&$.wbits!==H&&($.window=null),$.wrap=j,$.wbits=H,M(A))):g}function P(A,H){var j,$;return A?($=new D,(A.state=$).window=null,(j=q(A,H))!==S&&(A.state=null),j):g}var B,V,F=!0;function re(A){if(F){var H;for(B=new o.Buf32(512),V=new o.Buf32(32),H=0;H<144;)A.lens[H++]=8;for(;H<256;)A.lens[H++]=9;for(;H<280;)A.lens[H++]=7;for(;H<288;)A.lens[H++]=8;for(p(b,A.lens,0,288,B,0,A.work,{bits:9}),H=0;H<32;)A.lens[H++]=5;p(N,A.lens,0,32,V,0,A.work,{bits:5}),F=!1}A.lencode=B,A.lenbits=9,A.distcode=V,A.distbits=5}function U(A,H,j,$){var W,ie=A.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new o.Buf8(ie.wsize)),$>=ie.wsize?(o.arraySet(ie.window,H,j-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):($<(W=ie.wsize-ie.wnext)&&(W=$),o.arraySet(ie.window,H,j-$,W,ie.wnext),($-=W)?(o.arraySet(ie.window,H,j-$,$,0),ie.wnext=$,ie.whave=ie.wsize):(ie.wnext+=W,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=W))),0}c.inflateReset=M,c.inflateReset2=q,c.inflateResetKeep=T,c.inflateInit=function(A){return P(A,15)},c.inflateInit2=P,c.inflate=function(A,H){var j,$,W,ie,ee,ue,ve,ce,z,Q,ae,oe,ye,Se,_e,Ae,Be,Ke,pe,Ue,O,Z,ke,se,te=0,he=new o.Buf8(4),Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return g;(j=A.state).mode===12&&(j.mode=13),ee=A.next_out,W=A.output,ve=A.avail_out,ie=A.next_in,$=A.input,ue=A.avail_in,ce=j.hold,z=j.bits,Q=ue,ae=ve,Z=S;e:for(;;)switch(j.mode){case E:if(j.wrap===0){j.mode=13;break}for(;z<16;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(2&j.wrap&&ce===35615){he[j.check=0]=255&ce,he[1]=ce>>>8&255,j.check=d(j.check,he,2,0),z=ce=0,j.mode=2;break}if(j.flags=0,j.head&&(j.head.done=!1),!(1&j.wrap)||(((255&ce)<<8)+(ce>>8))%31){A.msg="incorrect header check",j.mode=30;break}if((15&ce)!=8){A.msg="unknown compression method",j.mode=30;break}if(z-=4,O=8+(15&(ce>>>=4)),j.wbits===0)j.wbits=O;else if(O>j.wbits){A.msg="invalid window size",j.mode=30;break}j.dmax=1<<O,A.adler=j.check=1,j.mode=512&ce?10:12,z=ce=0;break;case 2:for(;z<16;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(j.flags=ce,(255&j.flags)!=8){A.msg="unknown compression method",j.mode=30;break}if(57344&j.flags){A.msg="unknown header flags set",j.mode=30;break}j.head&&(j.head.text=ce>>8&1),512&j.flags&&(he[0]=255&ce,he[1]=ce>>>8&255,j.check=d(j.check,he,2,0)),z=ce=0,j.mode=3;case 3:for(;z<32;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}j.head&&(j.head.time=ce),512&j.flags&&(he[0]=255&ce,he[1]=ce>>>8&255,he[2]=ce>>>16&255,he[3]=ce>>>24&255,j.check=d(j.check,he,4,0)),z=ce=0,j.mode=4;case 4:for(;z<16;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}j.head&&(j.head.xflags=255&ce,j.head.os=ce>>8),512&j.flags&&(he[0]=255&ce,he[1]=ce>>>8&255,j.check=d(j.check,he,2,0)),z=ce=0,j.mode=5;case 5:if(1024&j.flags){for(;z<16;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}j.length=ce,j.head&&(j.head.extra_len=ce),512&j.flags&&(he[0]=255&ce,he[1]=ce>>>8&255,j.check=d(j.check,he,2,0)),z=ce=0}else j.head&&(j.head.extra=null);j.mode=6;case 6:if(1024&j.flags&&(ue<(oe=j.length)&&(oe=ue),oe&&(j.head&&(O=j.head.extra_len-j.length,j.head.extra||(j.head.extra=new Array(j.head.extra_len)),o.arraySet(j.head.extra,$,ie,oe,O)),512&j.flags&&(j.check=d(j.check,$,oe,ie)),ue-=oe,ie+=oe,j.length-=oe),j.length))break e;j.length=0,j.mode=7;case 7:if(2048&j.flags){if(ue===0)break e;for(oe=0;O=$[ie+oe++],j.head&&O&&j.length<65536&&(j.head.name+=String.fromCharCode(O)),O&&oe<ue;);if(512&j.flags&&(j.check=d(j.check,$,oe,ie)),ue-=oe,ie+=oe,O)break e}else j.head&&(j.head.name=null);j.length=0,j.mode=8;case 8:if(4096&j.flags){if(ue===0)break e;for(oe=0;O=$[ie+oe++],j.head&&O&&j.length<65536&&(j.head.comment+=String.fromCharCode(O)),O&&oe<ue;);if(512&j.flags&&(j.check=d(j.check,$,oe,ie)),ue-=oe,ie+=oe,O)break e}else j.head&&(j.head.comment=null);j.mode=9;case 9:if(512&j.flags){for(;z<16;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(ce!==(65535&j.check)){A.msg="header crc mismatch",j.mode=30;break}z=ce=0}j.head&&(j.head.hcrc=j.flags>>9&1,j.head.done=!0),A.adler=j.check=0,j.mode=12;break;case 10:for(;z<32;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}A.adler=j.check=k(ce),z=ce=0,j.mode=11;case 11:if(j.havedict===0)return A.next_out=ee,A.avail_out=ve,A.next_in=ie,A.avail_in=ue,j.hold=ce,j.bits=z,2;A.adler=j.check=1,j.mode=12;case 12:if(H===5||H===6)break e;case 13:if(j.last){ce>>>=7&z,z-=7&z,j.mode=27;break}for(;z<3;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}switch(j.last=1&ce,z-=1,3&(ce>>>=1)){case 0:j.mode=14;break;case 1:if(re(j),j.mode=20,H!==6)break;ce>>>=2,z-=2;break e;case 2:j.mode=17;break;case 3:A.msg="invalid block type",j.mode=30}ce>>>=2,z-=2;break;case 14:for(ce>>>=7&z,z-=7&z;z<32;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if((65535&ce)!=(ce>>>16^65535)){A.msg="invalid stored block lengths",j.mode=30;break}if(j.length=65535&ce,z=ce=0,j.mode=15,H===6)break e;case 15:j.mode=16;case 16:if(oe=j.length){if(ue<oe&&(oe=ue),ve<oe&&(oe=ve),oe===0)break e;o.arraySet(W,$,ie,oe,ee),ue-=oe,ie+=oe,ve-=oe,ee+=oe,j.length-=oe;break}j.mode=12;break;case 17:for(;z<14;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(j.nlen=257+(31&ce),ce>>>=5,z-=5,j.ndist=1+(31&ce),ce>>>=5,z-=5,j.ncode=4+(15&ce),ce>>>=4,z-=4,286<j.nlen||30<j.ndist){A.msg="too many length or distance symbols",j.mode=30;break}j.have=0,j.mode=18;case 18:for(;j.have<j.ncode;){for(;z<3;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}j.lens[Oe[j.have++]]=7&ce,ce>>>=3,z-=3}for(;j.have<19;)j.lens[Oe[j.have++]]=0;if(j.lencode=j.lendyn,j.lenbits=7,ke={bits:j.lenbits},Z=p(0,j.lens,0,19,j.lencode,0,j.work,ke),j.lenbits=ke.bits,Z){A.msg="invalid code lengths set",j.mode=30;break}j.have=0,j.mode=19;case 19:for(;j.have<j.nlen+j.ndist;){for(;Ae=(te=j.lencode[ce&(1<<j.lenbits)-1])>>>16&255,Be=65535&te,!((_e=te>>>24)<=z);){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(Be<16)ce>>>=_e,z-=_e,j.lens[j.have++]=Be;else{if(Be===16){for(se=_e+2;z<se;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(ce>>>=_e,z-=_e,j.have===0){A.msg="invalid bit length repeat",j.mode=30;break}O=j.lens[j.have-1],oe=3+(3&ce),ce>>>=2,z-=2}else if(Be===17){for(se=_e+3;z<se;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}z-=_e,O=0,oe=3+(7&(ce>>>=_e)),ce>>>=3,z-=3}else{for(se=_e+7;z<se;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}z-=_e,O=0,oe=11+(127&(ce>>>=_e)),ce>>>=7,z-=7}if(j.have+oe>j.nlen+j.ndist){A.msg="invalid bit length repeat",j.mode=30;break}for(;oe--;)j.lens[j.have++]=O}}if(j.mode===30)break;if(j.lens[256]===0){A.msg="invalid code -- missing end-of-block",j.mode=30;break}if(j.lenbits=9,ke={bits:j.lenbits},Z=p(b,j.lens,0,j.nlen,j.lencode,0,j.work,ke),j.lenbits=ke.bits,Z){A.msg="invalid literal/lengths set",j.mode=30;break}if(j.distbits=6,j.distcode=j.distdyn,ke={bits:j.distbits},Z=p(N,j.lens,j.nlen,j.ndist,j.distcode,0,j.work,ke),j.distbits=ke.bits,Z){A.msg="invalid distances set",j.mode=30;break}if(j.mode=20,H===6)break e;case 20:j.mode=21;case 21:if(6<=ue&&258<=ve){A.next_out=ee,A.avail_out=ve,A.next_in=ie,A.avail_in=ue,j.hold=ce,j.bits=z,f(A,ae),ee=A.next_out,W=A.output,ve=A.avail_out,ie=A.next_in,$=A.input,ue=A.avail_in,ce=j.hold,z=j.bits,j.mode===12&&(j.back=-1);break}for(j.back=0;Ae=(te=j.lencode[ce&(1<<j.lenbits)-1])>>>16&255,Be=65535&te,!((_e=te>>>24)<=z);){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(Ae&&(240&Ae)==0){for(Ke=_e,pe=Ae,Ue=Be;Ae=(te=j.lencode[Ue+((ce&(1<<Ke+pe)-1)>>Ke)])>>>16&255,Be=65535&te,!(Ke+(_e=te>>>24)<=z);){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}ce>>>=Ke,z-=Ke,j.back+=Ke}if(ce>>>=_e,z-=_e,j.back+=_e,j.length=Be,Ae===0){j.mode=26;break}if(32&Ae){j.back=-1,j.mode=12;break}if(64&Ae){A.msg="invalid literal/length code",j.mode=30;break}j.extra=15&Ae,j.mode=22;case 22:if(j.extra){for(se=j.extra;z<se;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}j.length+=ce&(1<<j.extra)-1,ce>>>=j.extra,z-=j.extra,j.back+=j.extra}j.was=j.length,j.mode=23;case 23:for(;Ae=(te=j.distcode[ce&(1<<j.distbits)-1])>>>16&255,Be=65535&te,!((_e=te>>>24)<=z);){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if((240&Ae)==0){for(Ke=_e,pe=Ae,Ue=Be;Ae=(te=j.distcode[Ue+((ce&(1<<Ke+pe)-1)>>Ke)])>>>16&255,Be=65535&te,!(Ke+(_e=te>>>24)<=z);){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}ce>>>=Ke,z-=Ke,j.back+=Ke}if(ce>>>=_e,z-=_e,j.back+=_e,64&Ae){A.msg="invalid distance code",j.mode=30;break}j.offset=Be,j.extra=15&Ae,j.mode=24;case 24:if(j.extra){for(se=j.extra;z<se;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}j.offset+=ce&(1<<j.extra)-1,ce>>>=j.extra,z-=j.extra,j.back+=j.extra}if(j.offset>j.dmax){A.msg="invalid distance too far back",j.mode=30;break}j.mode=25;case 25:if(ve===0)break e;if(oe=ae-ve,j.offset>oe){if((oe=j.offset-oe)>j.whave&&j.sane){A.msg="invalid distance too far back",j.mode=30;break}ye=oe>j.wnext?(oe-=j.wnext,j.wsize-oe):j.wnext-oe,oe>j.length&&(oe=j.length),Se=j.window}else Se=W,ye=ee-j.offset,oe=j.length;for(ve<oe&&(oe=ve),ve-=oe,j.length-=oe;W[ee++]=Se[ye++],--oe;);j.length===0&&(j.mode=21);break;case 26:if(ve===0)break e;W[ee++]=j.length,ve--,j.mode=21;break;case 27:if(j.wrap){for(;z<32;){if(ue===0)break e;ue--,ce|=$[ie++]<<z,z+=8}if(ae-=ve,A.total_out+=ae,j.total+=ae,ae&&(A.adler=j.check=j.flags?d(j.check,W,ae,ee-ae):h(j.check,W,ae,ee-ae)),ae=ve,(j.flags?ce:k(ce))!==j.check){A.msg="incorrect data check",j.mode=30;break}z=ce=0}j.mode=28;case 28:if(j.wrap&&j.flags){for(;z<32;){if(ue===0)break e;ue--,ce+=$[ie++]<<z,z+=8}if(ce!==(4294967295&j.total)){A.msg="incorrect length check",j.mode=30;break}z=ce=0}j.mode=29;case 29:Z=1;break e;case 30:Z=-3;break e;case 31:return-4;case 32:default:return g}return A.next_out=ee,A.avail_out=ve,A.next_in=ie,A.avail_in=ue,j.hold=ce,j.bits=z,(j.wsize||ae!==A.avail_out&&j.mode<30&&(j.mode<27||H!==4))&&U(A,A.output,A.next_out,ae-A.avail_out)?(j.mode=31,-4):(Q-=A.avail_in,ae-=A.avail_out,A.total_in+=Q,A.total_out+=ae,j.total+=ae,j.wrap&&ae&&(A.adler=j.check=j.flags?d(j.check,W,ae,A.next_out-ae):h(j.check,W,ae,A.next_out-ae)),A.data_type=j.bits+(j.last?64:0)+(j.mode===12?128:0)+(j.mode===20||j.mode===15?256:0),(Q==0&&ae===0||H===4)&&Z===S&&(Z=-5),Z)},c.inflateEnd=function(A){if(!A||!A.state)return g;var H=A.state;return H.window&&(H.window=null),A.state=null,S},c.inflateGetHeader=function(A,H){var j;return A&&A.state?(2&(j=A.state).wrap)==0?g:((j.head=H).done=!1,S):g},c.inflateSetDictionary=function(A,H){var j,$=H.length;return A&&A.state?(j=A.state).wrap!==0&&j.mode!==11?g:j.mode===11&&h(1,H,$,0)!==j.check?-3:U(A,H,$,$)?(j.mode=31,-4):(j.havedict=1,S):g},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,l,c){var o=r("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(b,N,S,g,E,w,C,k){var D,T,M,q,P,B,V,F,re,U=k.bits,A=0,H=0,j=0,$=0,W=0,ie=0,ee=0,ue=0,ve=0,ce=0,z=null,Q=0,ae=new o.Buf16(16),oe=new o.Buf16(16),ye=null,Se=0;for(A=0;A<=15;A++)ae[A]=0;for(H=0;H<g;H++)ae[N[S+H]]++;for(W=U,$=15;1<=$&&ae[$]===0;$--);if($<W&&(W=$),$===0)return E[w++]=20971520,E[w++]=20971520,k.bits=1,0;for(j=1;j<$&&ae[j]===0;j++);for(W<j&&(W=j),A=ue=1;A<=15;A++)if(ue<<=1,(ue-=ae[A])<0)return-1;if(0<ue&&(b===0||$!==1))return-1;for(oe[1]=0,A=1;A<15;A++)oe[A+1]=oe[A]+ae[A];for(H=0;H<g;H++)N[S+H]!==0&&(C[oe[N[S+H]]++]=H);if(B=b===0?(z=ye=C,19):b===1?(z=h,Q-=257,ye=d,Se-=257,256):(z=f,ye=p,-1),A=j,P=w,ee=H=ce=0,M=-1,q=(ve=1<<(ie=W))-1,b===1&&852<ve||b===2&&592<ve)return 1;for(;;){for(V=A-ee,re=C[H]<B?(F=0,C[H]):C[H]>B?(F=ye[Se+C[H]],z[Q+C[H]]):(F=96,0),D=1<<A-ee,j=T=1<<ie;E[P+(ce>>ee)+(T-=D)]=V<<24|F<<16|re|0,T!==0;);for(D=1<<A-1;ce&D;)D>>=1;if(D!==0?(ce&=D-1,ce+=D):ce=0,H++,--ae[A]==0){if(A===$)break;A=N[S+C[H]]}if(W<A&&(ce&q)!==M){for(ee===0&&(ee=W),P+=j,ue=1<<(ie=A-ee);ie+ee<$&&!((ue-=ae[ie+ee])<=0);)ie++,ue<<=1;if(ve+=1<<ie,b===1&&852<ve||b===2&&592<ve)return 1;E[M=ce&q]=W<<24|ie<<16|P-w|0}}return ce!==0&&(E[P+ce]=A-ee<<24|64<<16|0),k.bits=W,0}},{"../utils/common":41}],51:[function(r,l,c){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,l,c){var o=r("../utils/common"),h=0,d=1;function f(te){for(var he=te.length;0<=--he;)te[he]=0}var p=0,b=29,N=256,S=N+1+b,g=30,E=19,w=2*S+1,C=15,k=16,D=7,T=256,M=16,q=17,P=18,B=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(S+2));f(U);var A=new Array(2*g);f(A);var H=new Array(512);f(H);var j=new Array(256);f(j);var $=new Array(b);f($);var W,ie,ee,ue=new Array(g);function ve(te,he,Oe,Le,Ne){this.static_tree=te,this.extra_bits=he,this.extra_base=Oe,this.elems=Le,this.max_length=Ne,this.has_stree=te&&te.length}function ce(te,he){this.dyn_tree=te,this.max_code=0,this.stat_desc=he}function z(te){return te<256?H[te]:H[256+(te>>>7)]}function Q(te,he){te.pending_buf[te.pending++]=255&he,te.pending_buf[te.pending++]=he>>>8&255}function ae(te,he,Oe){te.bi_valid>k-Oe?(te.bi_buf|=he<<te.bi_valid&65535,Q(te,te.bi_buf),te.bi_buf=he>>k-te.bi_valid,te.bi_valid+=Oe-k):(te.bi_buf|=he<<te.bi_valid&65535,te.bi_valid+=Oe)}function oe(te,he,Oe){ae(te,Oe[2*he],Oe[2*he+1])}function ye(te,he){for(var Oe=0;Oe|=1&te,te>>>=1,Oe<<=1,0<--he;);return Oe>>>1}function Se(te,he,Oe){var Le,Ne,Pe=new Array(C+1),et=0;for(Le=1;Le<=C;Le++)Pe[Le]=et=et+Oe[Le-1]<<1;for(Ne=0;Ne<=he;Ne++){var Ye=te[2*Ne+1];Ye!==0&&(te[2*Ne]=ye(Pe[Ye]++,Ye))}}function _e(te){var he;for(he=0;he<S;he++)te.dyn_ltree[2*he]=0;for(he=0;he<g;he++)te.dyn_dtree[2*he]=0;for(he=0;he<E;he++)te.bl_tree[2*he]=0;te.dyn_ltree[2*T]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function Ae(te){8<te.bi_valid?Q(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function Be(te,he,Oe,Le){var Ne=2*he,Pe=2*Oe;return te[Ne]<te[Pe]||te[Ne]===te[Pe]&&Le[he]<=Le[Oe]}function Ke(te,he,Oe){for(var Le=te.heap[Oe],Ne=Oe<<1;Ne<=te.heap_len&&(Ne<te.heap_len&&Be(he,te.heap[Ne+1],te.heap[Ne],te.depth)&&Ne++,!Be(he,Le,te.heap[Ne],te.depth));)te.heap[Oe]=te.heap[Ne],Oe=Ne,Ne<<=1;te.heap[Oe]=Le}function pe(te,he,Oe){var Le,Ne,Pe,et,Ye=0;if(te.last_lit!==0)for(;Le=te.pending_buf[te.d_buf+2*Ye]<<8|te.pending_buf[te.d_buf+2*Ye+1],Ne=te.pending_buf[te.l_buf+Ye],Ye++,Le===0?oe(te,Ne,he):(oe(te,(Pe=j[Ne])+N+1,he),(et=B[Pe])!==0&&ae(te,Ne-=$[Pe],et),oe(te,Pe=z(--Le),Oe),(et=V[Pe])!==0&&ae(te,Le-=ue[Pe],et)),Ye<te.last_lit;);oe(te,T,he)}function Ue(te,he){var Oe,Le,Ne,Pe=he.dyn_tree,et=he.stat_desc.static_tree,Ye=he.stat_desc.has_stree,it=he.stat_desc.elems,kt=-1;for(te.heap_len=0,te.heap_max=w,Oe=0;Oe<it;Oe++)Pe[2*Oe]!==0?(te.heap[++te.heap_len]=kt=Oe,te.depth[Oe]=0):Pe[2*Oe+1]=0;for(;te.heap_len<2;)Pe[2*(Ne=te.heap[++te.heap_len]=kt<2?++kt:0)]=1,te.depth[Ne]=0,te.opt_len--,Ye&&(te.static_len-=et[2*Ne+1]);for(he.max_code=kt,Oe=te.heap_len>>1;1<=Oe;Oe--)Ke(te,Pe,Oe);for(Ne=it;Oe=te.heap[1],te.heap[1]=te.heap[te.heap_len--],Ke(te,Pe,1),Le=te.heap[1],te.heap[--te.heap_max]=Oe,te.heap[--te.heap_max]=Le,Pe[2*Ne]=Pe[2*Oe]+Pe[2*Le],te.depth[Ne]=(te.depth[Oe]>=te.depth[Le]?te.depth[Oe]:te.depth[Le])+1,Pe[2*Oe+1]=Pe[2*Le+1]=Ne,te.heap[1]=Ne++,Ke(te,Pe,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],(function(ut,ht){var Ct,pt,or,St,dt,Et,It=ht.dyn_tree,Dt=ht.max_code,Jt=ht.stat_desc.static_tree,Pt=ht.stat_desc.has_stree,Ar=ht.stat_desc.extra_bits,Mr=ht.stat_desc.extra_base,Wt=ht.stat_desc.max_length,_t=0;for(St=0;St<=C;St++)ut.bl_count[St]=0;for(It[2*ut.heap[ut.heap_max]+1]=0,Ct=ut.heap_max+1;Ct<w;Ct++)Wt<(St=It[2*It[2*(pt=ut.heap[Ct])+1]+1]+1)&&(St=Wt,_t++),It[2*pt+1]=St,Dt<pt||(ut.bl_count[St]++,dt=0,Mr<=pt&&(dt=Ar[pt-Mr]),Et=It[2*pt],ut.opt_len+=Et*(St+dt),Pt&&(ut.static_len+=Et*(Jt[2*pt+1]+dt)));if(_t!==0){do{for(St=Wt-1;ut.bl_count[St]===0;)St--;ut.bl_count[St]--,ut.bl_count[St+1]+=2,ut.bl_count[Wt]--,_t-=2}while(0<_t);for(St=Wt;St!==0;St--)for(pt=ut.bl_count[St];pt!==0;)Dt<(or=ut.heap[--Ct])||(It[2*or+1]!==St&&(ut.opt_len+=(St-It[2*or+1])*It[2*or],It[2*or+1]=St),pt--)}})(te,he),Se(Pe,kt,te.bl_count)}function O(te,he,Oe){var Le,Ne,Pe=-1,et=he[1],Ye=0,it=7,kt=4;for(et===0&&(it=138,kt=3),he[2*(Oe+1)+1]=65535,Le=0;Le<=Oe;Le++)Ne=et,et=he[2*(Le+1)+1],++Ye<it&&Ne===et||(Ye<kt?te.bl_tree[2*Ne]+=Ye:Ne!==0?(Ne!==Pe&&te.bl_tree[2*Ne]++,te.bl_tree[2*M]++):Ye<=10?te.bl_tree[2*q]++:te.bl_tree[2*P]++,Pe=Ne,kt=(Ye=0)===et?(it=138,3):Ne===et?(it=6,3):(it=7,4))}function Z(te,he,Oe){var Le,Ne,Pe=-1,et=he[1],Ye=0,it=7,kt=4;for(et===0&&(it=138,kt=3),Le=0;Le<=Oe;Le++)if(Ne=et,et=he[2*(Le+1)+1],!(++Ye<it&&Ne===et)){if(Ye<kt)for(;oe(te,Ne,te.bl_tree),--Ye!=0;);else Ne!==0?(Ne!==Pe&&(oe(te,Ne,te.bl_tree),Ye--),oe(te,M,te.bl_tree),ae(te,Ye-3,2)):Ye<=10?(oe(te,q,te.bl_tree),ae(te,Ye-3,3)):(oe(te,P,te.bl_tree),ae(te,Ye-11,7));Pe=Ne,kt=(Ye=0)===et?(it=138,3):Ne===et?(it=6,3):(it=7,4)}}f(ue);var ke=!1;function se(te,he,Oe,Le){ae(te,(p<<1)+(Le?1:0),3),(function(Ne,Pe,et,Ye){Ae(Ne),Q(Ne,et),Q(Ne,~et),o.arraySet(Ne.pending_buf,Ne.window,Pe,et,Ne.pending),Ne.pending+=et})(te,he,Oe)}c._tr_init=function(te){ke||((function(){var he,Oe,Le,Ne,Pe,et=new Array(C+1);for(Ne=Le=0;Ne<b-1;Ne++)for($[Ne]=Le,he=0;he<1<<B[Ne];he++)j[Le++]=Ne;for(j[Le-1]=Ne,Ne=Pe=0;Ne<16;Ne++)for(ue[Ne]=Pe,he=0;he<1<<V[Ne];he++)H[Pe++]=Ne;for(Pe>>=7;Ne<g;Ne++)for(ue[Ne]=Pe<<7,he=0;he<1<<V[Ne]-7;he++)H[256+Pe++]=Ne;for(Oe=0;Oe<=C;Oe++)et[Oe]=0;for(he=0;he<=143;)U[2*he+1]=8,he++,et[8]++;for(;he<=255;)U[2*he+1]=9,he++,et[9]++;for(;he<=279;)U[2*he+1]=7,he++,et[7]++;for(;he<=287;)U[2*he+1]=8,he++,et[8]++;for(Se(U,S+1,et),he=0;he<g;he++)A[2*he+1]=5,A[2*he]=ye(he,5);W=new ve(U,B,N+1,S,C),ie=new ve(A,V,0,g,C),ee=new ve(new Array(0),F,0,E,D)})(),ke=!0),te.l_desc=new ce(te.dyn_ltree,W),te.d_desc=new ce(te.dyn_dtree,ie),te.bl_desc=new ce(te.bl_tree,ee),te.bi_buf=0,te.bi_valid=0,_e(te)},c._tr_stored_block=se,c._tr_flush_block=function(te,he,Oe,Le){var Ne,Pe,et=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=(function(Ye){var it,kt=4093624447;for(it=0;it<=31;it++,kt>>>=1)if(1&kt&&Ye.dyn_ltree[2*it]!==0)return h;if(Ye.dyn_ltree[18]!==0||Ye.dyn_ltree[20]!==0||Ye.dyn_ltree[26]!==0)return d;for(it=32;it<N;it++)if(Ye.dyn_ltree[2*it]!==0)return d;return h})(te)),Ue(te,te.l_desc),Ue(te,te.d_desc),et=(function(Ye){var it;for(O(Ye,Ye.dyn_ltree,Ye.l_desc.max_code),O(Ye,Ye.dyn_dtree,Ye.d_desc.max_code),Ue(Ye,Ye.bl_desc),it=E-1;3<=it&&Ye.bl_tree[2*re[it]+1]===0;it--);return Ye.opt_len+=3*(it+1)+5+5+4,it})(te),Ne=te.opt_len+3+7>>>3,(Pe=te.static_len+3+7>>>3)<=Ne&&(Ne=Pe)):Ne=Pe=Oe+5,Oe+4<=Ne&&he!==-1?se(te,he,Oe,Le):te.strategy===4||Pe===Ne?(ae(te,2+(Le?1:0),3),pe(te,U,A)):(ae(te,4+(Le?1:0),3),(function(Ye,it,kt,ut){var ht;for(ae(Ye,it-257,5),ae(Ye,kt-1,5),ae(Ye,ut-4,4),ht=0;ht<ut;ht++)ae(Ye,Ye.bl_tree[2*re[ht]+1],3);Z(Ye,Ye.dyn_ltree,it-1),Z(Ye,Ye.dyn_dtree,kt-1)})(te,te.l_desc.max_code+1,te.d_desc.max_code+1,et+1),pe(te,te.dyn_ltree,te.dyn_dtree)),_e(te),Le&&Ae(te)},c._tr_tally=function(te,he,Oe){return te.pending_buf[te.d_buf+2*te.last_lit]=he>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&he,te.pending_buf[te.l_buf+te.last_lit]=255&Oe,te.last_lit++,he===0?te.dyn_ltree[2*Oe]++:(te.matches++,he--,te.dyn_ltree[2*(j[Oe]+N+1)]++,te.dyn_dtree[2*z(he)]++),te.last_lit===te.lit_bufsize-1},c._tr_align=function(te){ae(te,2,3),oe(te,T,U),(function(he){he.bi_valid===16?(Q(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):8<=he.bi_valid&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)})(te)}},{"../utils/common":41}],53:[function(r,l,c){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,l,c){(function(o){(function(h,d){if(!h.setImmediate){var f,p,b,N,S=1,g={},E=!1,w=h.document,C=Object.getPrototypeOf&&Object.getPrototypeOf(h);C=C&&C.setTimeout?C:h,f={}.toString.call(h.process)==="[object process]"?function(M){process.nextTick(function(){D(M)})}:(function(){if(h.postMessage&&!h.importScripts){var M=!0,q=h.onmessage;return h.onmessage=function(){M=!1},h.postMessage("","*"),h.onmessage=q,M}})()?(N="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",T,!1):h.attachEvent("onmessage",T),function(M){h.postMessage(N+M,"*")}):h.MessageChannel?((b=new MessageChannel).port1.onmessage=function(M){D(M.data)},function(M){b.port2.postMessage(M)}):w&&"onreadystatechange"in w.createElement("script")?(p=w.documentElement,function(M){var q=w.createElement("script");q.onreadystatechange=function(){D(M),q.onreadystatechange=null,p.removeChild(q),q=null},p.appendChild(q)}):function(M){setTimeout(D,0,M)},C.setImmediate=function(M){typeof M!="function"&&(M=new Function(""+M));for(var q=new Array(arguments.length-1),P=0;P<q.length;P++)q[P]=arguments[P+1];var B={callback:M,args:q};return g[S]=B,f(S),S++},C.clearImmediate=k}function k(M){delete g[M]}function D(M){if(E)setTimeout(D,0,M);else{var q=g[M];if(q){E=!0;try{(function(P){var B=P.callback,V=P.args;switch(V.length){case 0:B();break;case 1:B(V[0]);break;case 2:B(V[0],V[1]);break;case 3:B(V[0],V[1],V[2]);break;default:B.apply(d,V)}})(q)}finally{k(M),E=!1}}}}function T(M){M.source===h&&typeof M.data=="string"&&M.data.indexOf(N)===0&&D(+M.data.slice(N.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(wm)),wm.exports}var FN=IN();const BN=Tx(FN);class Lh{static exportToCSV(a,r){try{if(!a||a.length===0)throw new Error("No data to export");const l=Object.keys(a[0]).filter(f=>{const p=a[0][f];return p!=null&&typeof p!="object"}),c=[l.join(","),...a.map(f=>l.map(p=>{const b=f[p];return typeof b=="string"&&(b.includes(",")||b.includes('"')||b.includes(`
`))?`"${b.replace(/"/g,'""')}"`:b}).join(","))].join(`
`),o=new Blob([c],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(o),d=document.createElement("a");d.href=h,d.download=`${r}_${new Date().toISOString().split("T")[0]}.csv`,d.style.display="none",document.body.appendChild(d),d.click(),setTimeout(()=>{document.body.removeChild(d),URL.revokeObjectURL(h)},100)}catch(l){throw console.error("CSV export error:",l),new Error(`Failed to export CSV: ${l}`)}}static exportToPDF(a,r,l){try{if(!a||a.length===0)throw new Error("No data to export");const c=Object.keys(a[0]).filter(p=>{const b=a[0][p];return b!=null&&(typeof b!="object"||Array.isArray(b))}),o=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${l}</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      margin: 20px; 
      font-size: 12px;
      color: #333;
    }
    h1 { 
      color: #22c55e; 
      text-align: center; 
      margin-bottom: 10px;
      font-size: 24px;
    }
    table { 
      width: 100%; 
      border-collapse: collapse; 
      margin-top: 20px; 
      font-size: 11px;
    }
    th, td { 
      border: 1px solid #ddd; 
      padding: 6px; 
      text-align: left; 
      word-wrap: break-word;
      max-width: 150px;
    }
    th { 
      background-color: #22c55e; 
      color: white; 
      font-weight: bold; 
    }
    tr:nth-child(even) { background-color: #f8fafc; }
    .header { text-align: center; margin-bottom: 20px; }
    .timestamp { color: #666; font-size: 10px; }
    @media print { 
      body { margin: 0; }
      table { font-size: 10px; }
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>${l}</h1>
    <p class="timestamp">Generated on: ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>
  </div>
  
  <table>
    <thead>
      <tr>
        ${c.map(p=>`<th>${p}</th>`).join("")}
      </tr>
    </thead>
    <tbody>
      ${a.map(p=>`
        <tr>
          ${c.map(b=>{const N=p[b];let S="";return Array.isArray(N)?S=N.join(", "):typeof N=="object"&&N!==null?S=JSON.stringify(N):N==null?S="":S=String(N),`<td>${S}</td>`}).join("")}
        </tr>
      `).join("")}
    </tbody>
  </table>
</body>
</html>`;console.log("HTML content generated, length:",o.length);const h=new Blob([o],{type:"text/html;charset=utf-8;"}),d=URL.createObjectURL(h),f=document.createElement("a");f.href=d,f.download=`${r}_${new Date().toISOString().split("T")[0]}.html`,f.style.display="none",document.body.appendChild(f),f.click(),setTimeout(()=>{document.body.removeChild(f),URL.revokeObjectURL(d)},100),console.log("HTML export successful")}catch(c){throw console.error("HTML export error:",c),new Error(`Failed to export HTML: ${c}`)}}static async exportToZIP(a,r){try{console.log("Starting ZIP export:",{filename:r,dataKeys:Object.keys(a)});const l=new BN;Object.entries(a).forEach(([d,f])=>{if(f&&f.length>0)try{const p=this.convertToCSV(f);l.file(`${d}.csv`,p),console.log(`Added ${d}.csv with ${f.length} records`)}catch(p){console.warn(`Failed to add ${d}.csv:`,p)}});const c=await l.generateAsync({type:"blob"}),o=URL.createObjectURL(c),h=document.createElement("a");h.href=o,h.download=`${r}_${new Date().toISOString().split("T")[0]}.zip`,h.style.display="none",document.body.appendChild(h),h.click(),setTimeout(()=>{document.body.removeChild(h),URL.revokeObjectURL(o)},100),console.log("ZIP export successful")}catch(l){throw console.error("ZIP export error:",l),new Error(`Failed to export ZIP: ${l}`)}}static convertToCSV(a){if(!a||a.length===0)return"";const r=Object.keys(a[0]).filter(c=>{const o=a[0][c];return o!=null&&typeof o!="object"});return[r.join(","),...a.map(c=>r.map(o=>{const h=c[o];return typeof h=="string"&&(h.includes(",")||h.includes('"')||h.includes(`
`))?`"${h.replace(/"/g,'""')}"`:h}).join(","))].join(`
`)}static validateExportData(a){return Array.isArray(a)?a.length===0?(console.warn("Data array is empty"),!1):typeof a[0]!="object"||a[0]===null?(console.error("Data items are not objects"),!1):!0:(console.error("Data is not an array"),!1)}}const PN=()=>{const{toast:i}=cn(),{members:a,trainers:r,visitors:l,invoices:c,activities:o,sessions:h,followUps:d,clearAllData:f,importData:p}=Ja(),[b,N]=Me.useState(!1),[S,g]=Me.useState(!1),E=(q,P)=>{try{Lh.exportToCSV(P,`tristar_${q}`),i({title:"Export Successful",description:`${q} data exported to CSV successfully.`})}catch{i({title:"Export Failed",description:"Failed to export data. Please try again.",variant:"destructive"})}},w=(q,P)=>{try{Lh.exportToPDF(P,`tristar_${q}`,`TriStar Fitness - ${q}`),i({title:"Export Successful",description:`${q} data exported to PDF successfully.`})}catch{i({title:"Export Failed",description:"Failed to export data. Please try again.",variant:"destructive"})}},C=async()=>{N(!0);try{const q={members:a,trainers:r,visitors:l,invoices:c,activities:o,sessions:h,followUps:d};await Lh.exportAllData(q),i({title:"Export Successful",description:"All data exported successfully."})}catch{i({title:"Export Failed",description:"Failed to export all data. Please try again.",variant:"destructive"})}finally{N(!1)}},k=()=>{try{const q={members:a,trainers:r,visitors:l,invoices:c,activities:o,sessions:h,followUps:d};Lh.generateReport(q),i({title:"Report Generated",description:"Comprehensive report generated successfully."})}catch{i({title:"Report Generation Failed",description:"Failed to generate report. Please try again.",variant:"destructive"})}},D=q=>{const P=q.target.files?.[0];if(!P)return;g(!0);const B=new FileReader;B.onload=V=>{try{const F=V.target?.result,re=JSON.parse(F);p(re),i({title:"Import Successful",description:"Data imported successfully."})}catch{i({title:"Import Failed",description:"Invalid file format. Please check your file.",variant:"destructive"})}finally{g(!1)}},B.readAsText(P)},T=()=>{window.confirm("Are you sure you want to clear all data? This action cannot be undone.")&&(f(),i({title:"Data Cleared",description:"All data has been cleared successfully."}))},M=[{name:"Members",count:a.length,color:"bg-blue-500"},{name:"Trainers",count:r.length,color:"bg-green-500"},{name:"Visitors",count:l.length,color:"bg-yellow-500"},{name:"Invoices",count:c.length,color:"bg-purple-500"},{name:"Sessions",count:h.length,color:"bg-indigo-500"},{name:"Follow-ups",count:d.length,color:"bg-orange-500"},{name:"Activities",count:o.length,color:"bg-red-500"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Data Management"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Export, import, and manage your gym data"})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-7 gap-4",children:M.map(q=>n.jsx(rt,{className:"text-center bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-200 group hover:scale-105 cursor-pointer",children:n.jsxs(at,{className:"p-4",children:[n.jsx("div",{className:`w-12 h-12 ${q.color} rounded-full flex items-center justify-center mx-auto mb-2 group-hover:scale-110 transition-transform duration-200`,children:n.jsx(pu,{className:"w-6 h-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:q.name}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:q.count})]})},q.name))}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-200 shadow-md",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsxs(lt,{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[n.jsx(sc,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{children:"Export Data"})]})}),n.jsxs(at,{className:"space-y-6 p-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map(q=>n.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200 group hover:scale-105",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:q.name}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[q.count," records"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>E(q.name.toLowerCase(),q.name==="Members"?a:q.name==="Trainers"?r:q.name==="Visitors"?l:q.name==="Invoices"?c:q.name==="Sessions"?h:q.name==="Follow-ups"?d:o),className:"hover:bg-green-50 hover:text-green-700 hover:border-green-300 dark:hover:bg-green-900/30 dark:hover:text-green-300 transition-all duration-200 group/btn hover:scale-105",children:[n.jsx(Mn,{className:"w-4 h-4 group-hover/btn:animate-pulse"}),"CSV"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>w(q.name.toLowerCase(),q.name==="Members"?a:q.name==="Trainers"?r:q.name==="Visitors"?l:q.name==="Invoices"?c:q.name==="Sessions"?h:q.name==="Follow-ups"?d:o),className:"hover:bg-red-50 hover:text-red-700 hover:border-red-300 dark:hover:bg-red-900/30 dark:hover:text-red-300 transition-all duration-200 group/btn hover:scale-105",children:[n.jsx(Mn,{className:"h-4 w-4 group-hover/btn:animate-pulse"}),"HTML"]})]})]},q.name))}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-6",children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs(He,{onClick:C,disabled:b,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200 h-12 px-6",children:[b?n.jsx(Nm,{className:"w-5 h-5 animate-spin"}):n.jsx(cv,{className:"w-5 h-5"}),n.jsx("span",{className:"text-lg",children:b?"Exporting...":"Export All Data (ZIP)"})]}),n.jsxs(He,{onClick:k,variant:"outline",className:"flex items-center space-x-2 h-12 px-6 hover:scale-105 transition-transform duration-200 border-tristar-300 hover:border-tristar-500 hover:bg-tristar-50 dark:hover:bg-tristar-900/30",children:[n.jsx(Mn,{className:"w-5 h-5"}),n.jsx("span",{className:"text-lg",children:"Generate Report"})]})]})})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-200 shadow-md",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsxs(lt,{className:"flex items-center space-x-2 text-gray-900 dark:text-white",children:[n.jsx(m1,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"Import Data"})]})}),n.jsx(at,{className:"space-y-4 p-6",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("input",{type:"file",accept:".json",onChange:D,className:"hidden",id:"import-file"}),n.jsx("label",{htmlFor:"import-file",children:n.jsx(He,{variant:"outline",disabled:S,className:"flex items-center space-x-2 cursor-pointer h-12 px-6 hover:scale-105 transition-transform duration-200 border-blue-300 hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/30",asChild:!0,children:n.jsxs("span",{children:[S?n.jsx(Nm,{className:"w-5 h-5 animate-spin"}):n.jsx(m1,{className:"w-5 h-5"}),n.jsx("span",{className:"text-lg",children:S?"Importing...":"Import JSON File"})]})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Import previously exported data (JSON format)"}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:"This will merge imported data with existing data"})]})]})})]}),n.jsxs(rt,{className:"border-red-200 dark:border-red-800 bg-white dark:bg-gray-800 hover:shadow-lg transition-all duration-200 shadow-md",children:[n.jsx(st,{className:"border-b border-red-200 dark:border-red-800",children:n.jsxs(lt,{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[n.jsx(wu,{className:"w-5 h-5"}),n.jsx("span",{children:"Danger Zone"})]})}),n.jsx(at,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-red-600 dark:text-red-400 text-lg",children:"Clear All Data"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Permanently delete all gym data. This action cannot be undone."}),n.jsx("p",{className:"text-xs text-red-400 dark:text-red-300 mt-2",children:" This will remove all members, trainers, invoices, and other data"})]}),n.jsxs(He,{variant:"destructive",onClick:T,className:"flex items-center space-x-2 hover:scale-105 transition-transform duration-200 h-12 px-6",children:[n.jsx(ef,{className:"w-5 h-5"}),n.jsx("span",{children:"Clear All Data"})]})]})})]})]})},UN=()=>{const{user:i}=Pa(),{toast:a}=cn(),{followUps:r,members:l,addFollowUp:c,updateFollowUp:o}=Ja(),[h,d]=Me.useState(null),[f,p]=Me.useState(!1),[b,N]=Me.useState("all"),[S,g]=Me.useState(""),[E,w]=Me.useState({memberId:"",category:"member",type:"membership_expiry",notes:"",dueDate:"",priority:"medium"}),C=()=>{if(!E.memberId||!E.notes||!E.dueDate){a({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const A=l.find(j=>j.id===E.memberId);if(!A){a({title:"Error",description:"Selected member not found",variant:"destructive"});return}const H={memberId:E.memberId,memberName:A.name,category:E.category,type:E.type,status:"pending",priority:E.priority,dueDate:E.dueDate,notes:E.notes,contactInfo:{name:A.name,phone:A.phone,email:A.email}};c(H),w({memberId:"",category:"member",type:"membership_expiry",notes:"",dueDate:"",priority:"medium"}),p(!1),a({title:"Success",description:"New follow-up created successfully"})},k=A=>{a({title:"Call Initiated",description:`Calling ${A}...`}),window.open(`tel:${A}`,"_blank")},D=A=>{window.open(`mailto:${A}`,"_blank")},T=(A,H)=>{const j=r.find($=>$.id===A);if(j){if(H==="complete")o(A,{status:"completed",completedAt:new Date().toISOString()}),a({title:"Follow-up Completed",description:`Follow-up for ${j.memberName} marked as completed.`});else if(H==="snooze"){const $=new Date;$.setDate($.getDate()+3),o(A,{status:"snoozed",dueDate:$.toISOString().split("T")[0]}),a({title:"Follow-up Snoozed",description:`Follow-up for ${j.memberName} snoozed for 3 days.`})}}},M=A=>{switch(A){case"high":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},q=A=>{switch(A){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"in_progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"snoozed":return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},P=A=>{switch(A){case"membership_expiry":return n.jsx(ji,{className:"h-4 w-4"});case"payment_reminder":return n.jsx(Nd,{className:"h-4 w-4"});case"visit_reminder":return n.jsx(ic,{className:"h-4 w-4"});default:return n.jsx(Kh,{className:"h-4 w-4"})}},B=r.map(A=>({...A,type:A.type==="membership_expiry"?"membership_renewal":A.type})).filter(A=>{const H=A.memberName.toLowerCase().includes(S.toLowerCase())||A.notes.toLowerCase().includes(S.toLowerCase()),j=b==="all"||A.status===b;return H&&j}),V=r.filter(A=>A.status==="pending").length,F=r.filter(A=>A.status==="in_progress").length,re=r.filter(A=>A.status==="completed").length,U=r.length;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Follow-up Management"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track and manage member follow-ups"})]})}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-6 mb-6 text-white flex items-center justify-between shadow-lg",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Create New Follow-up"}),n.jsx("p",{className:"text-blue-100",children:"Schedule and manage follow-ups for members efficiently"})]}),n.jsxs(He,{onClick:()=>p(!0),className:"bg-white text-blue-600 hover:bg-blue-50 hover:scale-105 transition-transform duration-200",children:[n.jsx(Gi,{className:"h-5 w-5 mr-2"}),"Create Follow-up"]})]}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx(He,{variant:"outline",onClick:async()=>{const A=r||[],H=window.open("","_blank");if(!H)return;const j=`<!doctype html><title>Follow-ups</title><style>table{width:100%;border-collapse:collapse}th,td{border:1px solid #ccc;padding:6px;text-align:left}th{background:#f5f5f5}</style><h2>Follow-ups</h2><table><thead><tr>${Object.keys(A[0]||{}).map($=>`<th>${$}</th>`).join("")}</tr></thead><tbody>${A.map($=>`<tr>${Object.values($).map(W=>`<td>${W??""}</td>`).join("")}</tr>`).join("")}</tbody></table>`;H.document.write(j),H.document.close(),H.focus(),H.print()},children:"Print Data"}),n.jsx(He,{variant:"outline",onClick:async()=>{const H=af(r||[]),j=new Blob([H],{type:"text/csv;charset=utf-8;"}),$=URL.createObjectURL(j),W=document.createElement("a");W.href=$,W.download=`followups_${new Date().toISOString().slice(0,10)}.csv`,W.click(),URL.revokeObjectURL($)},children:"Export CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:n.jsxs(at,{className:"p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:U}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Follow-ups"})]})}),n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:n.jsxs(at,{className:"p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400",children:V}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pending"})]})}),n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:n.jsxs(at,{className:"p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:F}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"In Progress"})]})}),n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:n.jsxs(at,{className:"p-6 text-center",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:re}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed"})]})})]}),n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:n.jsx(at,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx(ot,{htmlFor:"search",className:"text-gray-700 dark:text-gray-300",children:"Search"}),n.jsx(gt,{id:"search",placeholder:"Search by member name or notes...",value:S,onChange:A=>g(A.target.value),className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"filter",className:"text-gray-700 dark:text-gray-300",children:"Status Filter"}),n.jsxs(bn,{value:b,onValueChange:A=>N(A),children:[n.jsx(ln,{className:"w-48 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:n.jsx(vn,{})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"all",children:"All Statuses"}),n.jsx(Vt,{value:"pending",children:"Pending"}),n.jsx(Vt,{value:"in_progress",children:"In Progress"}),n.jsx(Vt,{value:"completed",children:"Completed"})]})]})]})]})})}),f&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg animate-in slide-in-from-top-2 duration-300",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsx(lt,{className:"text-gray-900 dark:text-white",children:"Create New Follow-up"})}),n.jsxs(at,{className:"p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"memberId",className:"text-gray-700 dark:text-gray-300",children:"Member *"}),n.jsxs(bn,{value:E.memberId,onValueChange:A=>w(H=>({...H,memberId:A})),children:[n.jsx(ln,{className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:n.jsx(vn,{placeholder:"Select a member"})}),n.jsx(on,{children:l.map(A=>n.jsxs(Vt,{value:A.id,children:[A.name," - ",A.membershipType]},A.id))})]})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"type",className:"text-gray-700 dark:text-gray-300",children:"Type *"}),n.jsxs(bn,{value:E.type,onValueChange:A=>w(H=>({...H,type:A})),children:[n.jsx(ln,{className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:n.jsx(vn,{})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"membership_expiry",children:"Membership Expiry"}),n.jsx(Vt,{value:"payment_reminder",children:"Payment Reminder"}),n.jsx(Vt,{value:"visit_reminder",children:"Visit Reminder"})]})]})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"dueDate",className:"text-gray-700 dark:text-gray-300",children:"Due Date *"}),n.jsx(gt,{id:"dueDate",type:"date",value:E.dueDate,onChange:A=>w(H=>({...H,dueDate:A.target.value})),className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"priority",className:"text-gray-700 dark:text-gray-300",children:"Priority"}),n.jsxs(bn,{value:E.priority,onValueChange:A=>w(H=>({...H,priority:A})),children:[n.jsx(ln,{className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:n.jsx(vn,{})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"low",children:"Low"}),n.jsx(Vt,{value:"medium",children:"Medium"}),n.jsx(Vt,{value:"high",children:"High"})]})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx(ot,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-300",children:"Notes *"}),n.jsx(lc,{id:"notes",placeholder:"Enter follow-up details...",value:E.notes,onChange:A=>w(H=>({...H,notes:A.target.value})),className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white",rows:3})]}),n.jsxs("div",{className:"flex space-x-2 mt-6",children:[n.jsxs(He,{onClick:C,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Create Follow-up"]}),n.jsx(He,{variant:"outline",onClick:()=>p(!1),children:"Cancel"})]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 shadow-lg",children:[n.jsx(st,{className:"border-b border-gray-200 dark:border-gray-600",children:n.jsxs(lt,{className:"text-gray-900 dark:text-white",children:["Follow-ups (",B.length,")"]})}),n.jsx(at,{className:"p-6",children:B.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No follow-ups found matching your criteria."}):n.jsx("div",{className:"space-y-4",children:B.map(A=>{const H=l.find(j=>j.id===A.memberId);return n.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:P(A.type)}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:A.memberName}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{className:q(A.status),children:A.status.replace("_"," ")}),n.jsx(_r,{className:M(A.priority),children:A.priority})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("strong",{children:"Type:"})," ",A.type.replace("_"," ")]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("strong",{children:"Due Date:"})," ",Rn(vi(A.dueDate),"MMM dd, yyyy")]}),H&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("strong",{children:"Phone:"})," ",H.phone]}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("strong",{children:"Email:"})," ",H.email]})]})]}),n.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:[n.jsx("strong",{children:"Notes:"})," ",A.notes]}),n.jsx("div",{className:"flex items-center space-x-2",children:H&&n.jsxs(n.Fragment,{children:[n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>k(H.phone),className:"hover:bg-green-50 hover:text-green-700 hover:border-green-300 dark:hover:bg-green-900/30 dark:hover:text-green-300 transition-all duration-200",children:[n.jsx(wd,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>D(H.email),className:"hover:bg-blue-50 hover:text-blue-700 hover:border-blue-300 dark:hover:bg-blue-900/30 dark:hover:text-blue-300 transition-all duration-200",children:[n.jsx(Bm,{className:"h-4 w-4 mr-1"}),"Email"]})]})})]}),n.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[A.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(He,{size:"sm",onClick:()=>T(A.id,"complete"),className:"bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200",children:[n.jsx(Nu,{className:"h-4 w-4 mr-1"}),"Complete"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:()=>T(A.id,"snooze"),className:"hover:scale-105 transition-transform duration-200",children:[n.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Snooze"]})]}),A.status==="in_progress"&&n.jsxs(He,{size:"sm",onClick:()=>T(A.id,"complete"),className:"bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200",children:[n.jsx(Nu,{className:"h-4 w-4 mr-1"}),"Complete"]})]})]})},A.id)})})})]})]})},qN=()=>{const{user:i,isAuthenticated:a,isLoading:r,logout:l}=Pa(),c=()=>{const h=localStorage.getItem("tristar_fitness_user"),d=localStorage.getItem("auth_token");alert(`LocalStorage Check:
User: ${h?"Found":"Not Found"}
Token: ${d?"Found":"Not Found"}

User Data: ${h||"None"}
Token: ${d||"None"}`)},o=()=>{localStorage.removeItem("tristar_fitness_user"),localStorage.removeItem("auth_token"),alert("LocalStorage cleared! Refresh the page to see the effect.")};return n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs(rt,{children:[n.jsx(st,{children:n.jsx(lt,{children:"Authentication Test Page"})}),n.jsxs(at,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Current State:"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Loading:"})," ",r?"Yes":"No"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Authenticated:"})," ",a?"Yes":"No"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User:"})," ",i?i.name:"None"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Role:"})," ",i?i.role:"None"]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Actions:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(He,{onClick:c,variant:"outline",className:"w-full",children:"Check LocalStorage"}),n.jsx(He,{onClick:o,variant:"outline",className:"w-full",children:"Clear LocalStorage"}),n.jsx(He,{onClick:l,variant:"destructive",className:"w-full",children:"Logout"})]})]})]}),n.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Instructions:"}),n.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[n.jsx("li",{children:"Login with any demo account"}),n.jsx("li",{children:"Check that you're authenticated"}),n.jsx("li",{children:"Refresh the page (F5)"}),n.jsx("li",{children:"Verify you're still logged in"}),n.jsx("li",{children:'Use "Check LocalStorage" to see stored data'})]})]})]})]})})},HN=()=>{const{user:i,isAuthenticated:a,isLoading:r,isBackendAvailable:l}=Pa(),[c,o]=Me.useState({}),{members:h,addMember:d,clearAllData:f}=Ja(),{toast:p}=cn();Me.useEffect(()=>{const w=()=>{const k=localStorage.getItem("tristar_fitness_user"),D=localStorage.getItem("auth_token");o({savedUser:k?JSON.parse(k):null,savedToken:D,hasUser:!!k,hasToken:!!D})};w();const C=setInterval(w,1e3);return()=>clearInterval(C)},[]);const b=()=>{localStorage.clear(),window.location.reload()},N=()=>{p({title:"Demo Login Disabled",description:"Please use the proper login form with your credentials."})},S=()=>{p({title:"Test Member Disabled",description:"Please use the proper member registration form."})},g=()=>{p({title:"Data Clearing Disabled",description:"Data clearing is disabled in production mode."})},E=()=>{p({title:"Debug Store Disabled",description:"Debug store functionality is disabled in production mode."})};return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Debug & Testing Panel"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Test data store functionality and debug issues"})]}),n.jsxs(rt,{children:[n.jsx(st,{children:n.jsx(lt,{children:" Authentication Debug"})}),n.jsxs(at,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Current Auth State:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Loading:"})," ",r?" Yes":" No"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Authenticated:"})," ",a?" Yes":" No"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Backend Available:"})," ",l?" Yes":" No"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"User:"})," ",i?i.name:" None"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Role:"})," ",i?i.role:" None"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Username:"})," ",i?i.username:" None"]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"LocalStorage Data:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Has User:"})," ",c.hasUser?" Yes":" No"]}),n.jsxs("div",{children:[n.jsx("strong",{children:"Has Token:"})," ",c.hasToken?" Yes":" No"]})]}),c.savedUser&&n.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[n.jsx("strong",{children:"User Data:"}),n.jsx("pre",{children:JSON.stringify(c.savedUser,null,2)})]}),c.savedToken&&n.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[n.jsx("strong",{children:"Token:"})," ",c.savedToken]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Actions:"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(He,{onClick:N,variant:"outline",children:"Simulate Login"}),n.jsx(He,{onClick:b,variant:"destructive",children:"Clear Storage"}),n.jsx(He,{onClick:()=>window.location.reload(),variant:"outline",children:"Refresh Page"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{className:"text-gray-900 dark:text-white",children:"Data Store Status"})}),n.jsx(at,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:h.length}),n.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Members"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:h.filter(w=>w.status==="active").length}),n.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Active"})]}),n.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:h.filter(w=>w.status==="expired").length}),n.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Expired"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/30 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:h.filter(w=>w.status==="pending").length}),n.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:"Pending"})]})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{className:"text-gray-900 dark:text-white",children:"Test Actions"})}),n.jsx(at,{className:"space-y-4",children:n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx(He,{onClick:S,className:"bg-green-600 hover:bg-green-700 hover:scale-105 transition-transform duration-200",children:"Add Test Member"}),n.jsx(He,{onClick:E,variant:"outline",className:"hover:scale-105 transition-transform duration-200",children:"Debug Store"}),n.jsx(He,{onClick:g,variant:"destructive",className:"hover:scale-105 transition-transform duration-200",children:"Clear All Data"})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"text-gray-900 dark:text-white",children:["Current Members (",h.length,")"]})}),n.jsx(at,{children:h.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No members found. Add some test data to see them here."}):n.jsx("div",{className:"space-y-2",children:h.map(w=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:w.name}),n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[w.email,"  ",w.phone]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.membershipType}),n.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${w.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":w.status==="expired"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:w.status})]})]},w.id))})})]}),n.jsxs(rt,{className:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800",children:[n.jsx(st,{children:n.jsx(lt,{className:"text-blue-900 dark:text-blue-100",children:"Testing Instructions"})}),n.jsx(at,{className:"text-blue-800 dark:text-blue-200",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[n.jsx("li",{children:'Click "Simulate Login" to set demo data'}),n.jsx("li",{children:"Check if authentication state updates"}),n.jsx("li",{children:"Refresh the page (F5)"}),n.jsx("li",{children:"See if authentication persists"}),n.jsx("li",{children:"Check console for debug logs"}),n.jsx("li",{children:'Click "Add Test Member" to add a sample member to the store'}),n.jsx("li",{children:"Check the member count increases in the status section"}),n.jsx("li",{children:"Verify the new member appears in the members list"}),n.jsx("li",{children:"Go to Dashboard to see if the member count updates there"}),n.jsx("li",{children:"Go to Members page to see if the member appears there"}),n.jsx("li",{children:'Use "Debug Store" to see detailed store state in console'})]})})]})]})]})]})})},VN=()=>{const{user:i}=Pa(),{toast:a}=cn(),{members:r,checkIns:l,addCheckIn:c,addActivity:o}=Ja(),[h,d]=Me.useState(""),f=r.filter(w=>{if(w.status!=="active")return!1;const C=w.expiryDate||w.endDate;return C?new Date(C)>=new Date:!0}),p=f.filter(w=>w.name.toLowerCase().includes(h.toLowerCase())||w.phone.includes(h)||w.email.toLowerCase().includes(h.toLowerCase())),b=new Date().toDateString(),N=l.filter(w=>new Date(w.checkInTime).toDateString()===b),S=w=>N.filter(C=>C.memberId===w).length,g=async w=>{const C=r.find(D=>D.id===w);if(!C)return;if(C.status!=="active"||C.expiryDate&&new Date(C.expiryDate)<new Date){a({title:"Inactive Membership",description:"Only active members can be checked in.",variant:"destructive"});return}if(N.some(D=>D.memberId===w)){a({title:"Already Checked In",description:`${C.name} has already checked in today.`,variant:"destructive"});return}try{c({memberId:w,memberName:C.name,checkInTime:new Date().toISOString(),date:b});const T={totalVisits:(C.totalVisits||0)+1,lastVisit:new Date().toISOString(),updatedAt:new Date().toISOString()};await vs.updateMember(w,T),o({type:"checkin",action:"Member checked in",name:C.name,time:new Date().toISOString(),details:`Daily check-in at ${new Date().toLocaleTimeString()}`,memberId:w}),a({title:"Check-in Successful",description:`${C.name} has been checked in successfully!`})}catch(D){console.error("Failed to check in member:",D),a({title:"Error",description:"Failed to check in member. The check-in may not be properly saved.",variant:"destructive"})}},E={totalActiveMembers:f.length,checkedInToday:N.length,checkInRate:f.length>0?Math.round(N.length/f.length*100):0,averageCheckIns:N.length>0?Math.round(N.length/f.length*10)/10:0};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-lg",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Member Check-in"}),n.jsx("p",{className:"text-blue-100 mt-2",children:"Manage daily member check-ins and track attendance"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Members"}),n.jsx(Ni,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:E.totalActiveMembers}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total active memberships"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Checked In Today"}),n.jsx(Js,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:E.checkedInToday}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Members checked in"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Check-in Rate"}),n.jsx(Nd,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(at,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[E.checkInRate,"%"]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Today's attendance rate"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Average Check-ins"}),n.jsx(Qs,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:E.averageCheckIns}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Per member today"})]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Fm,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Search Members"})]})}),n.jsx(at,{children:n.jsx(gt,{placeholder:"Search by name, phone, or email...",value:h,onChange:w=>d(w.target.value),className:"w-full"})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(w=>{const C=S(w.id),k=C>0;return n.jsxs(rt,{className:`bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 transition-all duration-200 hover:shadow-lg ${k?"ring-2 ring-green-500":""}`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(lt,{className:"text-lg text-gray-900 dark:text-gray-100",children:w.name}),k?n.jsxs(_r,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[n.jsx(Nu,{className:"h-3 w-3 mr-1"}),"Checked In"]}):n.jsxs(_r,{variant:"outline",className:"text-gray-600 dark:text-gray-400",children:[n.jsx(ac,{className:"h-3 w-3 mr-1"}),"Not Checked In"]})]})}),n.jsxs(at,{className:"space-y-3",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",w.phone]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",w.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Membership:"})," ",w.membershipType]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Status:"}),n.jsx("span",{className:`ml-1 ${w.status==="active"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:w.status})]})]}),C>0&&n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[n.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[n.jsx("strong",{children:"Check-ins today:"})," ",C]}),n.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Last check-in: ",Rn(vi(N.find(D=>D.memberId===w.id)?.checkInTime||""),"HH:mm")]})]}),n.jsxs(He,{onClick:()=>g(w.id),disabled:k,className:`w-full ${k?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[n.jsx(Js,{className:"h-4 w-4 mr-2"}),k?"Already Checked In":"Check In"]})]})]},w.id)})}),N.length>0&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(ji,{className:"h-5 w-5 text-green-600"}),n.jsxs("span",{children:["Today's Check-ins (",N.length,")"]})]})}),n.jsx(at,{children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(w=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsx(Nu,{className:"h-5 w-5 text-green-600"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:w.memberName}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Rn(vi(w.checkInTime),"HH:mm")})]})]},w.id))})})]}),p.length===0&&n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:n.jsxs(at,{className:"text-center py-8",children:[n.jsx(Ni,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Members Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:h?"Try adjusting your search terms.":"No active members available for check-in."})]})})]})},GN=()=>{const{user:i}=Pa(),{members:a,invoices:r,checkIns:l,activities:c,followUps:o,proteins:h}=Ja(),d=uc(),f=r.filter(B=>B.status==="paid").reduce((B,V)=>B+(Number(V.amount_paid??V.amountPaid??V.total??V.amount)||0),0),p=h.reduce((B,V)=>B+V.sellingPrice*V.unitsSold,0),b=f+p,N=r.filter(B=>B.status==="pending").reduce((B,V)=>B+(Number(V.amount_remaining??0)||0),0),S=r.filter(B=>B.status==="overdue").reduce((B,V)=>B+(Number(V.amount_remaining??0)||0),0),g=h.reduce((B,V)=>B+(V.sellingPrice-V.basePrice)*V.unitsSold,0),E=[];for(let B=5;B>=0;B--){const V=p1(new Date,B*30),F=uv(V),re=dv(V),U=r.filter(A=>{const H=new Date(A.createdAt);return A.status==="paid"&&H>=F&&H<=re}).reduce((A,H)=>A+(Number(H.amount_paid??H.amountPaid??H.total??H.amount)||0),0);E.push({month:Rn(F,"MMM yyyy"),revenue:U})}const w=a.reduce((B,V)=>{const F=V.membershipType;return B[F]=(B[F]||0)+1,B},{}),C=new Date().toDateString(),k=l.filter(B=>new Date(B.checkInTime).toDateString()===C).length,D=l.filter(B=>{const V=new Date(B.checkInTime),F=p1(new Date,7);return V>=F}).length,T=a.filter(B=>B.status==="active").length,M=a.length,q=M>0?Math.round(T/M*100):0;M>0&&Math.round(l.length/M*10)/10;const P=async()=>{const B=async V=>{const F=await V.blob(),re=window.URL.createObjectURL(F),U=document.createElement("a");U.href=re,U.download=`analytics_export_${Rn(new Date,"yyyy-MM-dd_HH-mm-ss")}.xlsx`,document.body.appendChild(U),U.click(),U.remove(),window.URL.revokeObjectURL(re)};try{let V=await fetch("/api/analytics/export",{method:"POST",headers:{Authorization:"Bearer demo-static-token","Content-Type":"application/json"},body:JSON.stringify({members:a,invoices:r,activities:c})});if(!V.ok)throw new Error("POST export failed");await B(V)}catch{try{const F=await fetch("/api/analytics/export",{method:"GET",headers:{Authorization:"Bearer demo-static-token"}});if(!F.ok)throw new Error("GET export failed");await B(F)}catch(F){console.error(F)}}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 rounded-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Analytics Dashboard"}),n.jsx("p",{className:"text-purple-100 mt-2",children:"Business insights and performance metrics"})]}),n.jsxs(He,{onClick:P,variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",children:[n.jsx(sc,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/invoices"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),n.jsx(Wh,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(at,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["",b.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["",N.toLocaleString()," pending"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/members"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Members"}),n.jsx(Ni,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[q,"% retention rate"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/member-checkin"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Today's Check-ins"}),n.jsx(b0,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:k}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[D," this week"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105",onClick:()=>d("/followups"),children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Follow-ups"}),n.jsx(ac,{className:"h-4 w-4 text-orange-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:o.filter(B=>B.status==="pending").length}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Require attention"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Qh,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"Revenue Breakdown"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Membership Revenue"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"From memberships"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["",f.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r.filter(B=>B.status==="paid").length," invoices"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Protein Store Revenue"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"From supplement sales"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:["",p.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["",g.toLocaleString()," profit"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Total Revenue"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Combined revenue"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:["",b.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"All sources"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Pending Revenue"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Awaiting payment"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-xl font-bold text-yellow-600 dark:text-yellow-400",children:["",N.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r.filter(B=>B.status==="pending").length," invoices"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Overdue Revenue"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Past due date"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:["",S.toLocaleString()]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[r.filter(B=>B.status==="overdue").length," invoices"]})]})]})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(hv,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Membership Distribution"})]})}),n.jsx(at,{children:n.jsx("div",{className:"space-y-3",children:Object.entries(w).map(([B,V])=>{const F=M>0?Math.round(V/M*100):0;return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:B})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:V}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[F,"%"]})]})]},B)})})})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Nd,{className:"h-5 w-5 text-purple-600"}),n.jsx("span",{children:"Monthly Revenue Trend"})]})}),n.jsx(at,{children:n.jsx("div",{className:"space-y-4",children:E.map((B,V)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:B.month}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly revenue"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["",B.revenue.toLocaleString()]}),n.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-600 rounded-full h-2 mt-1",children:n.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${Math.min(100,B.revenue/Math.max(...E.map(F=>F.revenue),1)*100)}%`}})})]})]},B.month))})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Member Retention"})}),n.jsxs(at,{children:[n.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[q,"%"]}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[T," of ",M," members active"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Weekly Check-ins"})}),n.jsxs(at,{children:[n.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:D}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Check-ins in last 7 days"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Activities"})}),n.jsxs(at,{children:[n.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:c.length}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"All-time activities logged"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Js,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"Recent Check-ins"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[l.slice(-10).reverse().map(B=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:B.memberName}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:Rn(vi(B.checkInTime),"MMM dd, yyyy HH:mm")})]})]}),n.jsx(_r,{variant:"outline",className:"text-green-600 dark:text-green-400",children:"Checked In"})]},B.id)),l.length===0&&n.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[n.jsx(Js,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No check-ins recorded"})]})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(b0,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Recent Activities"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[c.slice(-10).reverse().map(B=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:B.action}),n.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[B.name,"  ",Rn(vi(B.time),"MMM dd, HH:mm")]})]})]},B.id)),c.length===0&&n.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:[n.jsx(b0,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No activities recorded"})]})]})})]})]})]})},YN=({formData:i,setFormData:a})=>{const r=(l,c)=>{a(o=>({...o,[l]:c}))};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Source of Inquiry"}),n.jsxs(bn,{value:i.source,onValueChange:l=>r("source",l),children:[n.jsx(ln,{children:n.jsx(vn,{placeholder:"How did they contact us?"})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"walk-in",children:"Walk-in"}),n.jsx(Vt,{value:"phone",children:"Phone"}),n.jsx(Vt,{value:"email",children:"Email"}),n.jsx(Vt,{value:"website",children:"Website"}),n.jsx(Vt,{value:"social_media",children:"Social Media"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Preferred Contact Method"}),n.jsxs(bn,{value:i.preferredContactMethod,onValueChange:l=>r("preferredContactMethod",l),children:[n.jsx(ln,{children:n.jsx(vn,{placeholder:"Select preferred contact method"})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"phone",children:"Phone"}),n.jsx(Vt,{value:"email",children:"Email"}),n.jsx(Vt,{value:"whatsapp",children:"WhatsApp"})]})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Best Time to Contact"}),n.jsx(gt,{type:"text",value:i.bestTimeToContact,onChange:l=>r("bestTimeToContact",l.target.value),placeholder:"e.g., Weekdays after 6 PM"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Inquiry Status"}),n.jsxs(bn,{value:i.conversionStatus,onValueChange:l=>r("conversionStatus",l),children:[n.jsx(ln,{children:n.jsx(vn,{placeholder:"Select status"})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"new",children:"New Inquiry"}),n.jsx(Vt,{value:"interested",children:"Interested"}),n.jsx(Vt,{value:"trial_scheduled",children:"Trial Scheduled"}),n.jsx(Vt,{value:"trial_completed",children:"Trial Completed"}),n.jsx(Vt,{value:"converted",children:"Converted to Member"}),n.jsx(Vt,{value:"lost",children:"Lost Opportunity"})]})]})]})]})},ZN=i=>i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),XN=i=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i),KN=i=>/^\+?[\d\s-()]{10,}$/.test(i),y5=i=>{const a={...i};return Object.keys(a).forEach(r=>{const l=a[r];typeof l=="string"?a[r]=ZN(l):typeof l=="object"&&l!==null&&(a[r]=y5(l))}),a},QN=i=>{const a=[];return i.contactInfo?.email&&!XN(i.contactInfo.email)&&a.push("Invalid email format"),i.contactInfo?.phone&&!KN(i.contactInfo.phone)&&a.push("Invalid phone number format"),i.preferredContactMethod==="whatsapp"&&!i.contactInfo?.phone&&a.push("Phone number is required for WhatsApp contact method"),a},JN=[{value:"member",label:"Member Related"},{value:"visitor",label:"Visitor & Inquiries"},{value:"facility",label:"Facility Management"},{value:"staff",label:"Staff Related"},{value:"equipment",label:"Equipment & Maintenance"},{value:"marketing",label:"Marketing & Events"},{value:"general",label:"General Tasks"}],WN={member:[{value:"membership_renewal",label:"Membership Renewal"},{value:"payment_reminder",label:"Payment Reminder"},{value:"visit_reminder",label:"Visit Reminder"},{value:"complaint",label:"Member Complaint"},{value:"inquiry",label:"Member Inquiry"}],visitor:[{value:"membership_inquiry",label:"Membership Inquiry"},{value:"trial_request",label:"Trial Session Request"},{value:"price_inquiry",label:"Pricing Inquiry"},{value:"facility_tour",label:"Facility Tour Request"},{value:"callback_request",label:"Callback Request"},{value:"general_inquiry",label:"General Inquiry"}],facility:[{value:"maintenance",label:"Maintenance Request"},{value:"repair",label:"Repair Work"},{value:"cleaning",label:"Cleaning Schedule"},{value:"renovation",label:"Renovation Task"}],staff:[{value:"training",label:"Staff Training"},{value:"schedule",label:"Schedule Management"},{value:"performance",label:"Performance Review"},{value:"complaint",label:"Staff Complaint"}],equipment:[{value:"maintenance",label:"Equipment Maintenance"},{value:"repair",label:"Equipment Repair"},{value:"inspection",label:"Safety Inspection"},{value:"inventory",label:"Inventory Check"}],marketing:[{value:"event",label:"Event Planning"},{value:"promotion",label:"Promotion Campaign"},{value:"social_media",label:"Social Media Task"},{value:"advertisement",label:"Advertisement"}],general:[{value:"general",label:"General Task"},{value:"other",label:"Other"}]},$N=({onClose:i})=>{const{members:a,addFollowUp:r}=Ja(),{toast:l}=cn(),{user:c}=Pa(),[o,h]=Me.useState(!1),[d,f]=Me.useState({category:"",type:"",memberId:"",contactInfo:{name:"",phone:"",email:""},notes:"",dueDate:new Date().toISOString().split("T")[0],priority:"medium",estimatedCost:"",assignedTo:"",tags:[],source:void 0,preferredContactMethod:void 0,bestTimeToContact:"",conversionStatus:"new"});Me.useEffect(()=>{c?.id&&f(N=>({...N,assignedTo:c.id}))},[c?.id]);const p=async()=>{try{h(!0);const N={Category:d.category,Type:d.type,Description:d.notes,"Due Date":d.dueDate},S=Object.entries(N).filter(([C,k])=>!k).map(([C])=>C);if(S.length>0){l({title:"Required Fields Missing",description:`Please fill in the following fields: ${S.join(", ")}`,variant:"destructive"});return}if(d.category==="visitor"){if(!d.source){l({title:"Required Fields Missing",description:"Please select the source of the visitor inquiry",variant:"destructive"});return}const C=QN(d);if(C.length>0){l({title:"Validation Error",description:C.join(`
`),variant:"destructive"});return}}const g=d.memberId?a.find(C=>C.id===d.memberId):null,E=y5(d),w={category:E.category,type:E.type,status:"pending",dueDate:E.dueDate,notes:E.notes,priority:E.priority,memberId:E.memberId||void 0,memberName:g?.name,contactInfo:E.contactInfo,assignedTo:E.assignedTo||void 0,estimatedCost:E.estimatedCost?parseFloat(E.estimatedCost):void 0,tags:E.tags,createdBy:c?.id,...E.category==="visitor"&&{source:E.source,preferredContactMethod:E.preferredContactMethod,bestTimeToContact:E.bestTimeToContact,conversionStatus:E.conversionStatus}};await r(w),l({title:"Success",description:"New follow-up task created successfully"}),i()}catch(N){console.error("Error creating follow-up:",N),l({title:"Error",description:"Failed to create follow-up. Please try again.",variant:"destructive"})}finally{h(!1)}},b=N=>{f(S=>({...S,category:N,type:"",memberId:N==="member"?S.memberId:""}))};return n.jsxs(rt,{className:"w-full max-w-4xl mx-auto p-2 sm:p-4 md:p-6",children:[n.jsx(st,{className:"space-y-2",children:n.jsx(lt,{className:"text-xl sm:text-2xl",children:"Create New Follow-up Task"})}),n.jsxs(at,{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"category",children:"Category *"}),n.jsxs(bn,{value:d.category,onValueChange:b,children:[n.jsx(ln,{children:n.jsx(vn,{placeholder:"Select category"})}),n.jsx(on,{children:JN.map(N=>n.jsx(Vt,{value:N.value,children:N.label},N.value))})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"type",children:"Type *"}),n.jsxs(bn,{value:d.type,onValueChange:N=>f(S=>({...S,type:N})),disabled:!d.category,children:[n.jsx(ln,{children:n.jsx(vn,{placeholder:"Select type"})}),n.jsx(on,{children:d.category&&WN[d.category]?.map(N=>n.jsx(Vt,{value:N.value,children:N.label},N.value))})]})]})]}),d.category==="member"&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"member",children:"Select Member"}),n.jsxs(bn,{value:d.memberId,onValueChange:N=>f(S=>({...S,memberId:N})),children:[n.jsx(ln,{children:n.jsx(vn,{placeholder:"Select a member"})}),n.jsx(on,{children:a.map(N=>n.jsxs(Vt,{value:N.id,children:[N.name," - ",N.membershipType]},N.id))})]})]}),d.category==="visitor"&&n.jsx(YN,{formData:d,setFormData:f}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Contact Name"}),n.jsx(gt,{value:d.contactInfo.name,onChange:N=>f(S=>({...S,contactInfo:{...S.contactInfo,name:N.target.value}})),placeholder:"Contact person's name"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Contact Phone"}),n.jsx(gt,{value:d.contactInfo.phone,onChange:N=>f(S=>({...S,contactInfo:{...S.contactInfo,phone:N.target.value}})),placeholder:"Contact phone number"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Contact Email"}),n.jsx(gt,{value:d.contactInfo.email,onChange:N=>f(S=>({...S,contactInfo:{...S.contactInfo,email:N.target.value}})),placeholder:"Contact email",type:"email"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"dueDate",children:"Due Date *"}),n.jsx(gt,{id:"dueDate",type:"date",value:d.dueDate,onChange:N=>f(S=>({...S,dueDate:N.target.value}))})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"priority",children:"Priority *"}),n.jsxs(bn,{value:d.priority,onValueChange:N=>f(S=>({...S,priority:N})),children:[n.jsx(ln,{children:n.jsx(vn,{})}),n.jsxs(on,{children:[n.jsx(Vt,{value:"low",children:"Low Priority"}),n.jsx(Vt,{value:"medium",children:"Medium Priority"}),n.jsx(Vt,{value:"high",children:"High Priority"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Estimated Cost (if any)"}),n.jsx(gt,{type:"number",value:d.estimatedCost,onChange:N=>f(S=>({...S,estimatedCost:N.target.value})),placeholder:"Enter amount"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{htmlFor:"notes",children:"Description/Notes *"}),n.jsx(lc,{id:"notes",placeholder:"Enter detailed description of the task or follow-up...",value:d.notes,onChange:N=>f(S=>({...S,notes:N.target.value})),rows:4})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ot,{children:"Tags (comma-separated)"}),n.jsx(gt,{placeholder:"Enter tags...",value:d.tags.join(", "),onChange:N=>f(S=>({...S,tags:N.target.value.split(",").map(g=>g.trim()).filter(Boolean)}))})]}),n.jsxs("div",{className:"flex flex-col-reverse sm:flex-row justify-end gap-2 sm:space-x-2 pt-4",children:[n.jsx(He,{onClick:p,className:"bg-green-600 hover:bg-green-700",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Create Follow-up"]})}),n.jsxs(He,{variant:"outline",onClick:i,disabled:o,children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]})},ej=()=>{const{user:i}=Pa(),{toast:a}=cn(),{followUps:r,members:l,updateFollowUp:c,addFollowUp:o,addActivity:h}=Ja(),[d,f]=Me.useState(""),[p,b]=Me.useState("all"),[N,S]=Me.useState(null),[g,E]=Me.useState(""),[w,C]=Me.useState(null),[k,D]=Me.useState(""),[T,M]=Me.useState(!1),P=r.map(ee=>({...ee,type:ee.type==="membership_expiry"?"membership_renewal":ee.type})).filter(ee=>{const ue=ee.memberName.toLowerCase().includes(d.toLowerCase())||ee.notes.toLowerCase().includes(d.toLowerCase()),ve=p==="all"||ee.status===p;return ue&&ve}).sort((ee,ue)=>{const ve=new Date(ee.dueDate),ce=new Date(ue.dueDate);return ve.getTime()-ce.getTime()}),B={total:r.length,pending:r.filter(ee=>ee.status==="pending").length,completed:r.filter(ee=>ee.status==="completed").length,overdue:r.filter(ee=>{const ue=new Date(ee.dueDate),ve=v0(new Date);return ee.status==="pending"&&w0(ue,ve)}).length},V=(ee,ue)=>{const ve=r.find(ce=>ce.id===ee);ve&&(c(ee,{status:ue,completedAt:ue==="completed"?new Date().toISOString():void 0}),h({type:"followup",action:`Follow-up ${ue}`,name:ve.memberName,time:new Date().toISOString(),details:`Follow-up ${ue} for ${ve.type}`,memberId:ve.memberId}),a({title:`Follow-up ${ue==="completed"?"Completed":"Cancelled"}`,description:`Follow-up for ${ve.memberName} has been ${ue}.`}))},F=(ee,ue)=>{S(ee),E(ue)},re=ee=>{c(ee,{notes:g}),S(null),E(""),a({title:"Notes Updated",description:"Follow-up notes have been updated successfully."})},U=(ee,ue)=>{C(ee),D(ue.split("T")[0]||ue)},A=ee=>{k&&(c(ee,{dueDate:k}),C(null),D(""),a({title:"Follow-up Updated",description:"Next follow-up date has been updated."}))},H=()=>{C(null),D("")},j=()=>{S(null),E("")},$=(ee,ue)=>{if(ee==="completed")return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";if(ee==="cancelled")return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";const ve=new Date(ue),ce=v0(new Date);return w0(ve,ce)?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},W=ee=>{switch(ee){case"payment_reminder":return n.jsx(ac,{className:"h-4 w-4 text-red-500"});case"membership_renewal":return n.jsx(ji,{className:"h-4 w-4 text-blue-500"});case"visit_reminder":return n.jsx(Kh,{className:"h-4 w-4 text-green-500"});default:return n.jsx(Qs,{className:"h-4 w-4 text-gray-500"})}},ie=ee=>{const ue=l.find(ae=>ae.id===ee);if(!ue)return null;const ve=new Date,z=new Date(ue.expiryDate||ue.endDate).getTime()-ve.getTime(),Q=Math.ceil(z/(1e3*60*60*24));return Q<0?{text:"EXPIRED",color:"text-red-600 bg-red-100",icon:""}:Q<=3?{text:`${Q} days left`,color:"text-red-600 bg-red-100",icon:""}:Q<=7?{text:`${Q} days left`,color:"text-orange-600 bg-orange-100",icon:""}:Q<=30?{text:`${Q} days left`,color:"text-yellow-600 bg-yellow-100",icon:""}:{text:`${Q} days left`,color:"text-green-600 bg-green-100",icon:""}};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 text-white p-6 rounded-lg",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Follow-up Management"}),n.jsx("p",{className:"text-yellow-100 mt-2",children:"Track and manage member follow-ups and tasks"})]}),n.jsxs(He,{onClick:()=>M(!0),className:"bg-white text-orange-600 hover:bg-orange-50",children:[n.jsx(Gi,{className:"h-5 w-5 mr-2"}),"Create New Follow-up"]})]})}),T&&n.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:n.jsx("div",{className:"max-w-2xl w-full",children:n.jsx($N,{onClose:()=>M(!1)})})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Follow-ups"}),n.jsx(Qs,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.total}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"All follow-ups"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"}),n.jsx(ac,{className:"h-4 w-4 text-yellow-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.pending}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Awaiting action"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed"}),n.jsx(Nu,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.completed}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Finished tasks"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Overdue"}),n.jsx(ac,{className:"h-4 w-4 text-red-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:B.overdue}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Past due date"})]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(fv,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Filters"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Fm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(gt,{placeholder:"Search by member name or notes...",value:d,onChange:ee=>f(ee.target.value),className:"pl-10"})]})}),n.jsx("div",{className:"flex gap-2",children:["all","pending","completed","cancelled"].map(ee=>n.jsx(He,{variant:p===ee?"default":"outline",onClick:()=>b(ee),className:"capitalize",children:ee},ee))})]})})]}),n.jsx("div",{className:"space-y-4",children:P.map(ee=>{const ue=l.find(ce=>ce.id===ee.memberId),ve=ee.status==="pending"&&w0(new Date(ee.dueDate),v0(new Date));return n.jsxs(rt,{className:`bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 ${ve?"ring-2 ring-red-500":""}`,children:[n.jsx(st,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[W(ee.type),n.jsxs("div",{children:[n.jsx(lt,{className:"text-lg text-gray-900 dark:text-gray-100",children:ee.memberName}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:ee.type.replace("_"," ")})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_r,{className:$(ee.status,ee.dueDate),children:ee.status}),ve&&n.jsx(_r,{variant:"destructive",children:"Overdue"}),ie(ee.memberId)&&n.jsxs(_r,{className:`px-2 py-1 text-xs font-semibold rounded-full ${ie(ee.memberId)?.color}`,children:[n.jsx("span",{className:"mr-1",children:ie(ee.memberId)?.icon}),ie(ee.memberId)?.text]})]})]})}),n.jsxs(at,{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Due Date"}),n.jsx("p",{className:"text-gray-900 dark:text-gray-100",children:Rn(vi(ee.dueDate),"dd MMM yyyy")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Member Contact"}),n.jsxs("p",{className:"text-gray-900 dark:text-gray-100",children:[ue?.phone||"N/A"," | ",ue?.email||"N/A"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Notes"}),ee.status==="pending"&&n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>F(ee.id,ee.notes),children:[n.jsx($h,{className:"h-3 w-3 mr-1"}),"Edit"]})]}),N===ee.id?n.jsxs("div",{className:"space-y-2",children:[n.jsx(lc,{value:g,onChange:ce=>E(ce.target.value),rows:3,placeholder:"Add notes for this follow-up..."}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(He,{size:"sm",onClick:()=>re(ee.id),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(wo,{className:"h-3 w-3 mr-1"}),"Save"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:j,children:[n.jsx(fu,{className:"h-3 w-3 mr-1"}),"Cancel"]})]})]}):n.jsx("p",{className:"text-gray-900 dark:text-gray-100 bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:ee.notes||"No notes available"})]}),ee.status==="pending"&&n.jsxs("div",{className:"flex space-x-2 pt-4 border-t",children:[n.jsxs(He,{onClick:()=>V(ee.id,"completed"),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Nu,{className:"h-4 w-4 mr-2"}),"Mark Complete"]}),w===ee.id?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"date",value:k,onChange:ce=>D(ce.target.value),className:"border rounded px-2 py-1 text-sm dark:bg-gray-700 dark:border-gray-600"}),n.jsxs(He,{size:"sm",onClick:()=>A(ee.id),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"})," Save"]}),n.jsxs(He,{size:"sm",variant:"outline",onClick:H,children:[n.jsx(fu,{className:"h-4 w-4 mr-2"})," Cancel"]})]}):n.jsxs(He,{variant:"outline",onClick:()=>U(ee.id,ee.dueDate),children:[n.jsx(ji,{className:"h-4 w-4 mr-2"})," Update Next Date"]}),n.jsxs(He,{variant:"outline",onClick:()=>V(ee.id,"cancelled"),children:[n.jsx(fu,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),ee.status==="completed"&&ee.completedAt&&n.jsx("div",{className:"pt-4 border-t",children:n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Completed on: ",Rn(vi(ee.completedAt),"dd MMM yyyy HH:mm")]})})]})]},ee.id)})}),P.length===0&&n.jsx(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:n.jsxs(at,{className:"text-center py-8",children:[n.jsx(Qs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Follow-ups Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d||p!=="all"?"Try adjusting your search or filter criteria.":"No follow-ups available at the moment."})]})})]})},tj=({onClose:i})=>{const[a,r]=Me.useState(""),[l,c]=Me.useState(!1),[o,h]=Me.useState("");Me.useEffect(()=>{window.electronAPI&&window.electronAPI.getDatabasePath().then(p=>{r(p)})},[]);const d=async()=>{c(!0),h("Exporting database...");try{if(window.electronAPI){const p=await window.electronAPI.exportDatabase();h(`Database exported to: ${p}`)}else{const p=await fetch("/api/export/db",{headers:{Authorization:"Bearer demo-static-token"}});if(!p.ok)throw new Error("Export failed");const b=await p.blob(),N=window.URL.createObjectURL(b),S=document.createElement("a");S.href=N,S.download=`tristar_backup_${new Date().toISOString().split("T")[0]}.db`,document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(N),h("Database exported successfully")}}catch(p){h(`Export failed: ${p}`)}finally{c(!1)}},f=async p=>{c(!0),h(`Exporting ${p} CSV...`);try{if(window.electronAPI){const b=await window.electronAPI.exportCSV(p),N=new Blob([b],{type:"text/csv"}),S=window.URL.createObjectURL(N),g=document.createElement("a");g.href=S,g.download=`${p}_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(S),h(`${p} CSV exported successfully`)}else{const b=await fetch(`/api/export/csv/${p}`,{headers:{Authorization:"Bearer demo-static-token"}});if(!b.ok)throw new Error("CSV export failed");const N=await b.blob(),S=window.URL.createObjectURL(N),g=document.createElement("a");g.href=S,g.download=`${p}_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(g),g.click(),g.remove(),window.URL.revokeObjectURL(S),h(`${p} CSV exported successfully`)}}catch(b){h(`CSV export failed: ${b}`)}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs(rt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(st,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pu,{className:"h-5 w-5"}),n.jsx(lt,{children:"Database Settings"})]}),n.jsx(He,{variant:"ghost",size:"sm",onClick:i,children:""})]}),n.jsx(py,{children:"Manage your TriStar Fitness database and exports"})]}),n.jsxs(at,{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Database Location"}),n.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[n.jsx(pu,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("code",{className:"text-sm text-muted-foreground flex-1 truncate",children:a||"Loading..."}),n.jsx(_r,{variant:"secondary",children:"SQLite"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Export Options"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Full Database Backup"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Export the complete database as a .db file"}),n.jsxs(He,{onClick:d,disabled:l,className:"w-full",children:[n.jsx(sc,{className:"h-4 w-4 mr-2"}),l?"Exporting...":"Export Database"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Export All (ZIP)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Download all tables as CSV files inside one ZIP"}),n.jsxs(He,{variant:"default",onClick:async()=>{c(!0),h("Preparing ZIP export...");try{const p=await fetch("/api/export/all.zip",{headers:{Authorization:"Bearer demo-static-token"}});if(!p.ok)throw new Error("Export failed");const b=await p.blob(),N=window.URL.createObjectURL(b),S=document.createElement("a");S.href=N,S.download=`tristar_export_${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(N),h("ZIP exported successfully")}catch(p){h(`ZIP export failed: ${p}`)}finally{c(!1)}},disabled:l,className:"w-full",children:[n.jsx(sc,{className:"h-4 w-4 mr-2"}),l?"Exporting...":"Export All (ZIP)"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"text-sm font-medium",children:"CSV Exports"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Export individual tables as CSV files"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>f("members"),disabled:l,children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Members"]}),n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>f("visitors"),disabled:l,children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Visitors"]}),n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>f("payments"),disabled:l,children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Payments"]}),n.jsxs(He,{variant:"outline",size:"sm",onClick:()=>f("invoices"),disabled:l,children:[n.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Invoices"]})]})]})]}),o&&n.jsx("div",{className:"p-3 bg-muted rounded-lg",children:n.jsx("p",{className:"text-sm text-muted-foreground",children:o})}),n.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-2",children:[n.jsx(Jh,{className:"h-4 w-4 text-blue-600 mt-0.5"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Database Information"}),n.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your data is stored locally in an SQLite database. Regular backups are recommended for data safety."})]})]})})]})]})})},rj=()=>{const{user:i}=Pa(),{toast:a}=cn(),{pricing:r,setPricing:l,termsAndConditions:c,setTermsAndConditions:o,refreshData:h}=Ja(),[d,f]=Me.useState({name:"TRI-STAR FITNESS",address:"SAPNA SANGEETA MAIN ROAD NEXT TO LOTUS ELECTRONICS, INDORE",phone:"7693006066, 8103199510",email:"tristarfitness26@gmail.com",website:"www.tristarfitness.com",timings:"Morning: 6:30 AM - 11:00 AM, Evening: 4:30 PM - 10:00 PM",establishedYear:"2020",capacity:"200",monthlyFee:String(r.monthlyFee),quarterlyFee:String(r.quarterlyFee),halfYearlyFee:String(r.halfYearlyFee),yearlyFee:String(r.yearlyFee),personalTrainingFee:String(r.personalTrainingFee)}),[p,b]=Me.useState(!1),[N,S]=Me.useState(c),[g,E]=Me.useState(!1),w=()=>{a({title:"Settings Saved",description:"Gym settings have been updated successfully."})},C=()=>{l({monthlyFee:Number(d.monthlyFee)||0,quarterlyFee:Number(d.quarterlyFee)||0,halfYearlyFee:Number(d.halfYearlyFee)||0,yearlyFee:Number(d.yearlyFee)||0,personalTrainingFee:Number(d.personalTrainingFee)||0}),a({title:"Pricing Saved",description:"Pricing updated across the app."})},k=()=>{o(N),a({title:"Terms Updated",description:"Invoice terms & conditions have been saved."})},D=async()=>{E(!0);try{await h(),a({title:"Data Refreshed",description:"All data has been refreshed from the database successfully."})}catch{a({title:"Refresh Failed",description:"Failed to refresh data. Please try again."})}finally{E(!1)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-lg",children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),n.jsx("p",{className:"text-indigo-100 mt-2",children:"Manage gym configuration and preferences"})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(mv,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{children:"Gym Information"})]})}),n.jsxs(at,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"gymName",children:"Gym Name"}),n.jsx(gt,{id:"gymName",value:d.name,onChange:T=>f(M=>({...M,name:T.target.value})),placeholder:"Enter gym name"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"establishedYear",children:"Established Year"}),n.jsx(gt,{id:"establishedYear",value:d.establishedYear,onChange:T=>f(M=>({...M,establishedYear:T.target.value})),placeholder:"2020"})]})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"address",children:"Address"}),n.jsx(lc,{id:"address",value:d.address,onChange:T=>f(M=>({...M,address:T.target.value})),placeholder:"Enter complete gym address",rows:3})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"phone",children:"Phone Number"}),n.jsx(gt,{id:"phone",value:d.phone,onChange:T=>f(M=>({...M,phone:T.target.value})),placeholder:"+91 98765 43210"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"email",children:"Email Address"}),n.jsx(gt,{id:"email",type:"email",value:d.email,onChange:T=>f(M=>({...M,email:T.target.value})),placeholder:"info@tristarfitness.com"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"website",children:"Website"}),n.jsx(gt,{id:"website",value:d.website,onChange:T=>f(M=>({...M,website:T.target.value})),placeholder:"www.tristarfitness.com"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"timings",children:"Operating Hours"}),n.jsx(gt,{id:"timings",value:d.timings,onChange:T=>f(M=>({...M,timings:T.target.value})),placeholder:"6:00 AM - 10:00 PM"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"capacity",children:"Gym Capacity"}),n.jsx(gt,{id:"capacity",value:d.capacity,onChange:T=>f(M=>({...M,capacity:T.target.value})),placeholder:"200"})]})}),n.jsxs(He,{onClick:w,className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),"Save Gym Information"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Wh,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"Membership Pricing"})]})}),n.jsxs(at,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"monthlyFee",children:"Monthly Fee ()"}),n.jsx(gt,{id:"monthlyFee",value:d.monthlyFee,onChange:T=>f(M=>({...M,monthlyFee:T.target.value})),placeholder:"1000"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"quarterlyFee",children:"Quarterly Fee ()"}),n.jsx(gt,{id:"quarterlyFee",value:d.quarterlyFee,onChange:T=>f(M=>({...M,quarterlyFee:T.target.value})),placeholder:"2500"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"halfYearlyFee",children:"Half Yearly Fee ()"}),n.jsx(gt,{id:"halfYearlyFee",value:d.halfYearlyFee,onChange:T=>f(M=>({...M,halfYearlyFee:T.target.value})),placeholder:"4500"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"yearlyFee",children:"Yearly Fee ()"}),n.jsx(gt,{id:"yearlyFee",value:d.yearlyFee,onChange:T=>f(M=>({...M,yearlyFee:T.target.value})),placeholder:"8500"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"personalTrainingFee",children:"Personal Training ()"}),n.jsx(gt,{id:"personalTrainingFee",value:d.personalTrainingFee,onChange:T=>f(M=>({...M,personalTrainingFee:T.target.value})),placeholder:"5500"})]})]}),n.jsxs(He,{onClick:C,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),"Save Pricing"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(pu,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{children:"Invoice Terms & Conditions"})]})}),n.jsxs(at,{className:"space-y-4",children:[n.jsx(lc,{value:N,onChange:T=>S(T.target.value),rows:6,placeholder:"Enter terms & conditions shown at the bottom of invoices",className:"dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),n.jsxs(He,{onClick:k,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(wo,{className:"h-4 w-4 mr-2"}),"Save Terms & Conditions"]})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(pu,{className:"h-5 w-5 text-gray-600"}),n.jsx("span",{children:"Database Management"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your local database, view database location, and export data for backup purposes."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs(He,{onClick:()=>b(!0),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(pu,{className:"h-4 w-4 mr-2"}),"Open Database Settings"]}),n.jsxs(He,{onClick:D,disabled:g,className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Nm,{className:`h-4 w-4 mr-2 ${g?"animate-spin":""}`}),g?"Refreshing...":"Refresh Data"]})]})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2",children:[n.jsx(Jh,{className:"h-5 w-5 text-gray-600"}),n.jsx("span",{children:"System Information"})]})}),n.jsx(at,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Application Version"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"v1.0.0"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Last Updated"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Database Status"}),n.jsx(_r,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Connected"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"User Role"}),n.jsx(_r,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 capitalize",children:i?.role})]})]})})]}),p&&n.jsx(tj,{onClose:()=>b(!1)})]})},aj=()=>{const{user:i}=Pa(),{toast:a}=cn(),{proteins:r,addProtein:l,updateProtein:c,deleteProtein:o,recordProteinSale:h}=Ja(),d=bo(i),[f,p]=Me.useState(!1),[b,N]=Me.useState(null),[S,g]=Me.useState(null),[E,w]=Me.useState({name:"",basePrice:"",sellingPrice:"",quantityInStock:"",supplierName:"",expiryDate:""}),[C,k]=Me.useState({unitsSold:""}),D=r.length,T=r.reduce((j,$)=>j+($.quantityInStock||0),0),M=r.reduce((j,$)=>j+$.sellingPrice*($.unitsSold||0),0),q=r.reduce((j,$)=>j+($.sellingPrice-$.basePrice)*($.unitsSold||0),0),P=r.filter(j=>j.quantityInStock<5),B=r.filter(j=>{if(!j.expiryDate)return!1;const $=new Date(j.expiryDate),W=new Date,ie=$.getTime()-W.getTime(),ee=Math.ceil(ie/(1e3*60*60*24));return ee<=30&&ee>0}),V=async j=>{if(j.preventDefault(),parseFloat(E.sellingPrice)<=parseFloat(E.basePrice)){a({title:"Invalid Pricing",description:"Selling price must be higher than base price",variant:"destructive"});return}const $={name:E.name,basePrice:parseFloat(E.basePrice),sellingPrice:parseFloat(E.sellingPrice),quantityInStock:parseInt(E.quantityInStock),supplierName:E.supplierName||void 0,expiryDate:E.expiryDate||void 0,unitsSold:0};try{b?(c(b,$),a({title:"Product Updated",description:"Protein product updated successfully"}),N(null)):(l($),a({title:"Product Added",description:"Protein product added successfully"})),w({name:"",basePrice:"",sellingPrice:"",quantityInStock:"",supplierName:"",expiryDate:""}),p(!1)}catch{a({title:"Error",description:"Failed to save product",variant:"destructive"})}},F=j=>{N(j.id),w({name:j.name,basePrice:j.basePrice.toString(),sellingPrice:j.sellingPrice.toString(),quantityInStock:j.quantityInStock.toString(),supplierName:j.supplierName||"",expiryDate:j.expiryDate||""}),p(!0)},re=(j,$)=>{window.confirm(`Are you sure you want to delete "${$}"?`)&&(o(j),a({title:"Product Deleted",description:`${$} has been removed`}))},U=async j=>{j.preventDefault();const $=parseInt(C.unitsSold);if($<=0){a({title:"Invalid Quantity",description:"Units sold must be greater than 0",variant:"destructive"});return}const W=r.find(ie=>ie.id===S);if(W){if(W.quantityInStock<$){a({title:"Insufficient Stock",description:`Only ${W.quantityInStock} units available`,variant:"destructive"});return}try{h(S,$),a({title:"Sale Recorded",description:`Sold ${$} units of ${W.name}`}),k({unitsSold:""}),g(null)}catch{a({title:"Error",description:"Failed to record sale",variant:"destructive"})}}},A=async()=>{try{const j=r||[],$=window.open("","_blank");$&&($.document.write(`
          <html>
            <head>
              <title>Protein Store - Tri Star Fitness</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 20px; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                th { background-color: #f2f2f2; }
                .header { text-align: center; margin-bottom: 20px; }
              </style>
            </head>
            <body>
              <div class="header">
                <h1>Tri Star Fitness - Protein Store</h1>
                <p>Generated on: ${new Date().toLocaleDateString()}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    {canSeeProfit && <th>Base Price</th>}
                    <th>Selling Price</th>
                    {canSeeProfit && <th>Margin</th>}
                    <th>Stock</th>
                    <th>Units Sold</th>
                    {canSeeProfit && <th>Profit</th>}
                  </tr>
                </thead>
                <tbody>
                  ${j.map(W=>`
                    <tr>
                      <td>${W.name}</td>
                      ${d?`<td>${W.basePrice}</td>`:""}
                      <td>${W.sellingPrice}</td>
                      ${d?`<td>${W.sellingPrice-W.basePrice}</td>`:""}
                      <td>${W.quantityInStock}</td>
                      <td>${W.unitsSold}</td>
                      ${d?`<td>${(W.sellingPrice-W.basePrice)*W.unitsSold}</td>`:""}
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </body>
          </html>
        `),$.document.close(),$.print())}catch{a({title:"Print Error",description:"Failed to load data for printing",variant:"destructive"})}},H=async()=>{try{const $=(r||[]).map(ve=>{const ce={"Product Name":ve.name,"Selling Price":ve.sellingPrice,Stock:ve.quantityInStock,"Units Sold":ve.unitsSold,Supplier:ve.supplierName||"","Expiry Date":ve.expiryDate||"","Last Updated":ve.updatedAt};return d?{...ce,"Base Price":ve.basePrice,Margin:ve.sellingPrice-ve.basePrice,Profit:(ve.sellingPrice-ve.basePrice)*ve.unitsSold}:ce}),W=af($),ie=new Blob([W],{type:"text/csv"}),ee=window.URL.createObjectURL(ie),ue=document.createElement("a");ue.href=ee,ue.download=`protein-store-${new Date().toISOString().split("T")[0]}.csv`,ue.click(),window.URL.revokeObjectURL(ee),a({title:"Export Successful",description:"CSV file downloaded"})}catch{a({title:"Export Error",description:"Failed to export data",variant:"destructive"})}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Protein Store"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your supplement inventory and sales"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(He,{onClick:A,variant:"outline",size:"sm",children:[n.jsx(pv,{className:"h-4 w-4 mr-2"}),"Print Data"]}),n.jsxs(He,{onClick:H,variant:"outline",size:"sm",children:[n.jsx(sc,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),i?.role==="owner"&&n.jsxs(He,{onClick:()=>p(!0),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Products"}),n.jsx(mu,{className:"h-4 w-4 text-blue-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:D}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Active products"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Stock"}),n.jsx(mu,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(at,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:T}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Units in inventory"})]})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),n.jsx(Wh,{className:"h-4 w-4 text-green-600"})]}),n.jsxs(at,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["",M.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"From protein sales"})]})]}),d&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsxs(st,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(lt,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Profit"}),n.jsx(Nd,{className:"h-4 w-4 text-purple-600"})]}),n.jsxs(at,{children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["",q.toLocaleString()]}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Net profit margin"})]})]})]}),(P.length>0||B.length>0)&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[P.length>0&&n.jsxs(rt,{className:"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2 text-red-800 dark:text-red-200",children:[n.jsx(wu,{className:"h-5 w-5"}),n.jsx("span",{children:"Low Stock Alert"})]})}),n.jsx(at,{children:n.jsx("div",{className:"space-y-2",children:P.map(j=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-red-700 dark:text-red-300",children:j.name}),n.jsxs(_r,{variant:"destructive",children:[j.quantityInStock," left"]})]},j.id))})})]}),B.length>0&&n.jsxs(rt,{className:"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:[n.jsx(st,{children:n.jsxs(lt,{className:"flex items-center space-x-2 text-yellow-800 dark:text-yellow-200",children:[n.jsx(ji,{className:"h-5 w-5"}),n.jsx("span",{children:"Expiry Alert"})]})}),n.jsx(at,{children:n.jsx("div",{className:"space-y-2",children:B.map(j=>{const $=new Date(j.expiryDate),W=new Date,ie=$.getTime()-W.getTime(),ee=Math.ceil(ie/(1e3*60*60*24));return n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-yellow-700 dark:text-yellow-300",children:j.name}),n.jsxs(_r,{variant:"secondary",children:[ee," days left"]})]},j.id)})})})]})]}),f&&n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{children:b?"Edit Product":"Add New Product"})}),n.jsx(at,{children:n.jsxs("form",{onSubmit:V,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"name",children:"Product Name *"}),n.jsx(gt,{id:"name",value:E.name,onChange:j=>w({...E,name:j.target.value}),placeholder:"e.g., Whey Protein 1kg",required:!0})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"supplierName",children:"Supplier Name"}),n.jsx(gt,{id:"supplierName",value:E.supplierName,onChange:j=>w({...E,supplierName:j.target.value}),placeholder:"Optional"})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"basePrice",children:"Base Price (Cost) *"}),n.jsx(gt,{id:"basePrice",type:"number",step:"0.01",value:E.basePrice,onChange:j=>w({...E,basePrice:j.target.value}),placeholder:"1500",required:!0})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"sellingPrice",children:"Selling Price *"}),n.jsx(gt,{id:"sellingPrice",type:"number",step:"0.01",value:E.sellingPrice,onChange:j=>w({...E,sellingPrice:j.target.value}),placeholder:"2000",required:!0})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"quantityInStock",children:"Quantity in Stock *"}),n.jsx(gt,{id:"quantityInStock",type:"number",value:E.quantityInStock,onChange:j=>w({...E,quantityInStock:j.target.value}),placeholder:"50",required:!0})]}),n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"expiryDate",children:"Expiry Date"}),n.jsx(gt,{id:"expiryDate",type:"date",value:E.expiryDate,onChange:j=>w({...E,expiryDate:j.target.value})})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(He,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:b?"Update Product":"Add Product"}),n.jsx(He,{type:"button",variant:"outline",onClick:()=>{p(!1),N(null),w({name:"",basePrice:"",sellingPrice:"",quantityInStock:"",supplierName:"",expiryDate:""})},children:"Cancel"})]})]})})]}),n.jsxs(rt,{className:"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{children:"Product Inventory"})}),n.jsx(at,{children:r.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(mu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No Products"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Add your first protein product to get started"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Product"}),d&&n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Cost Price"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Selling Price"}),d&&n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Margin"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Stock"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Units Sold"}),d&&n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Profit"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-gray-100",children:"Actions"})]})}),n.jsx("tbody",{children:r.map(j=>{const $=j.sellingPrice-j.basePrice,W=$*j.unitsSold,ie=j.quantityInStock<5;return n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:j.name}),j.supplierName&&n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:j.supplierName})]})}),d&&n.jsxs("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:["",j.basePrice]}),n.jsxs("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:["",j.sellingPrice]}),d&&n.jsxs("td",{className:"py-3 px-4 text-green-600 dark:text-green-400",children:["",$]}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:ie?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-gray-100",children:j.quantityInStock}),ie&&n.jsx(_r,{variant:"destructive",className:"text-xs",children:"Low"})]})}),n.jsx("td",{className:"py-3 px-4 text-gray-900 dark:text-gray-100",children:j.unitsSold}),d&&n.jsxs("td",{className:"py-3 px-4 text-green-600 dark:text-green-400",children:["",W]}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(He,{size:"sm",variant:"outline",onClick:()=>g(j.id),disabled:j.quantityInStock===0,children:n.jsx(gv,{className:"h-3 w-3"})}),i?.role==="owner"&&n.jsxs(n.Fragment,{children:[n.jsx(He,{size:"sm",variant:"outline",onClick:()=>F(j),children:n.jsx($h,{className:"h-3 w-3"})}),n.jsx(He,{size:"sm",variant:"outline",onClick:()=>re(j.id,j.name),children:n.jsx(ef,{className:"h-3 w-3"})})]})]})})]},j.id)})})]})})})]}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs(rt,{className:"w-full max-w-md bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[n.jsx(st,{children:n.jsx(lt,{children:"Record Sale"})}),n.jsx(at,{children:n.jsxs("form",{onSubmit:U,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(ot,{htmlFor:"unitsSold",children:"Units Sold"}),n.jsx(gt,{id:"unitsSold",type:"number",value:C.unitsSold,onChange:j=>k({unitsSold:j.target.value}),placeholder:"Enter quantity",required:!0})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(He,{type:"submit",className:"bg-green-600 hover:bg-green-700",children:"Record Sale"}),n.jsx(He,{type:"button",variant:"outline",onClick:()=>{g(null),k({unitsSold:""})},children:"Cancel"})]})]})})]})})]})},nj=()=>{const i=Ja();if(!i){console.log("DataStore not available yet, skipping initialization");return}const{members:a,trainers:r,visitors:l,invoices:c,followUps:o,activities:h,proteins:d,initializeDemoData:f,importData:p}=i;Me.useEffect(()=>{const b=async()=>{try{const[g,E,w,C,k,D,T]=await Promise.all([ti("members"),ti("trainers"),ti("visitors"),ti("invoices"),ti("followups"),ti("activities"),ti("proteins")]);return g.length||E.length||w.length||C.length||k.length||D.length||T.length?(console.log("Loading fresh data from backend..."),p(JSON.stringify({members:g,trainers:E,visitors:w,invoices:C,followUps:k,activities:D,proteins:T})),!0):!1}catch(g){return console.error("Failed to load backend data:",g),!1}},N=async()=>{console.log("Attempting to load fresh data from backend..."),await b()||(console.log("No backend data found, initializing empty data store..."),f())},S=setTimeout(()=>{N()},100);return()=>clearTimeout(S)},[])};function ij(){return n.jsx(Pw,{children:n.jsx(Bw,{children:n.jsx(sj,{})})})}function sj(){nj();const i=Ja();if(!i)return n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loading..."}),n.jsx("p",{className:"text-gray-600",children:"Initializing application..."})]})});const{autoExpireMembers:a}=i;return Me.useEffect(()=>{(async()=>{try{a&&await a()}catch(l){console.warn("Auto-expire failed:",l)}})()},[a]),Me.useEffect(()=>{const r=()=>{console.log("App is closing, ensuring data is saved...")};return window.addEventListener("beforeunload",r),()=>{window.removeEventListener("beforeunload",r)}},[]),n.jsx(Qb,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[n.jsxs(Jb,{children:[n.jsx(Fa,{path:"/",element:n.jsx(E1,{})}),n.jsx(Fa,{path:"/login",element:n.jsx(E1,{})}),n.jsx(Fa,{path:"/dashboard",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(d4,{})})})}),n.jsx(Fa,{path:"/members",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(h4,{})})})}),n.jsx(Fa,{path:"/add-member",element:n.jsx(fn,{requiredRole:"semi-admin",children:n.jsx(mn,{children:n.jsx(f4,{})})})}),n.jsx(Fa,{path:"/edit-member/:id",element:n.jsx(fn,{requiredRole:"semi-admin",children:n.jsx(mn,{children:n.jsx(g4,{})})})}),n.jsx(Fa,{path:"/visitors",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(P4,{})})})}),n.jsx(Fa,{path:"/profile",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(U4,{})})})}),n.jsx(Fa,{path:"/invoices",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(zN,{})})})}),n.jsx(Fa,{path:"/data-management",element:n.jsx(fn,{requiredRole:"owner",children:n.jsx(mn,{children:n.jsx(PN,{})})})}),n.jsx(Fa,{path:"/followup",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(UN,{})})})}),n.jsx(Fa,{path:"/debug",element:n.jsx(fn,{requiredRole:"owner",children:n.jsx(mn,{children:n.jsx(HN,{})})})}),n.jsx(Fa,{path:"/auth-test",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(qN,{})})})}),n.jsx(Fa,{path:"/member-checkin",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(VN,{})})})}),n.jsx(Fa,{path:"/analytics",element:n.jsx(fn,{requiredRole:"owner",children:n.jsx(mn,{children:n.jsx(GN,{})})})}),n.jsx(Fa,{path:"/followups",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(ej,{})})})}),n.jsx(Fa,{path:"/protein-store",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(aj,{})})})}),n.jsx(Fa,{path:"/settings",element:n.jsx(fn,{children:n.jsx(mn,{children:n.jsx(rj,{})})})}),n.jsx(Fa,{path:"*",element:n.jsx(n4,{})})]}),n.jsx(Ew,{})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/tristar-fitness-clean/sw.js").then(a=>{console.log("SW registered: ",a)}).catch(a=>{console.log("SW registration failed: ",a)})});function lj({error:i,resetErrorBoundary:a}){return console.error("Error caught by boundary:",i),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-gray-600 mb-4",children:i.message}),n.jsx("button",{onClick:a,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Try again"})]})})}const b5=document.getElementById("root");if(!b5)throw new Error("Root element not found");const oj=wv.createRoot(b5);oj.render(n.jsx(jv,{FallbackComponent:lj,children:n.jsx(ij,{})}));export{kr as _};
